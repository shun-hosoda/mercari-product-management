!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a116dfcc-c231-410f-a4cb-9d3ca62822a4",e._sentryDebugIdIdentifier="sentry-dbid-a116dfcc-c231-410f-a4cb-9d3ca62822a4")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"release-v0.247.0"},(()=>{"use strict";var e,t,n,r,i,a={5030:(e,t,n)=>{n.d(t,{f:()=>s,j:()=>l});var r=n(5012),i=n(7438),a=n(6505),o=n(3134);const c=(e,t)=>"".concat((0,o.DT)(e)).concat(t.replace(/^\//,"")),l=(e,t)=>t==="/".concat(e)?"/":t.replace(new RegExp("^/".concat(e)),""),s=()=>{const{i18n:e}=(0,i.B)(),{language:t}=e,{pathname:n,search:o,state:l}=(0,a.zy)(),s=(0,a.Zp)();return{changeLanguage:e=>{const r=n.replace(new RegExp("^/".concat(t)),""),i=c(e,r);window.location.assign("".concat(i).concat(o))},navigate:(0,r.useCallback)((function(e,n){if("string"==typeof e){const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{persist:!0}).persist?"".concat(e).concat(o):e;s(c(t,r),n)}else s(e)}),[t,s,o]),getRouterState:()=>l}}},5201:(e,t,n)=>{var r=n(5012),i=n(2123),a=n(693),o=n(3868),c=n(7438),l=n(1411),s=n(6505),u=n(6561),d=n(5130),p=n(3331),m=n(3134),h=n(2488);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=e=>{const{t,i18n:{language:n}}=(0,c.B)("authCommon");return(0,h.jsx)(p.j,g(g({fluid:!0},e),{},{children:(0,h.jsx)("a",{href:(0,m.eW)(n),children:t("authCommon:pageError.goBackToHome")})}))},y=()=>{const{t:e,ready:t}=(0,c.B)("authCommon");return t?(0,h.jsx)(d.h,{title:(0,h.jsx)("p",{children:e("authCommon:pageError.404Title")}),body:(0,h.jsx)("p",{children:e("authCommon:pageError.404Body")}),action:(0,h.jsx)(b,{intent:"secondary"})}):null};var j=n(9615),O=n(2519),w=n(7292),x=n(5075),P=n(3056),E=n(6534);const _=["params"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t;const n=e||"";return Array.isArray(n)?null!==(t=n[0])&&void 0!==t?t:"":n}const I=e=>{const{params:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,_),r=C(C({},t),{},{onboarding_type:"signup"}),i=new URLSearchParams(E.stringify(r)),a=C(C({},n),{},{params:i});return new URLSearchParams(E.stringify(a))},A=["params"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F=e=>{let t={};return Object.entries(e).forEach((e=>{let[n,r]=e;n&&r&&(t=z(z({},t),{},{[n]:N(r)}))})),t},M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search;const t=E.parse(e),{params:n}=t,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,A),i=E.parse(N(n));return z({params:F(i)},F(r))};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=(0,r.createContext)({urlSearchParams:{},updateSearchQuery:()=>"",getUpdatedSearchQuery:()=>"",searchParamsString:""}),U=()=>(0,r.useContext)(B),H=e=>{let{children:t}=e;const{search:n}=(0,s.zy)(),i=(0,r.useRef)(n),a=(0,r.useMemo)((()=>M(n)),[n]),[,o]=(0,l.ok)(),c=(0,r.useCallback)((e=>{const t=new URLSearchParams(i.current),n=R(R({},Object.fromEntries(t.entries())),Object.fromEntries(e.entries()));return new URLSearchParams(E.stringify(n)).toString()}),[i]),u=(0,r.useCallback)((e=>{const t=new URLSearchParams(i.current),n=R(R({},Object.fromEntries(t.entries())),Object.fromEntries(e.entries())),r=new URLSearchParams(E.stringify(n)).toString();return o(r,{replace:!0}),i.current=r,r}),[i,o]);return(0,h.jsx)(B.Provider,{value:{urlSearchParams:a,updateSearchQuery:u,getUpdatedSearchQuery:c,searchParamsString:n},children:t})},K=["children","extraParams"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $=(0,r.createContext)({location:[],extraParams:void 0}),Y=()=>(0,r.useContext)($),J=(e,t)=>{const n=e.slice();return Object.keys(t).forEach((e=>{if(/^location-\d+$/.test(e)){const r=Number(e.replace("location-",""));n[r]=t[e]}})),n},Q=e=>{!(0,P.K)()&&e.some((e=>!e))&&(console.warn("Log location has empty segments: ".concat(JSON.stringify(e))),x.wd("Log location has empty segments: ".concat(JSON.stringify(e))));const t=e.filter(Boolean).join(":");return(0,P.K)()||""!==t||(console.warn("Log location is empty"),x.wd("Log location is empty")),t},X=e=>{var t,n;let{children:r,extraParams:i}=e,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,K);const o=Y(),{urlSearchParams:{params:{client_id:c}}}=U();return(0,h.jsx)($.Provider,{value:G(G({},o),{},{extraParams:G(G({},o.extraParams),i),location:J(o.location,a),oidcClientId:null!==(t=null!==(n=o.oidcClientId)&&void 0!==n?n:c)&&void 0!==t?t:"unknown"}),children:r})};var Z=n(5603),ee=n(4911),te=n(7510),ne=n(5448),re=n(4751),ie=n(6138),ae=n(1724),oe=n(9492),ce=n(9740),le=n(7238),se=n(1685),ue=n(1745);function de(){return ue.p({deviceType:"web",ivCert:"",theme:"system_preference",userAgent:window.navigator.userAgent,appVersion:"",clientUUID:void 0,clientType:void 0})}let pe=de();const me={get current(){return pe}};var he=n(7357);const fe=()=>null!=="https://api.mercari.jp"?"https://api.mercari.jp":"";var ge=n(9061),ve=n(8600);const be=()=>{var e,t;return null===(e=M(null===(t=(0,ve.zk)())||void 0===t||null===(t=t.location)||void 0===t?void 0:t.search).params)||void 0===e?void 0:e.flow_session_id};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const we={ios:le.bq.DEVICE_IOS,android:le.bq.DEVICE_ANDROID,web:le.bq.DEVICE_WEB},xe=()=>{var e;const t=(0,ge.gI)(),n=(0,ve.Z0)();return je(je({release:me.current.appVersion||"2023041200",webProperty:"web_auth_screen",deviceType:we[me.current.deviceType]},t&&t!==ge.O4.Japan&&{accessLocale:"".concat(null===(e=(0,ve.zk)())||void 0===e?void 0:e.navigator.language,":").concat(t,":").concat(n)}),"globalone"===me.current.clientType&&{service:le.kl.SERVICE_MERCARI_GLOBALONE})};function Pe(){const e=me.current.clientUUID;return{storage:{getItem:()=>null!=e?e:(0,se.yk)(),setItem:()=>{},removeItem:()=>{},clear:()=>{}}}}const Ee=function(){const e=be();return new le.Z3({batchInterval:0,realTimeInterval:0,batchMaxSize:void 0,eventContext:xe,endpointDomain:fe(),onFlush:void 0,sharedUuid:Pe(),defaultParams:je({},e&&{sessionId:e,sessionIdType:le.I6.SESSION_ID_TYPE_FLOW})})}();var _e=n(2983);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Error;const Ne=new Worker("/webauth/workers/auth.worker.js?version=".concat("release-v0.247.0"));Ne.postMessage({id:(0,_e.A)(),type:"UPDATE_REQUESTER_CONFIG"}),Ne.onerror=e=>{x.wd("Auth Worker initialization failed.",{extra:{event:e}})};const Ie=(0,r.createContext)({dispatchRequest:()=>Promise.resolve({error:!1,response:"DEFAULT_DISPATCH"}),hasAuthenticatedToken:!1,uuid:()=>"DEFAULT_UUID",setHasAuthenticatedToken:e=>e}),Ae=()=>(0,r.useContext)(Ie),De=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(!1),a={dispatchRequest:(0,r.useCallback)((async e=>{var t;const n=await(e=>{const t=(0,_e.A)(),n="android"===me.current.deviceType||"ios"===me.current.deviceType?{"X-True-User-Agent":me.current.userAgent,"X-Platform":me.current.deviceType,"X-App-Version":me.current.appVersion,"X-Client-Type":me.current.clientType}:{};return new Promise((r=>{if(!Ne)return r({error:!0,response:{message:"Auth Worker initialization failed.",errors:[]}});const i=e=>{const{data:n}=e;(null==n?void 0:n.id)===t&&(Ne.removeEventListener("message",i),n.error&&"InvalidMessageError"===n.error.name&&x.Cp(n.error),r({error:!n.success,response:n.response,fmtErrorData:n.error,requestId:n.requestId}))};Ne.addEventListener("message",i);const a=Ce(Ce({id:t},e),{},{nativeAppHeaders:n});return Ne.postMessage(a),null}))})(e);return!n.error&&null!==(t=n.response)&&void 0!==t&&t.hasAuthenticatedToken&&i(!0),n}),[]),hasAuthenticatedToken:n,uuid:_e.A,setHasAuthenticatedToken:i};return(0,h.jsx)(Ie.Provider,{value:a,children:t})},ze=["hasAuthenticatedToken"];function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){const[t,n]=(0,r.useState)({loading:!1}),{i18n:{language:i}}=(0,c.B)(),a=Ae();return[(0,r.useCallback)((async(t,r)=>{n({loading:!0});const o=await a.dispatchRequest({type:"AUTH_REQUEST",params:{data:t,endpoint:e,requestConfig:{headers:Fe(Fe({},r),{},{"Accept-Language":i,"X-Flow-Session-ID":be()})}}});let c={loading:!0};if(o.error)c={loading:!1,error:o.fmtErrorData,requestId:o.requestId},n(c);else{const e=o.response,{hasAuthenticatedToken:t}=e;c={loading:!1,data:function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ze),requestId:o.requestId},n(c)}return c}),[a,e,i]),t]}const Re=()=>{const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e.toString()},Ve="authUUID",Be=()=>{const e=(0,_e.A)();return(0,he.TV)(Ve,e,{path:"/",expires:new Date(Date.now()+18e5)}),e},Ue=()=>(0,he.Ri)(Ve),He=()=>Ue()||Be();fe();function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const We=e=>void 0!==e.error,$e=e=>void 0!==e.data,Ye=(e,t)=>qe(qe({},t),{},{data:e.data||e,loading:!1}),Je={},Qe={encodeToFormData:!1,withAccessToken:!0,withFlowSessionID:!1},Xe={loading:!1};function Ze(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je,{encodeToFormData:n,withAccessToken:i,withDPoP:a,regenerateAccessToken:o,withFlowSessionID:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qe;const[s,u]=(0,r.useState)(Xe),{dispatchRequest:d}=Ae(),{i18n:{language:p}}=(0,c.B)(),m=(0,r.useCallback)((async function(r){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u({loading:!0});const s=be(),m=qe(qe(qe({},t),c),{},{url:e,method:"POST",headers:qe(qe(qe(qe({},t.headers),c.headers),s&&l&&{"X-Flow-Session-ID":s}),{},{"Accept-Language":p})}),{encodePayloadToFormData:h,requestPayload:f}=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e||{};if(e&&e instanceof FormData){const r={};e.forEach(((e,t)=>{r[t]=e})),n=r,t=!0}return{requestPayload:n,encodePayloadToFormData:t}}(r,n),g=await d({type:"API_REQUEST",params:{encodeToFormData:h,withDPoP:a,withAccessToken:i,regenerateAccessToken:o,requestConfig:m,data:f,uuid:He()}});let v={requestId:g.requestId};return g.error?(v=qe(qe({},v),{},{error:g.fmtErrorData,loading:!1}),u(v)):(v=Ye(g.response,v),u(v)),v}),[t,e,n,d,a,i,o,p,l]);return[m,s]}function et(e,t){return t?"".concat(e,"?").concat(E.stringify(t)):e}function tt(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je,{encodeToFormData:i,withAccessToken:a,withDPoP:o,regenerateAccessToken:c,withFlowSessionID:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qe;const[s,u]=(0,r.useState)({loading:null!==(t=n.initialLoadingState)&&void 0!==t&&t}),{dispatchRequest:d}=Ae(),p=(0,r.useCallback)((async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u({loading:!0});const s=be(),p=qe(qe(qe({},n),r),{},{url:et(e,t),method:"GET",headers:qe(qe(qe({},n.headers),r.headers),s&&l&&{"X-Flow-Session-ID":s})}),m=await d({type:"API_REQUEST",params:{encodeToFormData:i,withAccessToken:a,withDPoP:o,regenerateAccessToken:c,requestConfig:p,uuid:He()}});let h={requestId:m.requestId};return m.error?(h=qe(qe({},h),{},{error:m.fmtErrorData,loading:!1}),u(h)):(h=Ye(m.response,h),u(h)),h}),[n,e,d,i,a,o,c,l]);return[p,s]}let nt=function(e){return e.NotFoundException="AuthFacebookNotFoundException",e.MFAException="Mercari\\MultiFactorAuthentication\\Exception\\TriggeredExceptionViaSMS",e}({});const rt=()=>{const[e,t]=Ze("/api/users/login_facebook",void 0,{withFlowSessionID:!0,withAccessToken:!0});return[t=>{let{accessToken:n,code:r}=t;const i=new FormData;return i.set("facebook_access_token",n),i.set("iv_cert",me.current.ivCert||Re()),e(i,{headers:r?{"X-MFA-CODE":r}:{}})},t]};let it=function(e){return e.NotFoundException="AuthGoogleNotFoundException",e.MFAException="Mercari\\MultiFactorAuthentication\\Exception\\TriggeredExceptionViaSMS",e}({});const at=()=>{const[e,t]=Ze("/api/users/login_google",void 0,{withFlowSessionID:!0,withAccessToken:!0});return[(t,n)=>{const r=new FormData;return r.set("access_token",t),r.set("iv_cert",me.current.ivCert||Re()),e(r,{headers:n?{"X-MFA-CODE":n}:{}})},t]};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const st={baseURL:"https://accounts.mercari.com",withCredentials:!0},ut=(e,t)=>Ze(e,st,t?ct(ct({},t),{},{withFlowSessionID:!0}):{withAccessToken:!0,withFlowSessionID:!0}),dt=()=>ut("/jp/v1/authentication/line/nonce/create",{withDPoP:!0,withAccessToken:!1}),pt=()=>ut("/jp/v1/authentication/line/login"),mt="https://login.jp.mercari.com/webauth/apple/callback",ht="com.kouzoh.web.mercari",ft="https://www.mercari.com/jp/",gt=()=>{const[e,t]=Ze("".concat(fe(),"/apple/start_session")),n=(0,r.useCallback)((()=>{const t=new FormData;return mt&&t.append("redirect_uri",mt),ht&&t.append("client_id",ht),e(t)}),[e]);return[n,t]},vt=()=>Ze("/api/apple/activate_session",void 0,{withFlowSessionID:!0,withAccessToken:!0}),bt=()=>{const[e,t]=Ze("/api/users/login_apple",void 0,{withFlowSessionID:!0,withAccessToken:!0});return[(0,r.useCallback)((()=>{const t=new FormData;return t.set("iv_cert",me.current.ivCert||Re()),e(t)}),[e]),t]};let yt=function(e){return e.Mercari="mercari",e.Google="google",e.Facebook="facebook",e.Apple="apple",e.PasskeyAutofill="passkey",e.PasskeyButton="passkey_button",e.PasskeyEnforceButton="passkey_enforce_button",e.LINE="line",e}({}),jt=function(e){return e.Invalid="Mercari\\MultiFactorAuthentication\\Exception\\InvalidCodeException",e.Expired="Mercari\\MultiFactorAuthentication\\Exception\\ExpiredCodeException",e.Locked="Mercari\\MultiFactorAuthentication\\Exception\\LockedException",e}({});const Ot=e=>e.errors&&e.errors.length>0?e.errors.map((e=>{var t;return(null===(t=e.details)||void 0===t||null===(t=t.localizedMessage)||void 0===t?void 0:t.message)||e.message})):[e.message];function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Et=e=>{switch(e){case yt.Apple:return le.qR.AUTH_METHOD_APPLE;case yt.Facebook:return le.qR.AUTH_METHOD_FACEBOOK;case yt.Google:return le.qR.AUTH_METHOD_GOOGLE;case yt.Mercari:return le.qR.AUTH_METHOD_EMAIL;case yt.PasskeyAutofill:return le.qR.AUTH_METHOD_PASSKEY;case yt.PasskeyButton:return le.qR.AUTH_METHOD_PASSKEY_BUTTON;case yt.PasskeyEnforceButton:return le.qR.AUTH_METHOD_PASSKEY_ENFORCE_BUTTON;case yt.LINE:return le.qR.AUTH_METHOD_LINE;default:return le.qR.AUTH_METHOD_UNDEFINED}},_t=(e,t)=>{var n;return xt({type:le.y1.SIGN_UP_START,location:e,url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)},St=(e,t,n)=>{var r;return xt({type:le.y1.SIGN_UP_ERROR,authMethod:Et(e),errorDetails:Ot(t),url:null===(r=(0,ve.zk)())||void 0===r?void 0:r.location.pathname},n)};function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const It=(e,t)=>{var n;return kt({type:le.y1.TAP,location:e,url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)},At=(e,t)=>{var n;return kt({type:le.y1.TAP,authMethod:Et(e),url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)},Dt=["children","href","onClick"];function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mt=e=>{let{children:t,href:n,onClick:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Dt);return(0,h.jsx)("a",Tt(Tt({href:n,onClick:r},i),{},{target:"_blank",rel:"noopener noreferrer",children:t}))},Lt=["children"];function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ut=["onClick","extraParams","noLog"];function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gt=e=>t=>{let{onClick:n,extraParams:r,noLog:i}=t,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,Ut);const o=Y(),c=Q(J(o.location,a));return!c||i?(0,h.jsx)(e,Kt(Kt({},a),{},{onClick:n})):(0,h.jsx)(e,Kt({"data-location":c,onClick:e=>{Ee.log(It(c,Kt(Kt({},o.extraParams),r))),n&&n(e)}},a))},Wt=Gt(p.j),$t=(Gt(ee.q),Gt(te._)),Yt=Gt(ae.$),Jt=Gt(ce.Y),Qt=Gt(Mt),Xt=Gt(ne.M),Zt=Gt(oe.M),en=Gt((e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Lt);return(0,h.jsx)("a",Vt(Vt({},n),{},{children:t}))})),tn=Gt(re.A),nn=Gt(ie.i);var rn=n(9818),an=n(1120);const on=()=>{const{t:e}=(0,c.B)("authCommon");return(0,h.jsx)(rn.E,{text:e("authCommon:globalNav.backLabel"),children:(0,h.jsx)(ee.q,{variant:"navigation",circle:!0,label:e("authCommon:globalNav.backLabel"),onClick:()=>window.history.back(),children:(0,h.jsx)(an.o,{})})})};var cn;const ln=j.Ay.header(cn||(sn=["\n  position: sticky;\n  z-index: ",";\n  top: 0;\n"],un||(un=sn.slice(0)),cn=Object.freeze(Object.defineProperties(sn,{raw:{value:Object.freeze(un)}}))),Z.fE.header);var sn,un;const dn=e=>{let{hasBackButton:t=!1,language:n}=e;const{t:r}=(0,c.B)("authCommon"),{urlSearchParams:{params:{redirect_uri:i}}}=U();return(0,h.jsx)(X,{"location-0":"navigation_top",children:(0,h.jsx)(ln,{children:(0,h.jsx)(O.s,{mode:"default",hideSeparator:!1,start:(0,h.jsx)(X,{"location-1":"logo",children:(0,h.jsx)(en,{href:(0,m.eW)(n,i),"aria-label":r("authCommon:mercari"),children:(0,h.jsx)(w.n,{titleLabel:r("authCommon:mercari"),"data-testid":"mercari-logo"})})}),backButton:t&&(0,h.jsx)(on,{})})})})};var pn,mn;function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(null,arguments)}var fn,gn,vn,bn,yn,jn;function On(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const wn=j.Ay.div(fn||(fn=On(["\n  max-width: 500px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 48px 16px 0;\n"]))),xn=(0,j.Ay)((function(e){return r.createElement("svg",hn({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 343 160"},e),pn||(pn=r.createElement("path",{fill:"#CCC",d:"M191.97 79.566c7.327 0 13.266-5.94 13.266-13.267 0-7.327-5.939-13.266-13.266-13.266s-13.267 5.94-13.267 13.266c0 7.327 5.94 13.267 13.267 13.267"})),mn||(mn=r.createElement("path",{fill:"#CCC",d:"M191.936 82.766a16.431 16.431 0 0 1-15.934-20.579 16.426 16.426 0 0 1 5.234-8.354.768.768 0 0 0 0-1.3l-7.334-3.667a4.897 4.897 0 0 0-4.366 0l-24.867 12.267a4.836 4.836 0 0 0-2.7 4.367v29.233a4.932 4.932 0 0 0 2.733 4.4l10 4.933 14.6 7.1a4.8 4.8 0 0 0 4.267 0l24.733-11.933a4.936 4.936 0 0 0 2.767-4.4V81.5a.802.802 0 0 0-1.167-.7 16.266 16.266 0 0 1-7.966 1.966m-26.367 15.567-2.833-1.4v-8.5a4.536 4.536 0 0 0-3.567-4.767c-.833 0-1.567.6-1.6 2.067-.033 1.467 0 8.633 0 8.633l-2.6-1.3v-8.033a4.267 4.267 0 0 0-3.333-4.733c-.567 0-1.6.266-1.6 2.1v8.233l-2.6-1.267v-7.7c0-2.233 1.266-4.5 3.866-4.233a6.667 6.667 0 0 1 4.934 3.8 3.33 3.33 0 0 1 2.933-.8 8.298 8.298 0 0 1 6.4 8.867z"})))}))(gn||(gn=On(["\n  max-width: 320px;\n"]))),Pn=j.Ay.div(vn||(vn=On(["\n  margin-top: 16px;\n  color: var(--alias-color-text-secondary-default);\n  text-align: center;\n  font-weight: bold;\n  font-size: 17px;\n"]))),En=j.Ay.div(bn||(bn=On(["\n  margin-top: 16px;\n  text-align: center;\n"]))),_n=j.Ay.button(yn||(yn=On(["\n  margin-top: 24px;\n  width: 100%;\n  background-color: transparent;\n  border-width: 0;\n"]))),Sn=j.Ay.a(jn||(jn=On(["\n  display: block;\n  padding: 11px 15px;\n  color: var(--alias-color-text-attention-default);\n  font-weight: bold;\n  border-color: var(--alias-color-border-attention-default);\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 4px;\n"]))),Cn=()=>{const{t:e,i18n:{language:t}}=(0,c.B)("authCommon");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(dn,{language:t}),(0,h.jsxs)(wn,{children:[(0,h.jsx)(xn,{}),(0,h.jsx)(Pn,{children:(0,h.jsx)("p",{children:e("authCommon:pageError.unknownTitle")})}),(0,h.jsx)(En,{children:(0,h.jsx)("p",{children:e("authCommon:pageError.unsupportedBrowserBody")})}),(0,h.jsx)(_n,{children:(0,h.jsx)(Sn,{href:m.t7.supportedBrowser(ve.sw.Japanese),rel:"noopener noreferrer",children:e("authCommon:pageError.supportedBrowsersLink")})})]})]})};var kn=n(580);const Nn=e=>{let{lang:t,title:n,description:r,noIndex:i}=e;return(0,h.jsx)(kn.vd,{children:(0,h.jsxs)(kn.mg,{children:[(0,h.jsx)("html",{lang:t}),n&&(0,h.jsx)("title",{children:n}),i&&(0,h.jsx)("meta",{name:"robots",content:"noindex"}),r&&(0,h.jsx)("meta",{name:"description",content:r})]})})};n(2185);let In=function(e){return e.IDLE="idle",e.LOADING="loading",e.READY="ready",e.ERROR="error",e}({});const An=e=>{const[t,n]=(0,r.useState)(e?In.LOADING:In.IDLE);return(0,r.useEffect)((function(){if(!e)return n(In.IDLE),()=>{};let t=document.querySelector('script[src="'.concat(e,'"]'));t?n(t.dataset.status):t=function(e){const t=document.createElement("script");t.src=e,t.async=!0,t.dataset.status=In.LOADING,t.nonce=window.cspNonce,document.body.appendChild(t);const n=e=>{t.dataset.status="load"===e.type?In.READY:In.ERROR};return t.addEventListener("load",n),t.addEventListener("error",n),t}(e);const r=e=>{n("load"===e.type?In.READY:In.ERROR)};return["load","error"].forEach((e=>t.addEventListener(e,r))),()=>{t&&["load","error"].forEach((e=>t.removeEventListener(e,r)))}}),[e]),t},Dn=e=>{const[t,n]=(0,r.useState)(null!=e?e:Z.O4);return(0,r.useEffect)((()=>{var e;const t=()=>{const e=(0,Z.O4)();n(e)};t();const r=null===(e=globalThis.window)||void 0===e?void 0:e.matchMedia("(prefers-color-scheme: dark)");return null==r||r.addEventListener("change",t),()=>null==r?void 0:r.removeEventListener("change",t)}),[]),t},zn="".concat(m.Uh,"/enterprise.js?onload=reCaptchaCheckboxCallback&render=explicit"),Tn=e=>{let{className:t,sitekey:n,action:i,callback:a}=e;const o=(0,r.useRef)(0);An(zn);const c=Dn();return(0,r.useEffect)((()=>{const e=document.querySelector("#recaptchaEnterpriseCheckbox iframe");e&&(e.src=e.src.replace(/(theme=)[^&]+/,"$1".concat(c)))}),[o,c]),(0,r.useEffect)((()=>(window.reCaptchaCheckboxCallback=()=>{var e,t;null!==(e=window.grecaptcha)&&void 0!==e&&null!==(e=e.enterprise)&&void 0!==e&&e.render&&null!==(t=window.grecaptcha)&&void 0!==t&&null!==(t=t.enterprise)&&void 0!==t&&t.reset?0===o.current?o.current=window.grecaptcha.enterprise.render("recaptchaEnterpriseCheckbox",{sitekey:n,theme:c,action:i,callback:a}):window.grecaptcha.enterprise.reset(o.current):x.Cp(new Error("grecaptcha enterprise not loaded correctly"))},()=>{delete window.reCaptchaCheckboxCallback})),[i,n,c,a]),(0,h.jsx)("div",{id:"recaptchaEnterpriseCheckbox","data-testid":"recaptchaEnterpriseCheckbox",className:t})};function Fn(){var e;if(null===(e=window)||void 0===e||null===(e=e.grecaptcha)||void 0===e||null===(e=e.enterprise)||void 0===e||!e.getResponse)throw new ReferenceError("window.grecaptcha.getResponse is undefined");return window.grecaptcha.enterprise.getResponse()}let Mn=function(e){return e.V2="v2",e.V3="v3",e}({}),Ln=function(e){return e.VerificationChallenge="VERIFICATION_CHALLENGE",e.VerificationChallengeResume="VERIFICATION_CHALLENGE_RESUME",e.SignIn="SIGNIN",e.SignUp="SIGNUP",e}({});const Rn="".concat(m.Uh,"/enterprise.js?render="),Vn=e=>{let{sitekey:t}=e;const n="".concat(Rn).concat(t);return An(n),null},Bn=e=>{const t="".concat(Rn).concat(e);return An(t)};async function Un(e,t){return new Promise(((n,r)=>{var i;if(null===(i=window)||void 0===i||null===(i=i.grecaptcha)||void 0===i||null===(i=i.enterprise)||void 0===i||!i.ready)return void r(new ReferenceError("window.grecaptcha.ready is undefined"));const a=setInterval((()=>{r(new Error("ReCaptcha timed out"))}),5e3);window.grecaptcha.enterprise.ready((()=>{var i;null!==(i=window.grecaptcha)&&void 0!==i&&null!==(i=i.enterprise)&&void 0!==i&&i.execute?window.grecaptcha.enterprise.execute(e,{action:t}).then(n,r).then((()=>clearTimeout(a))):r(new ReferenceError("window.grecaptcha.execute is undefined"))}))}))}const Hn={scoreBasedKey:"",checkboxBasedKey:"",scoreBasedFailed:!1,setScoreBasedFailed:()=>{},getToken:async()=>({token:"",version:Mn.V3})},Kn=(0,r.createContext)(Hn),qn=()=>(0,r.useContext)(Kn),Gn=e=>{let{children:t,scoreBasedKey:n,checkboxBasedKey:i}=e;const[a,o]=(0,r.useState)(!1);return(0,h.jsx)(Kn.Provider,{value:{scoreBasedKey:n,checkboxBasedKey:i,scoreBasedFailed:a,setScoreBasedFailed:o,getToken:async function(e){return a||arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{token:Fn(),version:Mn.V2}:{token:await Un(n,e),version:Mn.V3}}},children:t})};let Wn="";const $n=()=>Wn||(me.current.clientUUID?(Wn=me.current.clientUUID,Wn):(Wn=(0,se.yk)(),Wn));function Yn(e,t){try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}}function Jn(e){try{const t=window.sessionStorage.getItem(e);return null===t?t:JSON.parse(t)}catch(e){return null}}function Qn(e){try{window.sessionStorage.removeItem(e)}catch(e){}}function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tr=$n(),nr="__remote_config_override__",rr="previous_user_login";function ir(e,t,n){try{const r=n&&"string"==typeof t?t:JSON.stringify(t);return window.localStorage.setItem(e,r),!0}catch(e){return!1}}function ar(e){try{const t=window.localStorage.getItem(e);return null===t?t:JSON.parse(t)}catch(e){return null}}function or(e){try{window.localStorage.removeItem(e)}catch(e){}}function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ur=lr(lr({},["global_phone_number_signin_support_web","UG-347_take_over_FlowSessionID_to_signin_after_recovery","webauth_recaptcha_migration_frontend","IDPCLIENT-116_add_nickname_to_global_signup","webauth_fingerprint_migration_frontend","ug_384_web_gop_release_signin_redirect","IDPCLIENT-17_add_invitation_code_for_global","webauth_socure_integration_frontend","UG-546_VCF_Login_migration_for_JP","UG-546_VCF_Login_migration_for_Global","UG-535_Login_rebuild_for_JP_NEW","UG-399_cross_device_email_magic_link"].reduce(((e,t)=>lr(lr({},e),{},{[t]:["false","true"]})),{})),{"MOCK-0123_do_not_use":["1","2","3"]}),dr=(0,r.createContext)({isLoadingConfig:!0,getFlag:()=>!1,getParam:()=>"unknown",refetchOverride:()=>{},assignments:[]}),pr=()=>(0,r.useContext)(dr),mr=e=>{let{children:t}=e;const{data:n={assignments:[]},loading:i}=(()=>{const[e,t]=Ze("".concat(fe(),"/services/exp/parameters:assign"));(0,r.useEffect)((()=>{e({device_id:tr,attributes:{version:me.current.appVersion||"release-v0.247.0",platform:me.current.deviceType}})}),[e]);const n=Jn("remoteConfig")||{};return t.data&&Yn("remoteConfig",Zn(Zn({},n),{},{[tr]:t.data})),Zn(Zn({},t),{},{data:t.data||n[tr]})})(),{remoteConfigOverride:a,refetchOverride:o}=(()=>{const e=()=>{var e;return null!==(e=ar(nr))&&void 0!==e?e:{}},[t,n]=(0,r.useState)(e());return{remoteConfigOverride:t,refetchOverride:()=>{const t=e();n(t)},storeOverride:e=>{ir(nr,e),n(e)},clearOverride:()=>{or(nr),n({})}}})(),c=n.assignments.reduce(((e,t)=>(e[t.name]=t,e)),{}),l=function(e){let{sendLog:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=c[e];return t&&n&&Ee.log((e=>({type:le.y1.EXPERIMENT_EXPOSED,experimentId:e.experiment_id,treatmentId:e.treatment_id}))(n),{duplicationKey:"EXPERIMENT_EXPOSED:".concat(n.experiment_id)}),r=null==n?void 0:n.string_value,ur[e].includes(r)?n.string_value:ur[e][0];var r};return(0,h.jsx)(dr.Provider,{value:{isLoadingConfig:i,getFlag:(e,t)=>"true"===l(e,t),getParam:(e,t)=>l(e,t),assignments:n.assignments,refetchOverride:o},children:t})};function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vr={nonce:"",acrValues:"",poa:"",ivCert:"",challengeId:"",phoneNumber:"",userId:""},br=(0,r.createContext)({acrElevationFlowState:fr({},vr),saveSigninSmsRegistrationFlowState:()=>{},resetSigninSmsRegistrationFlowState:()=>{}}),yr=()=>(0,r.useContext)(br),jr=e=>{let{children:t,initState:n={}}=e;const[i,a]=(0,r.useState)(fr(fr({},vr),n)),o=(0,r.useCallback)((e=>{a((t=>fr(fr({},t),e)))}),[a]),c=(0,r.useCallback)((()=>{a(fr({},vr))}),[a]);return(0,h.jsx)(br.Provider,{value:{acrElevationFlowState:i,saveSigninSmsRegistrationFlowState:o,resetSigninSmsRegistrationFlowState:c},children:t})},Or=()=>(0,h.jsx)(jr,{children:(0,h.jsx)(s.sv,{})});var wr=n(5576);const xr={"content-type":"application/x-www-form-urlencoded"},Pr=()=>{const[e]=Le("GRANT_TOKEN");return[(0,r.useCallback)((t=>e({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",client_id:"y6Go1Q2R8tsJY4gjGF65hBig7NKb2Hc9",scope:"mercari",subject_token_type:"urn:ietf:params:oauth:token-type:proof_of_authentication",subject_token:t},xr)),[e])]},Er=()=>{const[e]=Le("REVOKE_TOKEN");return[(0,r.useCallback)((()=>e({client_id:"y6Go1Q2R8tsJY4gjGF65hBig7NKb2Hc9",token_type_hint:"access_token"},xr)),[e])]};var _r=n(5030);function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kr=(e,t)=>{const n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),n},Nr=()=>{const e=(0,r.useRef)(),{navigate:t}=(0,_r.f)(),[n]=Le("CREATE_OPSESSION"),i=(0,r.useCallback)((async(e,r)=>{const i=be(),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach((function(t){Cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({poa:e,platform:me.current.deviceType,userAgent:me.current.userAgent},i&&{flowSessionId:i});await n(a,{"content-type":"application/x-www-form-urlencoded"}),r?window.location.assign("".concat("https://auth.mercari.com","/jp/v1/authorize?").concat(N(r))):t("/signin/back_to_app")}),[n,t]),a=(0,r.useCallback)((async(t,n,r)=>{e.current&&e.current===t&&x.Cp(new Error("createOIDCSession was called more than once with the same PoA")),e.current=t,"android"===me.current.deviceType||"ios"===me.current.deviceType&&n===yt.LINE?i(t,r):((e,t)=>{const n=document.createElement("form");n.setAttribute("action","".concat("https://auth.mercari.com","/jp/v1/opsession")),n.setAttribute("method","POST");const{params:r}=E.parse(window.location.search);n.appendChild(kr("poa",e)),n.appendChild(kr("platform",me.current.deviceType)),n.appendChild(kr("userAgent",me.current.userAgent));const i=be();i&&n.appendChild(kr("flowSessionId",i)),n.appendChild(kr("params",N(t||r))),document.body.appendChild(n),n.submit()})(t,r)}),[i]);return{createOIDCSession:a}};function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dr=e=>new Promise((t=>{const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);n.eventCallback=()=>t(),n.eventTimeout||(n.eventTimeout=2e3),window.google_tag_manager?(window.dataLayer=window.dataLayer||[],window.dataLayer.push(n)):(x.wd("GTM is blocked",{level:"debug"}),t())})),zr=e=>e?String(e):"";function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Lr=(e,t)=>{var n;return Fr({type:le.y1.SIGN_IN_START,location:e,url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname.toString()},t)},Rr=(e,t)=>{var n;return Fr({type:le.y1.SIGN_IN_COMPLETE,authMethod:Et(e),url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname.toString()},t)},Vr=(e,t,n)=>{var r;return Fr({type:le.y1.SIGN_IN_ERROR,errorDetails:Ot(t),location:e,url:null===(r=(0,ve.zk)())||void 0===r?void 0:r.location.pathname.toString()},n)},Br=(e,t)=>{var n;return Fr({type:le.y1.SIGN_IN_CANCEL,location:e,url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname.toString()},t)},Ur=e=>{const t=[];for(;t.length<e;){const e=window.crypto.getRandomValues(new Uint8Array(1))[0];e<198&&t.push("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-._~"[e%66])}return t.join("")},Hr=(e,t)=>{const n={userId:Number(e).toString(),loginMethod:t};ir(rr,n)};let Kr=function(e){return e[e.SignIn=0]="SignIn",e[e.SignUp=1]="SignUp",e}({});function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $r="NO_MERCARI_ACCOUNT_ERROR",Yr=e=>{let{label:t,setErrorDialog:n,mode:i,postAction:a=(()=>{}),onPopUpOpened:o=(async()=>{}),onPopUpClosed:l=(()=>{}),buttonProps:s}=e;const u=An("https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"),[d]=vt(),[p]=gt(),[m]=bt(),{t:f}=(0,c.B)("signin"),g=(0,r.useRef)(Ur(64)),[v,b]=(0,r.useState)(!1),{createOIDCSession:y}=Nr();(0,r.useEffect)((()=>{u===In.READY&&(async()=>{try{const e=await(async()=>{const{error:e,data:t}=await p();var n,r;if(e)throw new Error("".concat(e.message," : ").concat(null===(n=e.errors[0])||void 0===n?void 0:n.message," : ").concat(null===(r=e.errors[0])||void 0===r?void 0:r.code));return(null==t?void 0:t.nonce)||""})();if(!e)throw new Error("UNABLE_TO_GET_NONCE");AppleID.auth.init({clientId:ht,scope:"name email",redirectURI:mt,state:g.current,usePopup:!0,nonce:e})}catch(e){n({title:f("signin:home.errors.authFailed"),content:f("signin:home.errors.tryAgain")}),x.Cp("AppleID.auth.init Failed: ".concat(JSON.stringify(e)))}})()}),[p,n,u,f]);return(0,h.jsx)(Zt,Gr(Gr({"location-2":"apple_button",onClick:async()=>{if(!v){b(!0),await o();try{var e;const t=await AppleID.auth.signIn();await(async(e,t,n)=>{var r,o;if(g.current!==t)throw new Error("State mismatch");const c=await async function(e){const t=new FormData;return t.set("code",e),await d(t)}(e);if(!c.data)throw new Error("Server error: unable to activate session: ".concat(null===(r=c.error)||void 0===r||null===(r=r.errors[0])||void 0===r?void 0:r.message," : ").concat(null===(o=c.error)||void 0===o||null===(o=o.errors[0])||void 0===o?void 0:o.code));if(c.data.is_mercari_user){var l,s;const{data:e,error:t}=await m();if(e&&"poa"in e)return Hr(e.id,yt.Apple),Ee.log(Rr(yt.Apple)),await Dr({uid:zr(e.id),event:"login_complete"}),void y(e.poa);throw new Error(null!==(l=null==t||null===(s=t.errors[0])||void 0===s?void 0:s.message)&&void 0!==l?l:"Server error: unable to get OIDC session")}if(c.data.errors)throw new Error(c.data.errors[0].message);if(i!==Kr.SignUp)throw new Error($r);a({email:c.data.email,name:n?"".concat(n.firstName," ").concat(n.lastName).trimEnd():""})})(t.authorization.code,t.authorization.state,null===(e=t.user)||void 0===e?void 0:e.name)}catch(e){"popup_closed_by_user"!==e.error&&(e.message===$r?n({title:f("signin:home.errors.noApple"),content:f("signin:home.errors.confirmAccount")}):n({title:f("signin:home.errors.authFailed"),content:f("signin:home.errors.tryAgain")}),x.Cp("AppleID.auth.signIn Failed: ".concat(JSON.stringify(e))))}finally{l(),b(!1)}}},icon:(0,h.jsx)(wr.sCF,{})},s),{},{children:t}))};var Jr=n(3799),Qr=n(2540),Xr=n(8076),Zr=n(1708),ei=n(3216),ti=n(2284);const ni=e=>{let{visible:t,title:n="",content:r,isCancelable:i=!1,onCancel:a,onAccept:o}=e;const{t:l}=(0,c.B)("authCommon");return(0,h.jsx)(Jr.d,{visible:t,titleLabel:n,footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{fluid:!0,onClick:o,children:(0,h.jsx)("button",{type:"button",children:l("authCommon:dialog.okLabel")})}),i&&(0,h.jsx)(p.j,{fluid:!0,onClick:a,intent:"secondary",children:(0,h.jsx)("button",{type:"button",children:l("authCommon:dialog.cancelLabel")})})]}),children:r})},ri=e=>{let{visible:t,title:n="",content:r,isCancelable:i=!1,onCancel:a,onAccept:o}=e;const{t:l}=(0,c.B)("authCommon"),s=[(0,h.jsx)(ae.$,{onClick:o,children:l("authCommon:dialog.okLabel")},"accept"),i&&a?(0,h.jsx)(ae.$,{onClick:a,variant:"secondary",children:l("authCommon:dialog.cancelLabel")},"cancel"):void 0];return(0,h.jsx)(ei.z,{visible:t,onClose:a||o,a11yPattern:"modal",appearance:"panel",placement:"center",paddingBlock:"spacing24",paddingInline:"spacing24",contentGap:"spacing16",renderTitle:e=>{let{id:t}=e;return(0,h.jsx)(ti.a,{id:t,size:"large",weight:"bold",align:"center",children:n})},renderBody:e=>{let{id:t}=e;return(0,h.jsxs)(Xr.s,{direction:"column",gap:"spacing16",children:[(0,h.jsx)(Qr.a,{id:t,align:"center",children:r}),(0,h.jsx)(Zr.X,{buttons:s})]})}})};class ii{static log(e){console.log(e)}}const ai=()=>new Promise((e=>{FB.api("/me?fields=name,email",(t=>{t?e(t):ii.log("Failed getting user profile.")}))})),oi=()=>new Promise(((e,t)=>{window.FB.login((n=>{let{authResponse:r}=n;r?e(r):(ii.log("User cancelled login or did not fully authorize."),t())}),{scope:"email,public_profile"})}));function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function si(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ui=e=>{let{label:t,onNotFound:n,onPopUpOpened:i=(()=>{}),onPopUpClosed:a=(()=>{}),buttonProps:o}=e;const{t:l}=(0,c.B)("signin"),[s]=rt(),[u,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),{navigate:f}=(0,_r.f)(),{setHasAuthenticatedToken:g}=Ae(),{createOIDCSession:v}=Nr();return An("https://connect.facebook.net/en_US/sdk.js"),window.fbAsyncInit=()=>{window.FB.init({appId:"466308336793848",cookie:!0,xfbml:!1,version:"v17.0"})},(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ni,{visible:!!u,onAccept:()=>d(""),content:u,title:l("authCommon:error.failedAuthentication")}),(0,h.jsx)(Zt,li(li({"location-2":"facebook_button",onClick:async()=>{if(!p){m(!0);try{i();const{accessToken:e}=await oi();if(!e)throw new Error("No access token for Facebook login");const{data:t,error:r}=await s({accessToken:e});if(t&&"poa"in t)Hr(t.id,yt.Facebook),Ee.log(Rr(yt.Facebook)),await Dr({uid:zr(t.id),event:"login_complete"}),v(t.poa);else{if(m(!1),t&&t.errors[0]){const{code:r}=null==t?void 0:t.errors[0];if(r===nt.NotFoundException){const t=await ai();n({name:t.name,email:t.email,accessToken:e})}}if(null!=r&&r.errors[0]){const{code:t,message:n}=null==r?void 0:r.errors[0];t===nt.MFAException?(g(!0),f("/signin/mfa",{state:{accessToken:e,message:r.errors[0].message,method:yt.Facebook}})):d(n)}}}catch(e){m(!1)}finally{a()}}},icon:(0,h.jsx)(wr.SfI,{})},o),{},{children:t}))]})},di=()=>{const e=An("https://accounts.google.com/gsi/client"),[t,n]=(0,r.useState)(null);return(0,r.useEffect)((()=>{if(e===In.READY){const{google:e}=window;if(!e)return;const t=e.accounts.oauth2.initTokenClient({client_id:"474244342606-38l9ibil67k39mslatr22hu22pk8jqu4.apps.googleusercontent.com",scope:"profile email",callback:()=>{},error_callback:void 0});n(t)}}),[e]),{client:t}},pi=new RegExp("(".concat(["WebView","(iPhone|iPod|iPad|Line)(?!.*Safari)","Android.*; wv\\)"].join("|"),")"),"ig"),mi=new RegExp("Android.*;","ig"),hi=e=>{const[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{"undefined"!=typeof window&&(n(!!window.navigator.userAgent.match(e)),a(!1))}),[e]),[t,i]},fi=()=>hi(pi),gi=()=>hi(mi),vi=async e=>{const t=new Headers;t.append("Authorization","Bearer ".concat(e));const n=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:t});return await n.json()};function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(n),!0).forEach((function(t){ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ji(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Oi=e=>{let{onNotFound:t,label:n,onPopUpOpened:i=(()=>{}),onPopUpClosed:a=(()=>{}),buttonProps:o}=e;const{t:l}=(0,c.B)("authCommon"),{client:s}=di(),[u]=at(),{navigate:d}=(0,_r.f)(),[p,m]=(0,r.useState)(null),[f,g]=(0,r.useState)(!1),{setHasAuthenticatedToken:v}=Ae(),[b]=fi(),{createOIDCSession:y}=Nr();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ni,{visible:!!p,onAccept:()=>m(null),content:null==p?void 0:p.message,title:null==p?void 0:p.title}),(0,h.jsx)(Zt,yi(yi({"location-2":"google_button",onClick:async()=>{if(b)m({title:l("authCommon:error.cannotLoginWebviewTitle"),message:l("authCommon:error.cannotLoginWebviewText")});else if(s)try{i(),(async e=>{if(f)return;g(!0);const n=e.access_token,{data:r,error:i}=await u(n);if(r&&"poa"in r)Hr(r.id,yt.Google),Ee.log(Rr(yt.Google)),await Dr({uid:zr(r.id),event:"login_complete"}),y(r.poa);else{if(g(!1),r&&r.errors[0]){const{code:e}=null==r?void 0:r.errors[0];if(e===it.NotFoundException){const e=await vi(n);t({name:e.name,email:e.email,accessToken:n})}}if(null!=i&&i.errors[0]){const{code:e,message:t}=null==i?void 0:i.errors[0];e===it.MFAException?(v(!0),d("/signin/mfa",{state:{accessToken:n,message:i.errors[0].message,method:yt.Google}})):m({message:t,title:l("authCommon:error.failedAuthentication")})}}})(await new Promise(((e,t)=>{s.callback=n=>{n.error&&t(n),e(n)},s.error_callback=e=>{t(e)},s.requestAccessToken({prompt:"consent"})})))}catch(t){if(g(!1),"popup_closed"!==t.type){var e,n;const r=null!==(e=null!==(n=null==t?void 0:t.error)&&void 0!==n?n:null==t?void 0:t.type)&&void 0!==e?e:t;x.Cp(new Error("Google signin failed: ".concat(r)),{extra:{rawError:t}})}}finally{a()}else m({title:l("authCommon:error.genericAuthFailedTitle"),message:l("authCommon:error.genericAuthFailedActionText")})},icon:(0,h.jsx)(wr.Xdw,{})},o),{},{children:n}))]})},wi="line_login_state",xi=e=>{(0,he.TV)(wi,window.btoa(JSON.stringify(e)),{path:"/",expires:new Date(Date.now()+3e5)})},Pi=()=>{try{const e=(0,he.Ri)(wi);return e?JSON.parse(window.atob(e)):null}catch(e){return null}};var Ei=n(2869);const _i=["fullScreen","fluid"];var Si,Ci,ki;function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ai(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const zi=j.Ay.div(Si||(Si=Di(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 50%;\n  background-color: var(--alias-color-background-primary-default);\n"]))),Ti=j.Ay.div(Ci||(Ci=Di(["\n  display: flex;\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: ",";\n  ","\n"])),(e=>e.fluid?"100%":"250px"),(e=>e.fullScreen&&(0,j.AH)(ki||(ki=Di(["\n      position: fixed;\n      z-index: ",";\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      height: 100vh;\n    "])),Z.fE.loadingScrim))),Fi=e=>{let{fullScreen:t=!1,fluid:n=!1}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,_i);return(0,h.jsxs)(Ti,Ii(Ii({"data-testid":t?"full-screen-loading-scrim":"loading-scrim",fluid:n,fullScreen:t},r),{},{children:[(0,h.jsx)(zi,{}),(0,h.jsx)(Ei.s,{color:"primary"})]}))};function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ri(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vi=e=>{let{label:t,buttonProps:n}=e;const{t:i}=(0,c.B)("authCommon"),{search:a,state:o}=(0,s.zy)(),l=Boolean((0,s.RQ)("/signin")),[u,d]=(0,r.useState)(null),[p,m]=dt();return(0,r.useEffect)((()=>{var e,t;null!=o&&o.error&&("PermissionDenied"!==o.error&&d({title:null!==(e=o.title)&&void 0!==e?e:i("authCommon:error.failedAuthentication"),message:null!==(t=o.message)&&void 0!==t?t:i("authCommon:error.genericAuthFailedActionText")}),window.history.replaceState(null,""))}),[]),m.loading?(0,h.jsx)(Fi,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ni,{visible:!!u,onAccept:()=>{d(null)},content:null==u?void 0:u.message,title:null==u?void 0:u.title}),(0,h.jsx)(Zt,Li(Li({"location-2":"line_button",onClick:async()=>{var e;Be();const t=await p();if(We(t))d({title:i("authCommon:error.failedAuthentication"),message:t.error.message});else if(null!==(e=t.data)&&void 0!==e&&e.nonce){const e=new URLSearchParams(a).get("params");e&&xi({origin:l?"signin":"signup",params:e});const n="".concat("https://auth.mercari.com","/jp/v1/rp/line/signin?").concat(E.stringify({nonce:t.data.nonce,success_callback_url:"".concat(window.location.origin,"/webauth/line/callback_success"),error_callback_url:"".concat(window.location.origin,"/webauth/line/callback_error")}));window.location.assign(n)}},icon:(0,h.jsx)(wr.gRO,{}),extraParams:{authMethod:le.qR.AUTH_METHOD_LINE}},n),{},{children:t}))]})};let Bi=function(e){return e.GOOGLE="SNS_GOOGLE",e.FACEBOOK="SNS_FACEBOOK",e.APPLE="SNS_APPLE",e.LINE="SNS_LINE",e.UNKNOWN="UNKNOWN",e}({});const Ui=(0,r.createContext)(void 0),Hi=e=>{let{availableProviders:t,setErrorPayload:n}=e;const{t:i}=(0,c.B)("signin"),[a,o]=(0,r.useState)(!1),l=()=>(o(!0),new Promise((e=>{setTimeout((()=>{e()}),100)}))),s=()=>{o(!1)};return(0,h.jsxs)(h.Fragment,{children:[a&&(0,h.jsx)(Fi,{fullScreen:!0}),t.map((e=>{switch(e){case Bi.GOOGLE:return(0,h.jsx)(Oi,{label:i("signin:home.loginWithGoogle"),buttonProps:{marginBlockEnd:"spacing8"},onNotFound:()=>{n({title:i("signin:error.noGoogle"),content:i("signin:error.confirmAccount")})},onPopUpOpened:l,onPopUpClosed:s},e);case Bi.FACEBOOK:return(0,h.jsx)(ui,{label:i("signin:home.loginWithFacebook"),buttonProps:{marginBlockEnd:"spacing8"},onNotFound:()=>{n({title:i("signin:error.noFacebook"),content:i("signin:error.confirmAccount")})},onPopUpOpened:l,onPopUpClosed:s},e);case Bi.APPLE:return(0,h.jsx)(Yr,{label:i("signin:home.signinWithApple"),mode:Kr.SignIn,setErrorDialog:n,onPopUpOpened:l,onPopUpClosed:s,buttonProps:{marginBlockEnd:"spacing8"}},e);case Bi.LINE:return(0,h.jsx)(Vi,{label:i("signin:home.loginWithLINE"),buttonProps:{marginBlockEnd:"spacing8"}},e);default:return null}}))]})},Ki=e=>{let{children:t}=e;const[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),c={availableProviders:n,setAvailableProviders:i,hasAvailableProviders:n.length>0,snsProviderComponent:(0,h.jsx)(Hi,{availableProviders:n,setErrorPayload:o})};return(0,h.jsxs)(Ui.Provider,{value:c,children:[t,(0,h.jsx)(ni,{visible:!!a,onAccept:()=>{o(null)},title:null==a?void 0:a.title,content:null==a?void 0:a.content})]})},qi={availableProviders:[],setAvailableProviders:()=>{},hasAvailableProviders:!1,snsProviderComponent:null},Gi=()=>{const e=(0,r.useContext)(Ui);return null!=e?e:qi},Wi=()=>(0,h.jsx)(Ki,{children:(0,h.jsx)(s.sv,{})});let $i=function(e){return e.None="",e.NoAuth="urn:mercari:acr:noauth",e.SingleFactor="urn:mercari:acr:sf",e.MultiFactor="urn:mercari:acr:mf",e.MultiFactorPhisingResistant="urn:mercari:acr:mfphr",e}({});function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){Qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xi="internationalRegistrationInfo",Zi=()=>{const e=Jn(Xi);return(null==e?void 0:e.uuid)===$n()?e.value:void 0},ea={name:"",email:"",password:"",registerId:"",method:yt.Mercari,ivCode:"",firstName:"",familyName:"",firstNameKana:"",familyNameKana:"",birthday:"",phoneNumber:"",optIn:!0},ta={kycStatus:"pending",acr:$i.NoAuth,emailVerified:!1},na=(0,r.createContext)({authenticationState:ta,saveAuthenticationState:()=>{},signupState:ea,saveSignupState:()=>{},saveShippingAddress:()=>{},saveExistingRegistrationInfo:()=>{},resetRegistrationStates:()=>{}}),ra=()=>(0,r.useContext)(na),ia=e=>{let{children:t,initState:n={},initStateShippingAddress:i}=e;const{getRouterState:a}=(0,_r.f)(),o=a(),[c,l]=(0,r.useState)(ta),[s,u]=(0,r.useState)(Ji(Ji({},ea),n)),[d,p]=(0,r.useState)(i),m=(0,r.useCallback)((e=>u((t=>Ji(Ji({},t),e)))),[u]),f=(0,r.useCallback)((e=>{l((t=>Ji(Ji({},t),{},{poa:e.poa}))),m({email:e.email,countryCode:e.countryCode})}),[m]);return(0,r.useEffect)((()=>{null!=o&&o.email&&m({email:o.email})}),[null==o?void 0:o.email,m]),(0,h.jsx)(na.Provider,{value:{signupState:s,shippingAddress:d,saveSignupState:m,saveShippingAddress:p,authenticationState:c,saveAuthenticationState:l,saveExistingRegistrationInfo:f,resetRegistrationStates:()=>{u(ea),l(ta)}},children:t})},aa=()=>(0,h.jsx)(ia,{children:(0,h.jsx)(s.sv,{})});var oa=n(3938);function ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(n),!0).forEach((function(t){sa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ua=(0,r.createContext)({showSnackbar:()=>{}}),da=()=>(0,r.useContext)(ua),pa=e=>{let{children:t}=e;const[n,i]=(0,r.useState)();return(0,h.jsxs)(ua.Provider,{value:{showSnackbar:i},children:[t,(0,h.jsx)(oa.W,la(la({"data-testid":"snackbar",visible:!!n,duration:"short",onClose:()=>{i(null)}},n),{},{children:null==n?void 0:n.button}))]})};var ma=n(5309),ha=n.n(ma);const fa={socureSessionToken:"",isLoading:!1},ga=(0,r.createContext)(fa),va=()=>(0,r.useContext)(ga),ba=e=>{let{children:t}=e;const{getFlag:n,isLoadingConfig:i}=pr(),a=n("webauth_socure_integration_frontend"),[o,c]=(0,r.useState)(""),[l,s]=(0,r.useState)(!1);(0,r.useEffect)((()=>{a&&(s(!0),ha().initialize({sdkKey:"fda7e267-7e3f-4ddc-a589-a9e1ffa16166",callback:{onSessionCreated(e){c(e),s(!1)},onError(e){x.Cp(e),s(!1)}}}))}),[a]);const u={socureSessionToken:o,isLoading:i||l};return(0,h.jsx)(ga.Provider,{value:u,children:t})},ya=e=>{let{children:t}=e;const{getFlag:n}=pr();return n("webauth_socure_integration_frontend")?(0,h.jsx)(ba,{children:t}):(0,h.jsx)(ga.Provider,{value:fa,children:t})};let ja=function(e){return e[e.Loading=0]="Loading",e[e.HomeScreen=1]="HomeScreen",e[e.RecoveryScreen=2]="RecoveryScreen",e[e.VerificationScreen=3]="VerificationScreen",e[e.GenericError=4]="GenericError",e[e.ChallengeTimeout=5]="ChallengeTimeout",e[e.CustomerSupportRequiredError=6]="CustomerSupportRequiredError",e[e.InhouseAuthenticatorError=7]="InhouseAuthenticatorError",e[e.PasskeyRecoveryDisallowed=8]="PasskeyRecoveryDisallowed",e[e.CrossDeviceResumptionDisallowed=9]="CrossDeviceResumptionDisallowed",e[e.ChallengeFinish=10]="ChallengeFinish",e[e.EmailLinkRecoveryStart=11]="EmailLinkRecoveryStart",e[e.EmailLinkRecoveryVerify=12]="EmailLinkRecoveryVerify",e[e.CountryAndLanguageSelection=13]="CountryAndLanguageSelection",e[e.EligibilityCheck=14]="EligibilityCheck",e[e.SimpleKyc=15]="SimpleKyc",e[e.ReactivateUser=16]="ReactivateUser",e}({}),Oa=function(e){return e[e.ChallengeStartNoChallengeId=0]="ChallengeStartNoChallengeId",e[e.ChallengeStartToken=1]="ChallengeStartToken",e[e.ChallengeResumeError=2]="ChallengeResumeError",e[e.ChallengeResumeToken=3]="ChallengeResumeToken",e[e.RecaptchaScript=4]="RecaptchaScript",e[e.ChallengeIntrospectNoData=5]="ChallengeIntrospectNoData",e[e.ChallengeIntrospectUnhandledVerification=6]="ChallengeIntrospectUnhandledVerification",e[e.ChallengeIntrospectStepTerminateFailed=7]="ChallengeIntrospectStepTerminateFailed",e[e.InhouseAuthenticatorErrorNoStepDetail=8]="InhouseAuthenticatorErrorNoStepDetail",e[e.ChallengeStepCompleteToken=9]="ChallengeStepCompleteToken",e[e.ChallengeFinishNoPoa=10]="ChallengeFinishNoPoa",e[e.EmailLinkRecoveryStartResendEmail=11]="EmailLinkRecoveryStartResendEmail",e[e.EmailLinkRecoveryStartSendEmail=12]="EmailLinkRecoveryStartSendEmail",e[e.EmailLinkRecoveryVerifyError=13]="EmailLinkRecoveryVerifyError",e[e.EmailLinkRecoveryVerifyNoEmailLinkCode=14]="EmailLinkRecoveryVerifyNoEmailLinkCode",e[e.HomeScreenVerifyEmailOTP=15]="HomeScreenVerifyEmailOTP",e[e.SignUpEmailAndPassword=16]="SignUpEmailAndPassword",e[e.SignUpContinuation=17]="SignUpContinuation",e[e.EmailOTPSendNoIssuanceId=18]="EmailOTPSendNoIssuanceId",e[e.EmailOTPResendNoIssuanceId=19]="EmailOTPResendNoIssuanceId",e[e.SmsAuthenticationOTPSubmission=20]="SmsAuthenticationOTPSubmission",e[e.SmsAuthenticationStart=21]="SmsAuthenticationStart",e[e.SmsRegistrationError=22]="SmsRegistrationError",e[e.SmsRegistrationOTPSubmission=23]="SmsRegistrationOTPSubmission",e[e.PasswordRegistrationPasswordSubmission=24]="PasswordRegistrationPasswordSubmission",e[e.FidoAuthenticationAPI=25]="FidoAuthenticationAPI",e[e.FidoAuthentication=26]="FidoAuthentication",e[e.FidoRegistrationAPI=27]="FidoRegistrationAPI",e[e.FidoRegistration=28]="FidoRegistration",e[e.DigitalIdentityVerificationIVOptions=29]="DigitalIdentityVerificationIVOptions",e[e.DigitalIdentityVerificationChallengeResumptionInitiate=30]="DigitalIdentityVerificationChallengeResumptionInitiate",e[e.DigitalIdentityVerificationEnvVariable=31]="DigitalIdentityVerificationEnvVariable",e[e.DigitalIdentityVerificationIVSessionIDNoSessionId=32]="DigitalIdentityVerificationIVSessionIDNoSessionId",e[e.DigitalIdentityVerificationIVVerify=33]="DigitalIdentityVerificationIVVerify",e[e.DigitalIdentityVerificationPOIPVerify=34]="DigitalIdentityVerificationPOIPVerify",e[e.CustomerSupportRequiredError=35]="CustomerSupportRequiredError",e}({}),wa=function(e){return e.Signin="signin",e.Recovery="recovery",e.DigitalIdentification="digital_identification",e}({});function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){Ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _a=(0,r.createContext)({vcfState:{challengeId:"",countryCode:""},orchestrator:{type:ja.Loading},showMsgToCheckCaptcha:!1,showNetworkErrorSnack:!1,setOrchestrator:()=>{},setVcfState:()=>{},resetVcfState:()=>{},updateVCFState:()=>{},setShowMsgToCheckCaptcha:()=>{},setShowNetworkErrorSnack:()=>{}}),Sa=()=>(0,r.useContext)(_a),Ca=e=>{let{children:t}=e;const[n,i]=(0,r.useState)({challengeId:"",countryCode:""}),[a,o]=(0,r.useState)({type:ja.Loading}),[c,l]=(0,r.useState)(null),[s,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),m=(0,r.useCallback)((()=>{i({challengeId:"",countryCode:""}),o({type:ja.Loading}),l(null),u(!1),p(!1)}),[i,o,l,u,p]),f=(0,r.useCallback)(((e,t)=>{i((n=>Pa(Pa({},n),{},{[e]:t})))}),[i]),g=(0,r.useCallback)((e=>l(e)),[l]);return(0,h.jsx)(_a.Provider,{value:{vcfState:n,orchestrator:a,setOrchestrator:o,setVcfState:i,resetVcfState:m,updateVCFState:f,verifyError:c,updateVerifyError:g,showMsgToCheckCaptcha:s,showNetworkErrorSnack:d,setShowMsgToCheckCaptcha:u,setShowNetworkErrorSnack:p},children:t})};var ka=n(4818),Na=n(5100),Ia=n(1430),Aa=n(996);function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){Ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ta(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fa=()=>{const e=(0,ge.gI)();return!(0,P.K)()||e&&"JP"!==e?["ja","en","zh-TW"]:["ja"]},Ma={fallbackLng:"ja",whitelist:Fa(),interpolation:{escapeValue:!1},react:{useSuspense:!1},ns:["authCommon","authValidation"],defaultNS:"authCommon"};var La=n(250);const Ra=e=>{let{to:t,children:n,search:r,onClick:i,className:a,state:o}=e;const{i18n:{language:u}}=(0,c.B)("signin"),d=(0,m.DT)(u),{search:p}=(0,s.zy)(),f="".concat(d).concat(t.replace(/^\//,"")).concat(null!=r?r:p);return(0,h.jsx)(l.N_,{className:a,to:f,onClick:i,state:o,children:n})};var Va,Ba,Ua,Ha,Ka=n(1989);function qa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Ga=j.Ay.div(Va||(Va=qa(["\n  display: flex;\n\n  "," {\n    margin: auto 0 auto auto;\n  }\n\n  "," {\n    margin: 0;\n  }\n"])),Z.$_[">=large"],Z.$_["<large"]),Wa=j.Ay.ul(Ba||(Ba=qa(["\n  margin: auto "," auto auto;\n  font-size: ",";\n"])),Ka.i.spacing[32],Ka.i.fontSize[100]),$a=j.Ay.li(Ua||(Ua=qa(["\n  "," {\n    :not(:first-child) {\n      margin-left: ",";\n    }\n    display: inline;\n  }\n\n  "," {\n    :not(:first-child) {\n      margin-top: ",";\n    }\n    display: block;\n  }\n"])),Z.$_[">=large"],Ka.i.spacing[24],Z.$_["<large"],Ka.i.spacing[8]),Ya=(0,j.Ay)(Mt)(Ha||(Ha=qa(["\n  color: var(--alias-color-text-primary-default);\n  &:hover {\n    color: var(--alias-color-text-primary-highlight);\n    text-decoration: underline;\n  }\n"]))),Ja=e=>{let{menuLinks:t}=e;return(0,h.jsx)(Ga,{children:(0,h.jsx)(Wa,{children:t.map((e=>(0,h.jsx)($a,{children:(0,h.jsx)(Ya,{href:e.link,rel:"noreferrer",children:e.text})},e.text)))})})},Qa=()=>{const{t:e,i18n:{language:t}}=(0,c.B)(["authCommon"]);return(0,h.jsx)(Ja,{menuLinks:[{text:e("authCommon:footer.menu.privacy.privacyPolicy"),link:m.I1.privacy(t)},{text:e("authCommon:footer.menu.privacy.termsOfUse"),link:m.I1.tos(t)},{text:e("authCommon:footer.menu.privacy.specificCommercialTransactions"),link:m.I1.tokutei(t)}]})},Xa=()=>{const{t:e,i18n:{language:t}}=(0,c.B)(["authCommon"]);return(0,h.jsx)(Ja,{menuLinks:[{text:e("authCommon:footer.menu.aboutMercari"),link:m.Uw.about(t,ve.sw.English)},{text:e("authCommon:footer.menu.support"),link:m.oS.helpCenterHome(t)},{text:e("authCommon:footer.menu.privacyAndTerms"),link:m.I1.globalPrivacy(t)}]})},Za=()=>{const e=(0,ge.gI)()!==ge.O4.Japan?Xa:Qa;return(0,h.jsx)(e,{})};var eo,to=n(1418),no=n(7247),ro=n(8741),io=n(9283);const ao=(0,j.Ay)(to._)(eo||(eo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-right: 24px;\n  "," {\n    margin-bottom: 24px;\n  }\n"])),Z.$_["<large"]),oo=e=>{switch(e){case ve.sw.Japanese:return ve.AT.Japanese;case ve.sw.English:return ve.AT.English;case ve.sw.TraditionalChinese:return ve.AT.TraditionalChinese;default:return ve.AT.Japanese}},co=e=>{let{currentLanguage:t}=e;const{changeLanguage:n}=(0,_r.f)();return(0,h.jsxs)(no.$,{children:[(0,h.jsx)(ro.H,{className:"toggle-button",onClick:()=>n(ve.sw.Japanese),role:"switch",checked:t===ve.sw.Japanese,"aria-label":"","aria-checked":t===ve.sw.Japanese?"true":"false",children:ve.AT.Japanese}),(0,h.jsx)(ro.H,{className:"toggle-button",onClick:()=>n(ve.sw.English),role:"switch",checked:t===ve.sw.English,"aria-label":"Switch to English","aria-checked":t===ve.sw.English?"true":"false",children:ve.AT.English}),(0,h.jsx)(ro.H,{className:"toggle-button",onClick:()=>n(ve.sw.TraditionalChinese),role:"switch",checked:t===ve.sw.TraditionalChinese,"aria-label":"","aria-checked":t===ve.sw.TraditionalChinese?"true":"false",children:ve.AT.TraditionalChinese})]})},lo=()=>{const{i18n:{language:e}}=(0,c.B)(),[t,n]=(0,r.useState)(!1);return(0,h.jsx)(ao,{visible:t,menu:(0,h.jsx)(co,{currentLanguage:e}),onClose:()=>n(!1),children:(0,h.jsx)(p.j,{intent:"tertiary",onClick:()=>n(!0),size:"small",children:(0,h.jsxs)("button",{type:"button",children:[(0,h.jsx)(io.S,{size:"small",className:"mer-spacing-r-4"}),(0,h.jsx)(La._,{children:oo(e)})]})})})};var so,uo;function po(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const mo=j.Ay.footer(so||(so=po(["\n  display: flex;\n  position: relative;\n  background-color: var(--alias-color-background-secondary-default);\n\n  "," {\n    display: flex;\n    padding: 24px 36px;\n\n    &.mobile {\n      display: none;\n    }\n  }\n\n  "," {\n    display: flex;\n    flex-direction: column;\n    padding: 24px 16px;\n\n    &.desktop {\n      display: none;\n    }\n  }\n\n  .toggle-language {\n    "," {\n      margin: 24px 0 0;\n    }\n  }\n\n  .rights {\n    "," {\n      margin: auto 0 auto 32px;\n    }\n\n    "," {\n      margin: 24px 0 0;\n    }\n  }\n"])),Z.$_[">=large"],Z.$_["<large"],Z.$_["<large"],Z.$_[">=large"],Z.$_["<large"]),ho=((0,j.Ay)(Ra)(uo||(uo=po(["\n  border: 1px solid var(--alias-color-border-secondary-default);\n  background: var(--alias-color-background-primary-default);\n  color: var(--alias-color-text-primary-default);\n  width: 160px;\n  height: 32px;\n  font-size: 14px;\n  line-height: 2em;\n  text-align: center;\n  cursor: pointer;\n  border-radius: 5px;\n  margin-right: 24px;\n  margin-top: 24px;\n\n  "," {\n    margin-top: 0;\n  }\n"])),Z.$_[">=large"]),()=>(0,h.jsx)(La._,{className:"rights",color:"secondary",element:"span",children:" Mercari, Inc."})),fo=()=>null,go=()=>{const e=Fa().length>1,{ready:t}=(0,c.B)();return t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(mo,{className:"desktop",children:[e&&(0,h.jsx)(lo,{}),(0,h.jsx)(fo,{}),(0,h.jsx)(Za,{}),(0,h.jsx)(ho,{})]}),(0,h.jsxs)(mo,{className:"mobile",children:[(0,h.jsx)(Za,{}),e&&(0,h.jsx)(lo,{}),(0,h.jsx)(fo,{}),(0,h.jsx)(ho,{})]})]}):null},vo=()=>{const e=(()=>{const[e,t]=(0,r.useState)(window.navigator.onLine),n=()=>{t(window.navigator.onLine)};return(0,r.useEffect)((()=>(window.addEventListener("offline",n),window.addEventListener("online",n),()=>{window.removeEventListener("offline",n),window.removeEventListener("online",n)}))),e})(),{t}=(0,c.B)("authCommon");return(0,h.jsx)(oa.W,{visible:!e,variant:"error",duration:"short",bodyText:t("authCommon:error.networkConnectionError")})};var bo,yo;function jo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Oo=r.lazy((()=>Promise.all([n.e(818),n.e(823)]).then(n.bind(n,9123)))),wo=j.Ay.div(bo||(bo=jo(["\n  display: flex;\n  flex-flow: column;\n  min-height: 100vh;\n"])));let xo=function(e){return e.XL="1440px",e.L="1280px",e.M="640px",e.S="480px",e}({});const Po=j.Ay.main(yo||(yo=jo(["\n  position: relative;\n  flex-grow: 1;\n  width: 100%;\n  max-width: ",";\n  margin: 0 auto;\n  padding: var(--grid-layout-page-padding-top) var(--grid-layout-page-padding-horizontal)\n    var(--grid-layout-page-padding-bottom);\n\n  "," {\n    // 64px = the height of header\n    min-height: calc(100vh - 64px);\n  }\n\n  "," {\n    // 56px = the height of header\n    min-height: calc(100vh - 56px);\n  }\n\n  section {\n    margin-bottom: 24px;\n    border-bottom: ",";\n\n    &.no-border {\n      border: none;\n    }\n  }\n"])),(e=>e.wide?xo.L:xo.M),Z.$_[">=large"],Z.$_["<large"],Z.PQ.primary),Eo=e=>{let{children:t,language:n}=e;const{urlSearchParams:{params:{noBackButton:r}}}=U(),{pathname:i}=(0,s.zy)(),a=(0,_r.j)(n,i),{vcfState:{challengeId:o}}=Sa(),c="/signup/purchase/amazon_pay"===a,l=Boolean(o);return(0,h.jsxs)(wo,{children:[(0,h.jsx)(dn,{hasBackButton:!r&&!l,language:n}),(0,h.jsx)(Po,{wide:c,children:t}),(0,h.jsx)(vo,{}),(0,h.jsx)(go,{}),!(0,P.K)()&&(0,h.jsx)(Oo,{})]})},_o=e=>{let{children:t}=e;const{pathname:n}=(0,s.zy)();return(0,r.useEffect)((()=>{const e=setTimeout((()=>{window.scrollTo(0,0)}),1);return()=>clearTimeout(e)}),[n]),(0,h.jsx)(h.Fragment,{children:t})},So=e=>{let{className:t="mer-spacing-t-24",onRecaptchaSolved:n=(()=>{}),shouldCallTheCallbackOnRecaptchaSolved:i=!1}=e;const[a,o]=(0,r.useState)(0),[c,l]=(0,r.useState)(void 0);An("https://www.recaptcha.net/recaptcha/api.js?onload=reCaptchaCallback&render=explicit");const s=Dn();return(0,r.useEffect)((()=>{const e=document.querySelector("#recaptchaV2 iframe");e&&(e.src=e.src.replace(/(theme=)[^&]+/,"$1".concat(s)))}),[a,s]),(0,r.useEffect)((()=>{void 0!==c&&i&&n(c)}),[c]),window.reCaptchaCallback=()=>{var e,t;null!==(e=window.grecaptcha)&&void 0!==e&&e.render&&null!==(t=window.grecaptcha)&&void 0!==t&&t.reset?0===a?o(window.grecaptcha.render("recaptchaV2",{sitekey:"6LfaQFAaAAAAAE0dajfklHWKA4lyQaT4JxEmIKNa",theme:s,callback:e=>{l(e)}})):window.grecaptcha.reset(a):x.Cp(new Error("grecaptcha not loaded correctly"))},(0,h.jsx)("div",{id:"recaptchaV2","data-testid":"recaptchaV2",className:t})},Co=()=>{const e="".concat(m.Uh,"/api.js?render=").concat("6Lf_LFAaAAAAAFVeAafRO4XcnPTS0yP_IPs2R_Gp");return An(e),(0,h.jsx)(h.Fragment,{})},ko=async function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(e){if(!window.grecaptcha||!window.grecaptcha.getResponse)throw new ReferenceError("window.grecaptcha.getResponse is undefined");return e(window.grecaptcha.getResponse(),2)}(t):async function(e,t){if(!window.grecaptcha||!window.grecaptcha.ready)throw new ReferenceError("window.grecaptcha.ready is undefined");return window.grecaptcha.ready((()=>{var n;if(null===(n=window.grecaptcha)||void 0===n||!n.execute)throw new ReferenceError("window.grecaptcha.execute is undefined");window.grecaptcha.execute(e,{action:"submit"}).then((e=>{t(e,3)}))})),new Promise(((e,t)=>{setInterval((()=>{window.grecaptcha&&window.grecaptcha.ready&&window.grecaptcha.execute||t(),e()}),5e3)}))}(e,t)},No=e=>{let{v3Failed:t,className:n,onRecaptchaV2Solved:r,shouldCallTheCallbackOnRecaptchaSolved:i}=e;return t?(0,h.jsx)(So,{className:n,onRecaptchaSolved:r,shouldCallTheCallbackOnRecaptchaSolved:i}):(0,h.jsx)(Co,{})},Io=e=>{let{action:t,className:n,v3Failed:r=!1,callback:i=(()=>{})}=e;const{scoreBasedFailed:a,checkboxBasedKey:o,scoreBasedKey:c}=qn();return a||r?(0,h.jsx)(Tn,{className:n,sitekey:o,action:t,callback:i}):(0,h.jsx)(Vn,{sitekey:c})};var Ao=n(8695);function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const To=(e,t)=>{var n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:le.y1.SCREEN_DISPLAY,location:e,url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)},Fo=()=>{const{getFlag:e,isLoadingConfig:t}=pr(),n=e("webauth_fingerprint_migration_frontend"),{isLoading:r,getData:i}=(0,Ao.eX)({extendedResult:!1},{immediate:!1});return{getFingerprintRequestId:async()=>{if(!n)return"";try{return(await i()).requestId||""}catch(e){return Ee.log(To("idp:verification:fingerprint:sdk_error")),x.Cp(e),""}},isLoading:t||null!=r&&r}};var Mo,Lo,Ro,Vo,Bo,Uo,Ho,Ko,qo,Go,Wo,$o,Yo,Jo,Qo,Xo,Zo,ec=n(6973),tc=n(9194),nc=n(7276);function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ac(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const cc=(0,j.Ay)(ec.b).attrs({level:1,align:"center"})(Mo||(Mo=oc(["\n  margin-bottom: 24px;\n"]))),lc=e=>(0,h.jsx)(nc.y,ic({level:"h1",weight:"bold",align:"start",marginBlockEnd:{sm:"spacing24",lg:"spacing32"}},e)),sc=(0,j.Ay)(ec.b).attrs((e=>{let{$center:t}=e;return{level:1,align:t?"center":"left"}}))(Lo||(Lo=oc(["\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(e=>{let{$marginBottom:t=!0}=e;return t&&(0,j.AH)(Ro||(Ro=oc(["\n      "," {\n        margin-bottom: ",";\n      }\n      margin-bottom: ",";\n    "])),Z.$_[">=large"],Ka.i.spacing[32],Ka.i.spacing[24])}),(e=>{let{$centeredOnMobile:t}=e;return t&&"".concat(Z.$_["<large"]," {\n    text-align: center;\n  }")}),(e=>{let{$centeredOnDesktop:t}=e;return t&&"".concat(Z.$_[">=large"]," {\n    text-align: center;\n  }")}),(e=>{let{$hidden:t}=e;return t&&(0,j.AH)(Vo||(Vo=oc(["\n      visibility: hidden;\n      position: absolute;\n      width: 0;\n      height: 0;\n    "])))})),uc=(0,j.Ay)(cc)(Bo||(Bo=oc(["\n  margin-bottom: ",";\n  "," {\n    margin-bottom: ",";\n  }\n"])),Ka.i.spacing[12],Z.$_["<large"],Ka.i.spacing[4]),dc=((0,j.Ay)(ec.b).attrs({level:2,titleType:"section",className:"mer-spacing-b-16"})(Uo||(Uo=oc([""]))),r.forwardRef(((e,t)=>(0,h.jsx)(Qr.a,ic({marginBlockEnd:"spacing16",ref:t},e))))),pc={L:"32px",M:"24px",S:"16px"},mc=j.Ay.div(Ho||(Ho=oc(["\n  ","\n\n  ","\n\n  ","\n"])),(e=>{let{marginBottom:t=!0,spacingSize:n="L"}=e;return t&&(0,j.AH)(Ko||(Ko=oc(["\n      margin-bottom: ",";\n    "])),pc[n])}),(e=>{let{borderTop:t,spacingSize:n="L"}=e;return t&&(0,j.AH)(qo||(qo=oc(["\n      padding-top: ",";\n      border-top: ",";\n    "])),pc[n],Z.PQ.primary)}),(e=>{let{borderBottom:t,spacingSize:n="L"}=e;return t&&(0,j.AH)(Go||(Go=oc(["\n      padding-bottom: ",";\n      border-bottom: ",";\n    "])),pc[n],Z.PQ.primary)})),hc=((0,j.Ay)(tc.I).attrs({className:"mer-spacing-y-32"})(Wo||(Wo=oc([""]))),{lg:"1fr"}),fc=j.Ay.div($o||($o=oc(["\n  display: grid;\n  grid-gap: var(--grid-layout-gutter);\n  grid-template-columns: ",";\n\n  "," {\n    grid-template-columns: ",";\n  }\n\n  "," {\n    grid-template-columns: ",";\n  }\n"])),(e=>{let{colTemplate:t=hc}=e;return t.lg}),Z.$_.medium,(e=>{let{colTemplate:t=hc}=e;return t.md||t.lg}),Z.$_.small,(e=>{let{colTemplate:t=hc}=e;return t.sm||t.md||t.lg})),gc=(0,j.Ay)(fc).attrs({colTemplate:{lg:"repeat(12, 1fr)",md:"1fr"}})(Yo||(Yo=oc(["\n  margin-bottom: ",";\n"])),(e=>{let{marginBottom:t=!1}=e;return t?"var(--grid-layout-gutter)":0})),vc=e=>{let{insetRight:t,insetLeft:n,hide:r}=e;return(0,j.AH)((()=>({paddingRight:t?"var(--grid-layout-inset)":"0",paddingLeft:n?"var(--grid-layout-inset)":"0",display:r?"none":"block"})))},bc=j.Ay.div(Jo||(Jo=oc(["\n  min-width: 0;\n  grid-column: ",";\n\n  ","\n\n  "," {\n    grid-column: ",";\n    ","\n  }\n\n  "," {\n    grid-column: ",";\n    ","\n  }\n"])),(e=>{let{gridColumn:t}=e;return(null==t?void 0:t.lg)||"auto"}),(e=>{var t,n,r;return vc({insetRight:null===(t=e.insetRight)||void 0===t?void 0:t.includes("lg"),insetLeft:null===(n=e.insetLeft)||void 0===n?void 0:n.includes("lg"),hide:null===(r=e.hide)||void 0===r?void 0:r.includes("lg")})}),Z.$_.medium,(e=>{let{gridColumn:t}=e;return(null==t?void 0:t.md)||"auto"}),(e=>{var t,n,r;return vc({insetRight:null===(t=e.insetRight)||void 0===t?void 0:t.includes("md"),insetLeft:null===(n=e.insetLeft)||void 0===n?void 0:n.includes("md"),hide:null===(r=e.hide)||void 0===r?void 0:r.includes("md")})}),Z.$_.small,(e=>{let{gridColumn:t}=e;return(null==t?void 0:t.sm)||(null==t?void 0:t.md)||"auto"}),(e=>{var t,n,r;return vc({insetRight:null===(t=e.insetRight)||void 0===t?void 0:t.includes("sm"),insetLeft:null===(n=e.insetLeft)||void 0===n?void 0:n.includes("sm"),hide:null===(r=e.hide)||void 0===r?void 0:r.includes("sm")})})),yc=(null===(Qo=globalThis.document)||void 0===Qo||null===(Qo=Qo.querySelector("header"))||void 0===Qo?void 0:Qo.offsetHeight)||64,jc=j.Ay.div(Xo||(Xo=oc(["\n  position: sticky;\n  top: calc(","px + var(--grid-layout-page-padding-top));\n"])),yc),Oc=j.Ay.div(Zo||(Zo=oc(["\n  display: flex;\n  flex-direction: ",";\n  flex-wrap: ",";\n  align-items: ",";\n  justify-content: ",";\n  ",";\n  ",";\n"])),(e=>e.flexDirection?e.flexDirection:"row"),(e=>e.flexWrap?"wrap":"nowrap"),(e=>{var t;return null!==(t=e.alignItems)&&void 0!==t?t:e.vCenter?"center":"normal"}),(e=>{var t;return null!==(t=e.justifyContent)&&void 0!==t?t:e.hCenter?"center":"normal"}),(e=>e.gap&&"gap: ".concat(Ka.i.spacing[e.gap])),(e=>e.flex&&"flex: ".concat(e.flex)));var wc,xc,Pc,Ec;function _c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Sc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,i]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const n=setTimeout((()=>i(e)),t);return()=>clearTimeout(n)}),[e,t]),[n]}(0,j.Ay)(La._)(wc||(wc=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  white-space: nowrap;\n"]))),(0,j.Ay)(La._)(xc||(xc=_c(["\n  word-break: break-word;\n  text-align: right;\n  cursor: pointer;\n"]))),(0,j.Ay)(La._)(Pc||(Pc=_c(["\n  white-space: nowrap;\n"]))),null===(Ec=globalThis.navigator)||void 0===Ec||null===(Ec=Ec.clipboard)||void 0===Ec||Ec.writeText;var Cc,kc,Nc,Ic,Ac,Dc=n(8223);function zc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Tc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}j.Ay.div(Cc||(Cc=zc(["\n  display: flex;\n  justify-content: end;\n  height: 70px;\n  align-items: center;\n"]))),j.Ay.div(kc||(kc=zc(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding-bottom: ",";\n"])),Ka.i.spacing[16]),(0,j.Ay)(Dc.A)(Nc||(Nc=zc(["\n  flex: 1;\n"]))),j.Ay.div(Ic||(Ic=Tc(["\n  position: sticky;\n  bottom: 0;\n  background: var(--alias-color-background-primary-default);\n  padding: 16px 0;\n  border-top: 1px solid var(--alias-color-border-primary-highlight);\n  display: flex;\n"]))),j.Ay.div(Ac||(Ac=Tc(["\n  position: sticky;\n  top: 57px;\n  background: var(--alias-color-background-primary-default);\n  padding: 16px 0 12px;\n  z-index: 1;\n"])));const Fc=e=>{let{children:t}=e;const{getFlag:n}=pr();return n("webauth_fingerprint_migration_frontend")?(0,h.jsx)(Ao.xG,{loadOptions:{apiKey:"YbhopNO8TV4urpXN8wlk",region:"ap",endpoint:["".concat("https://auth.mercari.com","/jp/v1/rp/ember/pulse"),Ao.b4.defaultEndpoint],scriptUrlPattern:["".concat("https://auth.mercari.com","/jp/v1/rp/ember/beacon?apiKey=<apiKey>&version=<version>&loaderVersion=<loaderVersion>"),Ao.b4.defaultScriptUrlPattern]},children:t}):(0,h.jsx)(h.Fragment,{children:t})};let Mc=function(e){return e.UserEmailConfirmationTokenNotfoundException="UserEmailConfirmationTokenNotfoundException",e.UserEmailConfirmationExpireTimeException="UserEmailConfirmationExpireTimeException",e.UserEmailConfirmationTokenAlreadyConsumedException="UserEmailConfirmationTokenAlreadyConsumedException",e.EmailConflictAtConfirmationException="EmailConflictAtConfirmationException",e.MissingParameterException="MissingParameterException",e}({});var Lc,Rc;function Vc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Bc=(0,j.Ay)(La._)(Lc||(Lc=Vc(["\n  white-space: pre-line;\n"]))),Uc=(0,j.Ay)(p.j)(Rc||(Rc=Vc(["\n  "," {\n    // Force style priority\n    &.merButton {\n      max-width: 420px;\n      margin: 0 auto;\n      display: block;\n    }\n  }\n"])),Z.$_[">=large"]),Hc=()=>{const{t:e,ready:t}=(0,c.B)(["email","authCommon"]),{urlSearchParams:{token:n}}=U(),[i,a]=(()=>{const[e,t]=Ze("".concat(fe(),"/email_confirmation/finish"));return[(0,r.useCallback)((t=>{let{token:n}=t;const r=new FormData;return r.set("token",n),e(r)}),[]),t]})();if((0,r.useEffect)((()=>{n&&i({token:N(n)})}),[i,n]),a.loading||!t)return(0,h.jsx)(Fi,{});if(a.error){const{title:t,body:n}=((e,t)=>{let{errors:n}=e;const r=null==n?void 0:n[0];switch(null==r?void 0:r.code){case Mc.UserEmailConfirmationTokenNotfoundException:return{title:t("email:confirmation.error.tokenNotFound.title"),body:t("email:confirmation.error.tokenNotFound.body")};case Mc.UserEmailConfirmationExpireTimeException:return{title:t("email:confirmation.error.tokenExpired.title"),body:t("email:confirmation.error.tokenExpired.body")};case Mc.UserEmailConfirmationTokenAlreadyConsumedException:return{title:t("email:confirmation.error.tokenAlreadyConsumed")};case Mc.EmailConflictAtConfirmationException:return{title:t("email:confirmation.error.emailConflict.title"),body:t("email:confirmation.error.emailConflict.body")};case Mc.MissingParameterException:return{title:t("email:confirmation.error.missingToken")};default:return null!=r&&r.message?(x.wd("Unexpected error from EmailConfirmationFinish API: ".concat(r.message)),{title:null==r?void 0:r.message}):{title:t("authCommon:pageError.unknownTitle"),body:t("authCommon:pageError.unknownBody")}}})(a.error,e);return(0,h.jsx)(d.h,{title:(0,h.jsx)(La._,{children:t}),body:n&&(0,h.jsx)(La._,{children:n})})}return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Nn,{title:e("authCommon:meta.title.email.confirmation"),noIndex:!0}),(0,h.jsx)(cc,{titleLabel:e("email:confirmation.title")}),(0,h.jsx)(Bc,{className:"mer-spacing-b-24",children:e("email:confirmation.description")}),(0,h.jsx)(Uc,{fluid:!0,intent:"primary",children:(0,h.jsx)("a",{href:"https://jp.mercari.com",children:e("email:confirmation.goToHome")})})]})},Kc=()=>{const{ready:e}=(0,c.B)(["email","authCommon"]);return e?(0,h.jsxs)(s.BV,{children:[(0,h.jsx)(s.qh,{path:"/confirmation",element:(0,h.jsx)(Hc,{})}),(0,h.jsx)(s.qh,{path:"*",element:(0,h.jsx)(y,{})})]}):(0,h.jsx)(Fi,{})};var qc=n(825);const Gc=()=>{const{t:e,ready:t}=(0,c.B)("authCommon"),{urlSearchParams:{provider:n}}=U();return t?"digital_identification_app_service"===n?(0,h.jsx)(d.h,{title:(0,h.jsx)("p",{children:e("authCommon:noCookieError.digitalIdentification.title")}),body:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:(0,h.jsx)(qc.x,{i18nKey:"authCommon:noCookieError.digitalIdentification.description",components:{cs:(0,h.jsx)(Mt,{href:m.t7.loginInquiries(ve.AT.Japanese)})}})}),(0,h.jsx)(p.j,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-y-32",children:(0,h.jsx)(Ra,{to:"/recovery",search:"?",children:e("authCommon:noCookieError.digitalIdentification.button")})})]})}):(0,h.jsx)(d.h,{title:(0,h.jsx)("p",{children:e("authCommon:noCookieError.title")}),body:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:e("authCommon:noCookieError.description")}),(0,h.jsx)(p.j,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-t-32",children:(0,h.jsx)(Mt,{href:ft,children:e("authCommon:noCookieError.button")})}),(0,h.jsx)(p.j,{fluid:!0,intent:"secondary",size:"medium",className:"mer-spacing-y-16",children:(0,h.jsx)(Mt,{href:m.t7.loginInquiries(ve.AT.Japanese),children:e("authCommon:noCookieError.enquiry")})})]})}):(0,h.jsx)(Fi,{})},Wc=()=>(0,h.jsx)(s.BV,{children:(0,h.jsx)(s.qh,{path:"/cookie",element:(0,h.jsx)(Gc,{})})});var $c=n(6443),Yc=n(4991),Jc=n(3152),Qc=n(169),Xc=n(3829),Zc=n(1405),el=n(5410),tl=n(4153),nl=n(7212),rl=n(1004),il=n(5631),al=n(7483),ol=n(2376);const cl=e=>{let{errorsId:t,errorMessage:n}=e;return(0,h.jsx)(ol.z,{errorsId:t,errors:[(0,h.jsx)(al.E,{label:n},"error")]})};var ll=n(5149);const sl={baseURL:"".concat(fe())},ul=(0,r.forwardRef)(((e,t)=>{let{name:n="gender",className:i}=e;const{formState:{errors:a},control:o}=(0,Jc.xW)(),[l,s]=(()=>{var e;const[t,n]=tt("/v2/userMainProfileAttributesDefinition",sl,{withAccessToken:!0});return[t,null===(e=n.data)||void 0===e||null===(e=e.attributes.find((e=>{let{title:t}=e;return"gender"===t})))||void 0===e||null===(e=e.availableValues.find((e=>{let{key:t}=e;return"COMMON"===t})))||void 0===e?void 0:e.values]})();(0,r.useEffect)((()=>{l({})}),[l]);const{t:u}=(0,c.B)("signup");return(0,h.jsx)(Jc.xI,{control:o,name:n,render:e=>{var r;let{field:{onChange:o}}=e;return(0,h.jsx)(ll.g,{cols:1,label:u("signup:identification.gender.label"),helpMessage:u("signup:identification.gender.helpMessage"),error:!!a[n],errorMessage:null===(r=a[n])||void 0===r||null===(r=r.message)||void 0===r?void 0:r.toString(),className:i,ref:t,children:null==s?void 0:s.map((e=>{let{id:t,text:n}=e;return(0,h.jsx)(Dc.A,{label:(0,h.jsx)(La._,{children:u("signup:identification.gender.".concat(n))}),children:(0,h.jsx)(tn,{name:"gender",value:t,onChange:()=>o({id:t,text:n}),"location-3":"gender_select"})},t)}))})}})})),dl=["name","rules","onChange","onBlur","error","disabled","disableUIOnly"],pl=["onChange","onBlur","ref","disabled"],ml=["name","rules","onChange","onBlur","disabled","disableUIOnly","title"],hl=["onChange","onBlur","ref","disabled"],fl=["name","rules","onChange","onBlur","disabled","disableUIOnly","title"],gl=["onChange","onBlur","ref","disabled"],vl=["rules","onBlur","className","name","disabled","disableUIOnly"],bl=["ref","onBlur","disabled"],yl=["name","rules","onChange","onBlur","error"],jl=["onChange","onBlur","ref"];function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const El=(0,r.forwardRef)(((e,t)=>{let{name:n,rules:r,onChange:i,onBlur:a,error:o,disabled:c,disableUIOnly:l}=e,s=Pl(e,dl);const{control:u,formState:{errors:d}}=(0,Jc.xW)();return(0,h.jsx)(Jc.xI,{control:u,name:n,rules:r,disabled:c,render:e=>{var r;let{field:{onChange:c,onBlur:u,ref:p,disabled:m}}=e,f=Pl(e.field,pl);return(0,h.jsx)(Xc.A,wl(wl(wl({fluid:!0,type:"text",error:null!=o?o:!!d[n],errorMessage:null===(r=d[n])||void 0===r||null===(r=r.message)||void 0===r?void 0:r.toString(),"data-testid":n,onChange:e=>{c(e),i&&i(e)},onBlur:e=>{u(),a&&a(e)}},s),f),{},{disabled:m||l,ref:t,inputRef:p}))}})})),_l=(0,r.forwardRef)(((e,t)=>{var n;let{name:r,rules:i,onChange:a,onBlur:o,disabled:c,disableUIOnly:l,title:s}=e,u=Pl(e,ml);const{control:d,formState:{errors:p}}=(0,Jc.xW)(),m=null===(n=p[r])||void 0===n||null===(n=n.message)||void 0===n?void 0:n.toString(),f=!!m;return(0,h.jsx)(Jc.xI,{control:d,name:r,rules:i,disabled:c,render:e=>{let{field:{onChange:n,onBlur:i,ref:c,disabled:d}}=e,p=Pl(e.field,hl);return(0,h.jsx)(tl.F,{renderInput:e=>(0,h.jsx)(il.k,wl(wl(wl({"aria-invalid":f,width:"fluid","data-testid":r},e),{},{id:r,onChange:e=>{n(e),a&&a(e)},onBlur:e=>{i(),o&&o(e)},disabled:d||l,ref:t},p),u)),renderLinearTitleSet:e=>(0,h.jsx)(nl.W,wl({title:null!=s?s:""},e)),renderHintGroup:f?e=>{let{errorsId:t}=e;return(0,h.jsx)(cl,{errorsId:t,errorMessage:m})}:void 0})}})})),Sl=(0,r.forwardRef)(((e,t)=>{let{name:n,rules:r,onChange:i,onBlur:a,disabled:o,disableUIOnly:l,title:s}=e,u=Pl(e,fl);const{control:d,formState:{errors:p}}=(0,Jc.xW)(),{t:m}=(0,c.B)("signin");return(0,h.jsx)(Jc.xI,{control:d,name:n,rules:r,disabled:o,render:e=>{var r;let{field:{onChange:o,onBlur:c,ref:d,disabled:f}}=e,g=Pl(e.field,gl);const v=null===(r=p[n])||void 0===r||null===(r=r.message)||void 0===r?void 0:r.toString(),b=!!v;return(0,h.jsx)(tl.F,{renderLinearTitleSet:e=>(0,h.jsx)(nl.W,wl({title:null!=s?s:""},e)),renderInput:e=>(0,h.jsx)(rl.y,wl(wl(wl({passwordVisibleTitle:m("authCommon:password.ds4.passwordVisibleTitle"),passwordHiddenTitle:m("authCommon:password.ds4.passwordHiddenTitle"),visibilityButtonLabel:m("authCommon:password.ds4.visibilityButtonLabel"),width:"fluid"},e),{},{"aria-invalid":b,ref:t,"data-testid":n,id:n,autoCapitalize:"off",disabled:f||l,onChange:e=>{o(e),i&&i(e)},onBlur:e=>{c(),a&&a(e)}},g),u)),renderHintGroup:b?e=>{let{errorsId:t}=e;return(0,h.jsx)(cl,{errorsId:t,errorMessage:v})}:void 0})}})})),Cl=(0,r.forwardRef)(((e,t)=>{let{rules:n,onBlur:i,className:a,name:o="birthday",disabled:l,disableUIOnly:s}=e,u=Pl(e,vl);const{control:d,formState:{errors:p}}=(0,Jc.xW)(),{location:m}=Y(),{t:f}=(0,c.B)("signup"),{signupState:g}=ra();return(0,r.useEffect)((()=>{var e,t;null!==(e=p[o])&&void 0!==e&&e.message&&(null===(t=document.querySelector('input[placeholder="yyyy"]'))||void 0===t||t.focus())}),[p,o]),(0,h.jsx)(Jc.xI,{control:d,name:o,rules:n,disabled:l,render:e=>{var n;let{field:{ref:r,onBlur:i,disabled:c}}=e,l=Pl(e.field,bl);return(0,h.jsx)(Zc.A,wl(wl(wl({fluid:!0,label:f("signup:identification.birthday"),errorMessage:null===(n=p[o])||void 0===n||null===(n=n.message)||void 0===n?void 0:n.toString(),"data-testid":o,align:"left",yearLabel:f("signup:identification.year"),monthLabel:f("signup:identification.month"),dayLabel:f("signup:identification.day"),onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||i()}},u),l),{},{disabled:c||s,onClick:()=>{Ee.log(At(g.method,{location:"".concat(m.join(":"),":birthday_select")}))},ref:t,className:a}))}})})),kl=(0,r.forwardRef)(((e,t)=>{let{name:n,rules:r,onChange:i,onBlur:a,error:o}=e,c=Pl(e,yl);const{formState:{errors:l},control:s}=(0,Jc.xW)();return(0,h.jsx)(Jc.xI,{control:s,name:n,rules:r,render:e=>{var r;let{field:{onChange:s,onBlur:u,ref:d}}=e,p=Pl(e.field,jl);return(0,h.jsx)(el.H,wl(wl(wl({error:null!=o?o:!!l[n],errorMessage:null===(r=l[n])||void 0===r||null===(r=r.message)||void 0===r?void 0:r.toString(),"data-testid":n,onChange:e=>{s(e),null==i||i(e)},onBlur:e=>{u(),null==a||a(e)}},c),p),{},{ref:t}))}})}));var Nl,Il=n(1070),Al=n(9135);const Dl=j.Ay.div(Nl||(Nl=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  justify-content: flex-start;\n\n  mer-text {\n    margin: 0 0 0 4px;\n    line-height: ",";\n  }\n"])),Al.i.typography.pc.small.regular),zl=e=>{let{error:t,className:n,scrollIntoView:i=!1}=e;const a=Ot(t),o=a[0],c=(0,r.useRef)(null);return(0,r.useEffect)((()=>{var e,t;i&&(null===(e=c.current)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,{behavior:"smooth",block:"center"}))}),[i,o]),o?o.includes("reCAPTCHA verification failed")?null:(0,h.jsx)("div",{className:n,ref:c,children:a.map((e=>(0,h.jsxs)(Dl,{children:[(0,h.jsx)(Il.q,{color:"attention",size:"small"}),(0,h.jsx)(La._,{element:"span",color:"attention",children:e})]},e)))}):(0,h.jsx)(La._,{className:n,ref:c,color:"attention",children:t.message})},Tl=()=>ut("/jp/v1/criticize_password");function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){Bl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ul(e,t,n){const r=e.reduce(((e,t)=>"object"!=typeof e||null==e?null:t in e?e[t]:null),t);return"string"!=typeof r||""===r?n:r}function Hl(e,t){var n,r;const i=Ul(e.path,t.defaults,e.path.join(".")),a=e.code===Qc.eq.custom?null===(n=e.params)||void 0===n?void 0:n.validationName:e.code;if(!a)return i;const o=null===(r=t.overrideByValidationName)||void 0===r?void 0:r[a];return o?Ul(e.path,o,i):i}function Kl(e,t){return(n,r)=>{try{if(n.message)return{message:n.message};const r={fieldName:Hl(n,t)};switch(n.code){case Qc.eq.too_small:{const t=Vl(Vl({},r),{},{count:n.minimum});if("string"===n.type&&n.inclusive)return{message:e("authValidation:too_small.string.inclusiveMessage",t)};break}case Qc.eq.too_big:if("string"===n.type){const t=Vl(Vl({},r),{},{count:n.maximum});if(n.inclusive)return{message:e("authValidation:too_big.string.inclusiveMessage",t)}}break;case Qc.eq.custom:{const t=n.params||{};if("function"==typeof(null==t?void 0:t.getI18nMessage))return{message:t.getI18nMessage(e,r)};break}}}catch(e){}return{message:r.defaultError}}}const ql=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Gl(){return[e=>ql.test(e),{code:Qc.eq.custom,params:{validationName:"email",getI18nMessage:(e,t)=>e("authValidation:email.format",t)}}]}const Wl=/[0-9-]|/;function $l(){return[e=>""!==e,{code:Qc.eq.custom,params:{validationName:"required",getI18nMessage:(e,t)=>e("authValidation:required.input",t)}}]}function Yl(){return[e=>!e.match(["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"].join("|")),{code:Qc.eq.custom,params:{validationName:"notUseEmoji",getI18nMessage:(e,t)=>e("authValidation:notUseEmoji",t)}}]}const Jl=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]+$/;function Ql(){return[e=>!Jl.test(e),{code:Qc.eq.custom,params:{validationName:"notOnlySpace",getI18nMessage:(e,t)=>e("authValidation:notOnlySpace",t)}}]}const Xl=/[0-9-]/;function Zl(){return[e=>!Xl.test(e),{code:Qc.eq.custom,params:{validationName:"notUseNumber",getI18nMessage:(e,t)=>e("authValidation:notUseNumber",t)}}]}const es=/^[0-9]+$/;function ts(){return[e=>es.test(e),{code:Qc.eq.custom,params:{validationName:"phoneNumber",getI18nMessage:(e,t)=>e("authValidation:phoneNumber.format",t)}}]}function ns(){return[e=>Gl()[0](e)||ts()[0](e),{code:Qc.eq.custom,params:{validationName:"emailOrPhone",getI18nMessage:(e,t)=>e("authValidation:emailOrPhone.format",t)}}]}function rs(){return[e=>/^[0-9]+$/.test(e),{code:Qc.eq.custom,params:{validationName:"onlyHalfWidthNumber",getI18nMessage:(e,t)=>e("authValidation:onlyHalfWidthNumber",t)}}]}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function as(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function os(e,t){return[n=>n.length>=e&&n.length<=t,{code:Qc.eq.custom,params:{validationName:"range",getI18nMessage:(n,r)=>n("authValidation:phoneNumber.range",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){as(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({minLength:e,maxLength:t},r))}}]}var cs=n(1290);function ls(e){return[async t=>{var n,r;return!t.password||(null===(r=(await e({email:null!==(n=t.email)&&void 0!==n?n:"",password:t.password})).data)||void 0===r?void 0:r.status)===cs.cs.CRITICIZE_PASSWORD_STATUS_PASS},{code:Qc.eq.custom,path:["password"],params:{validationName:"passesCriticizeCheck",getI18nMessage:()=>""}}]}const ss=new Intl.DateTimeFormat("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}),us=Qc.Yj().max(104).refinement(...$l()).refinement(...Ql()).refinement(...Yl()).refinement(...Zl()),ds=Qc.Yj().transform((e=>e.replace(/-/g,"/"))).refinement(...$l()).refinement((e=>{const t=new Date(e);return!Number.isNaN(t.getTime())&&(new Date).setHours(0,0,0,0)>t.getTime()}),{code:Qc.eq.custom,params:{validationName:"birthday",getI18nMessage:(e,t)=>e("authValidation:invalidBirthday",t)}}).transform((e=>ss.format(new Date(e)).replace(/\//g,"-"))),ps=Qc.Yj().refinement(...$l()).refinement(...Gl()),ms=Qc.Yj().refinement(...$l()),hs=Qc.Ik({id:Qc.Yj(),text:Qc.Yj()}).optional().refinement((e=>"string"==typeof e?""!==e:!!e),{code:Qc.eq.custom,params:{validationName:"required",getI18nMessage:(e,t)=>e("authValidation:required.select",t)}}),fs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge.O4.Japan;const{minimumDigits:t,maximumDigits:n}=ge.zf[e];return Qc.Yj().refinement(...$l()).refinement(...ts()).refinement(...os(t,n))},gs=Qc.Yj().refinement(...ts()).refinement(...os(10,11)).optional().or(Qc.eu("")),vs=Qc.Yj().max(20).refinement(...$l()).refinement(...Yl()).refinement(...Ql()),bs=Qc.Yj().optional(),ys=e=>({defaults:{familyName:e("signup:validation.defaultFieldName.familyName"),firstName:e("signup:validation.defaultFieldName.firstName"),familyNameKana:e("signup:validation.defaultFieldName.familyNameKana"),firstNameKana:e("signup:validation.defaultFieldName.firstNameKana"),birthday:e("signup:validation.defaultFieldName.birthday"),gender:e("signup:validation.defaultFieldName.gender"),nickName:e("signup:validation.defaultFieldName.nickName")},overrideByValidationName:{notUseEmoji:{familyName:e("signup:validation.overrideFieldName.notUseEmoji.familyName"),firstName:e("signup:validation.overrideFieldName.notUseEmoji.firstName"),familyNameKana:e("signup:validation.overrideFieldName.notUseEmoji.familyNameKana"),firstNameKana:e("signup:validation.overrideFieldName.notUseEmoji.firstNameKana")},notUseNumber:{familyName:e("signup:validation.overrideFieldName.notUseNumber.familyName"),firstName:e("signup:validation.overrideFieldName.notUseNumber.firstName"),familyNameKana:e("signup:validation.overrideFieldName.notUseNumber.familyNameKana"),firstNameKana:e("signup:validation.overrideFieldName.notUseNumber.firstNameKana")},notOnlySpace:{familyName:e("signup:validation.overrideFieldName.notOnlySpace.familyName"),firstName:e("signup:validation.overrideFieldName.notOnlySpace.firstName"),familyNameKana:e("signup:validation.overrideFieldName.notOnlySpace.familyNameKana"),firstNameKana:e("signup:validation.overrideFieldName.notOnlySpace.firstNameKana")}}}),js=e=>({defaults:{email:e("signup:validation.defaultFieldName.email"),password:e("signup:validation.defaultFieldName.password"),name:e("signup:validation.defaultFieldName.name")},overrideByValidationName:{notUseEmoji:{name:e("signup:validation.overrideFieldName.notUseEmoji.name")},notOnlySpace:{name:e("signup:validation.overrideFieldName.notOnlySpace.name")}}}),Os=e=>({defaults:{phoneNumber:e("signup:validation.defaultFieldName.phoneNumber")},overrideByValidationName:{}});var ws=n(1882);const xs=(e,t)=>{const n=(0,r.useRef)(!0),i=t&&t.length>0;return(0,r.useEffect)((()=>{i&&n.current&&(n.current=!1,e())}),[i]),{onSetValue:t=>{n.current&&t.length>0&&(n.current=!1,e())},onFirstChange:t=>{n.current?(n.current=!1,e(t)):""===t.target.value&&i&&(n.current=!0)}}};function Ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Es(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _s=(e,t)=>{var n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ps(Object(n),!0).forEach((function(t){Es(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:le.y1.INPUT_BEGIN,authMethod:Et(e),url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)};var Ss,Cs;function ks(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Ns=j.Ay.div(Ss||(Ss=ks(["\n  display: flex;\n"]))),Is=j.Ay.div(Cs||(Cs=ks(["\n  & > ",":not(:first-child) {\n    margin-top: ",";\n  }\n"])),Ns,Ka.i.spacing[4]),As=e=>{let{result:t}=e;return $e(t)?(0,h.jsx)(Is,{"data-testid":"password-check-list-container",className:"mer-spacing-t-8",children:t.data.results.map((e=>(0,h.jsxs)(Ns,{"data-testid":"password-check-list",children:[(0,h.jsx)(ws.p,{"data-testid":"password-check-icon",color:e.status===cs.cs.CRITICIZE_PASSWORD_STATUS_PASS?"success":"secondary",className:"mer-spacing-r-4",size:"xsmall"}),(0,h.jsx)(La._,{type:"caption",children:e.message})]},e.message)))}):null},Ds=(0,r.memo)(As,((e,t)=>t.result.loading)),zs=e=>{var t;let{email:n="",password:i,label:a,className:o,disableUIOnly:l,disablePlaceholder:s}=e;const{location:u}=Y(),{t:d}=(0,c.B)("signup"),[p,m]=(0,r.useState)(!1),[f]=Sc(i),[g]=Sc(n),[v,b]=Tl(),{formState:{errors:y}}=(0,Jc.xW)(),{signupState:j}=ra(),{onFirstChange:O}=xs((async()=>{Ee.log(_s(j.method,{location:"".concat(u.join(":"),":password_input")}))}));return(0,r.useEffect)((()=>{p&&v({email:g,password:f})}),[g,f,p]),(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)(El,{name:"password",type:"password",label:a,autoCapitalize:"off",autoComplete:"new-password",placeholder:s?"":d("signup:email.placeholder.password"),disableUIOnly:l,error:(null==b||null===(t=b.data)||void 0===t?void 0:t.status)===cs.cs.CRITICIZE_PASSWORD_STATUS_FAIL||!!y.password,onFocus:()=>{m(!0)},onChange:O,onBlur:()=>{0===i.length&&m(!1)},onToggleShowPassword:e=>{Ee.log(At(j.method,{location:"".concat(u.join(":"),":password_input:show_hide_toggle"),enabled:e}))}}),p&&(0,h.jsx)(Ds,{result:b})]})},Ts=["isApiError"];var Fs,Ms,Ls;function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){Bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Us(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Hs=(0,j.Ay)((e=>{let{isApiError:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ts);return(0,h.jsx)("form",Vs({},n))}))(Fs||(Fs=Us(["\n  ","\n"])),(e=>e.isApiError&&(0,j.AH)(Ms||(Ms=Us(["\n      > mer-button {\n        margin: 16px 0 24px;\n      }\n    "]))))),Ks=(0,j.Ay)(zl)(Ls||(Ls=Us(["\n  margin: 0 0 24px;\n"]))),qs=()=>{const{t:e,i18n:{language:t}}=(0,c.B)("password-reset"),{navigate:n}=(0,_r.f)(),[i]=Tl(),a=Qc.Ik({password:Qc.Yj().refinement(...$l()),confirm:Qc.Yj().refinement(...$l())}).refine(...ls(i)).refine((e=>e.password===e.confirm),{message:e("password-reset:done.mismatch"),path:["confirm"]}),o=(0,$c.u)(a,{errorMap:Kl(e,{defaults:{password:e("password-reset:done.passwordDescription"),confirm:""}})}),[l,s]=tt("".concat(fe(),"/password_reset/heartbeat")),[u,d]=Ze("".concat(fe(),"/password_reset/reset")),{urlSearchParams:{token:f}}=U();(0,r.useEffect)((()=>{f&&l({token:f})}),[f]),(0,r.useEffect)((()=>{var e;Ee.log(("set_a_new_password",Ml({type:le.y1.SCREEN_DISPLAY,location:"set_a_new_password",url:null===(e=(0,ve.zk)())||void 0===e?void 0:e.location.pathname},undefined)))}),[]);const g=(0,Jc.mN)({resolver:o,reValidateMode:"onBlur",defaultValues:{password:"",confirm:""}}),v=g.watch("password");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:e("password-reset:done.title")}),(0,h.jsxs)(Yc.L,{visible:!f,titleLabel:e("password-reset:done.expired.title"),children:[(0,h.jsx)("div",{slot:"content",children:e("password-reset:done.expired.message")}),(0,h.jsx)("div",{slot:"footer",children:(0,h.jsx)(p.j,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-b-8",onClick:()=>n("/password/reset/start"),children:(0,h.jsx)("button",{type:"button","data-testid":"expired-submit",children:e("password-reset:done.expired.button")})})})]}),(0,h.jsx)(Jc.Op,Vs(Vs({},g),{},{children:(0,h.jsxs)(Hs,{onSubmit:g.handleSubmit((async(e,n)=>{null==n||n.preventDefault();const r=new FormData;r.append("password",e.password),r.append("password_confirmation",e.confirm),r.append("token",f||"");const{error:i}=await u(r);var a;i||(Ee.log(("set_a_new_password",Ml({type:le.y1.RESET_PASSWORD_COMPLETE,location:"set_a_new_password",url:null===(a=(0,ve.zk)())||void 0===a?void 0:a.location.pathname},undefined))),window.location.assign((0,m.eW)(t)))})),noValidate:!0,children:[(0,h.jsx)(zs,{password:v,label:e("password-reset:done.password")}),(0,h.jsx)(El,{name:"confirm",type:"password",autoCapitalize:"off",className:"mer-spacing-b-24 mer-spacing-t-16",label:e("password-reset:done.passwordConfirm"),helpMessage:e("password-reset:done.passwordDescription")}),!d.error&&s.error&&(0,h.jsx)(Ks,{error:s.error}),d.error&&(0,h.jsx)(Ks,{error:d.error}),(0,h.jsx)(p.j,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-b-24",children:(0,h.jsx)("button",{type:"submit","data-testid":"submit",children:e("password-reset:done.submit")})})]})}))]})};var Gs;const Ws=j.Ay.div(Gs||(Gs=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  justify-content: flex-start;\n  margin: 4px 0px;\n\n  mer-text {\n    margin: 0 0 0 4px;\n    line-height: ",";\n  }\n"])),Al.i.typography.pc.small.regular),$s=e=>{let{errorMessage:t}=e;return(0,h.jsxs)(Ws,{children:[(0,h.jsx)(Il.q,{color:"attention",size:"small"}),(0,h.jsx)(La._,{element:"span",color:"attention",children:t})]})};var Ys=n(1902);const Js=e=>{let{className:t}=e;return(0,h.jsx)("span",{className:t,children:(0,h.jsx)(Ys.X,{children:(0,h.jsx)(qc.x,{i18nKey:"authCommon:recaptchaPrivacyPolicyAndTermsOfService",components:{pp:(0,h.jsx)(Mt,{href:"https://policies.google.com/privacy"}),tos:(0,h.jsx)(Mt,{href:"https://policies.google.com/terms"})}})})})},Qs=(e,t)=>{(0,r.useEffect)((()=>{e&&Ee.log(To(e,{authMethod:Et(t)}))}),[e,t])},Xs=e=>e.includes("@")?le.ul.AUTH_ID_TYPE_EMAIL_ADDRESS:/^\d+$/.test(e)?le.ul.AUTH_ID_TYPE_PHONE_NUMBER:le.ul.AUTH_ID_TYPE_UNDEFINED,Zs=["isApiError"];var eu,tu,nu;function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function au(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ou(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const cu=(0,j.Ay)((e=>{let{isApiError:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Zs);return(0,h.jsx)("form",iu({},n))}))(eu||(eu=ou(["\n  ","\n"])),(e=>e.isApiError&&(0,j.AH)(tu||(tu=ou(["\n      > mer-button {\n        margin: 16px 0 24px;\n      }\n    "]))))),lu=(0,j.Ay)(zl)(nu||(nu=ou(["\n  margin: 24px 0 0;\n"]))),su=Qc.Ik({emailOrPhone:Qc.Yj().refinement(...$l()).refinement(...ns())}),uu=e=>(0,$c.u)(su,{errorMap:Kl(e,{defaults:{emailOrPhone:e("password-reset:start.emailOrPhone")}})}),du=(e,t)=>e.toString().includes("@")?t("password-reset:start.confirmation.descriptionWithEmail",{email:e}):t("password-reset:start.confirmation.description"),pu=()=>{const{t:e}=(0,c.B)("password-reset"),{t}=(0,c.B)("authCommon"),[n,i]=Ze("/password/reset/start",{baseURL:"".concat(fe(),"/services/web_auth/v1/")}),[a,o]=(0,r.useState)(!1),[l,s]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),{navigate:g}=(0,_r.f)();Qs("reset_password",yt.Mercari);const v=(0,Jc.mN)({resolver:uu(e),defaultValues:{emailOrPhone:""}}),b=v.watch("emailOrPhone");return(0,h.jsxs)(X,{"location-0":"reset_password",children:[(0,h.jsx)(cc,{titleLabel:e("password-reset:start.title")}),(0,h.jsx)(La._,{type:"body",className:"mer-spacing-b-24",children:e("password-reset:start.description")}),(0,h.jsx)(Jc.Op,iu(iu({},v),{},{children:(0,h.jsxs)(cu,{onSubmit:v.handleSubmit((async(e,t)=>{null==t||t.preventDefault(),d(!1),f(!1);const r=async(t,r)=>{if(!t)return void d(!0);const{error:i}=await n({email_or_phone:e.emailOrPhone,g_recaptcha_response:t,recaptcha_version:r});i?403!==i.status||a||o(!0):s(!0)};try{await ko("6Lf_LFAaAAAAAFVeAafRO4XcnPTS0yP_IPs2R_Gp",r,a)}catch(e){f(!0)}})),noValidate:!0,isApiError:!!i.error,children:[(0,h.jsx)(El,{name:"emailOrPhone",label:e("password-reset:start.emailOrPhone"),placeholder:"09000012345",className:"mer-spacing-b-24"}),(0,h.jsx)(No,{v3Failed:a}),u&&(0,h.jsx)($s,{errorMessage:t("authCommon:error.captchaNotChecked")}),i.error&&(0,h.jsx)(lu,{error:i.error}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-y-24","location-1":"body","location-2":"reset_button",extraParams:{authIdType:Xs(b)},children:(0,h.jsx)("button",{type:"submit","data-testid":"submit",children:e("password-reset:start.submit")})})]})})),(0,h.jsx)(Js,{}),(0,h.jsx)(Jr.d,{"data-testid":"confirmation-dialog",visible:!!l,titleLabel:e("password-reset:start.confirmation.title"),footer:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(p.j,{fluid:!0,onClick:()=>g("/signin"),children:(0,h.jsx)("button",{type:"submit",children:e("password-reset:start.confirmation.button")})})}),children:(0,h.jsx)("p",{children:du(b,e)})}),(0,h.jsx)(oa.W,{"body-text":t("authCommon:error.networkConnectionError"),visible:m,variant:"error",duration:"long","data-testid":"network-error-snackbar"})]})},mu=()=>{const{ready:e}=(0,c.B)(["password-reset","authCommon"]);return e?(0,h.jsxs)(s.BV,{children:[(0,h.jsx)(s.qh,{path:"/reset/start",element:(0,h.jsx)(pu,{})}),(0,h.jsx)(s.qh,{path:"/reset/done",element:(0,h.jsx)(qs,{})}),(0,h.jsx)(s.qh,{path:"*",element:(0,h.jsx)(y,{})})]}):(0,h.jsx)(Fi,{})};function hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(n),!0).forEach((function(t){gu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vu={authMethod:void 0,setIdentifier:()=>{},setAuthMethod:()=>{}},bu=(0,r.createContext)(vu),yu=()=>(0,r.useContext)(bu),ju=e=>{let{children:t,initState:n={}}=e;const[i,a]=(0,r.useState)(),[o,c]=(0,r.useState)(),l=fu(fu(fu({},vu),n),{},{identifier:i,setIdentifier:a,authMethod:o,setAuthMethod:c});return(0,h.jsx)(bu.Provider,{value:l,children:t})},Ou=()=>(0,h.jsx)(ju,{children:(0,h.jsx)(s.sv,{})});var wu=n(7792);const xu=()=>ut("/jp/v1/challenge/start",{withDPoP:!0}),Pu=()=>ut("/jp/v1/challenge/finish",{withDPoP:!0}),Eu=()=>ut("/jp/v1/challenge/identify",{withDPoP:!0});var _u=n(5423);const Su={baseURL:"".concat(fe())},Cu={baseURL:"".concat(fe())},ku=e=>Ze("/v2/userMainProfileAttributes/".concat(e,":update"),Cu,{withAccessToken:!0});function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(n),!0).forEach((function(t){Au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Au(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Du=18e5,zu=()=>{const{urlSearchParams:{params:{state:e}}}=U(),[t]=Ze("/services/notification_setting/v1/update_notification_settings",Su,{withAccessToken:!0}),[n]=(()=>{const[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(),[a,o]=ku(e),c=(0,r.useCallback)(((e,n)=>{t(e),i(n)}),[t,i]);return(0,r.useEffect)((()=>{e&&n&&a({name:"userMainProfileAttributes/".concat(e),allowMissing:!0,updateMask:{paths:["gender"]},gender:n})}),[e,n,a]),[c,o]})(),i=(e=>{if(!e)return null;try{const t=atob(N(e)),{path:n}=JSON.parse(t),{source:r}=E.parse(n.toString().replace(/^.*[?]/gm,""));return r}catch(e){return null}})(e),{signupState:{optIn:a}}=ra();return(0,r.useCallback)((async e=>{let{userId:r,method:o,ivCode:c,optIn:l,amazonCheckoutSessionId:s,paymentDescriptor:u,location:d,gender:p}=e;if(Ee.log(((e,t)=>{var n;return xt({type:le.y1.SIGN_UP_COMPLETE,authMethod:Et(e),url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)})(o,Iu(Iu({},d&&{location:d}),{},{sourceLocation:i?String(i):void 0,userId:r}))),l||a)try{await t({userId:r,setting:[{key:_u.om.TYPE_EMAIL_NEWS,value:!0}]})}catch(e){x.Cp(e)}p&&n(r,p),(e=>{let{ivCode:t,amazonCheckoutSessionId:n,paymentDescriptor:r}=e;const i={domain:(0,he.C4)(),path:"/",secure:!0};(0,he.TV)("justRegistered","true",i),t&&(0,he.TV)("ivCode",t,i),n&&(0,he.TV)("amazonCheckoutSessionId",n,Iu(Iu({},i),{},{expires:new Date(Date.now()+Du)})),r&&(0,he.TV)("amazonPaymentDescriptor",r,Iu(Iu({},i),{},{expires:new Date(Date.now()+Du)}))})({ivCode:c,amazonCheckoutSessionId:s,paymentDescriptor:u}),Ee.log(((e,t)=>{var n;return xt({type:le.y1.TAP,authMethod:Et(e),location:"sign_up_complete:body:email_opt_in",url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)})(o,{enabled:!!l})),await Promise.all([Ee.flushEvents(1e3),Dr({uid:r,event:"signup_done"})])}),[t,n,i,a])};var Tu=n(4066);const Fu="deviceTokens",Mu="currentToken",Lu="undefined"!=typeof window&&void 0!==window.indexedDB;let Ru=null;const Vu=async()=>{if(!Lu)return null;try{return Ru||(Ru=(0,Tu.P2)("mercari_auth",1,{upgrade(e){e.objectStoreNames.contains(Fu)||e.createObjectStore(Fu)}})),await Ru}catch(e){return x.Cp(e,{tags:{component:"deviceTokenManager",operation:"initDB"}}),null}},Bu={async save(e){if(e&&Lu)try{const t=await Vu();if(!t)return;await t.put(Fu,{token:e,timestamp:Date.now()},Mu)}catch(t){x.Cp(t,{tags:{component:"deviceTokenManager",operation:"save"},extra:{hasToken:!!e}})}},async get(){if(!Lu)return null;try{const e=await Vu();if(!e)return null;const t=await e.get(Fu,Mu);return t?Date.now()-t.timestamp>864e5?(await this.clear(),null):t.token:null}catch(e){return x.Cp(e,{tags:{component:"deviceTokenManager",operation:"get"}}),null}},async clear(){if(Lu)try{const e=await Vu();if(!e)return;await e.delete(Fu,Mu)}catch(e){x.Cp(e,{tags:{component:"deviceTokenManager",operation:"clear"}})}},async exists(){return null!==await this.get()}},Uu=e=>e.split("mercari:")[1],Hu=e=>e&&412===e.status&&e.errors.some((e=>{var t,n;return"9"===(null===(t=e.code)||void 0===t?void 0:t.toString())&&(null===(n=e.details)||void 0===n||null===(n=n.preconditionFailure)||void 0===n||null===(n=n.violations)||void 0===n?void 0:n.some((e=>"VERIFICATION_CHALLENGE_FAILURE_TYPE_SESSION_NOT_FOUND"===e.type)))})),Ku=e=>(0,h.jsx)("span",{children:e}),qu=()=>{const{vcfState:e,setVcfState:t,setOrchestrator:n,setShowMsgToCheckCaptcha:i,setShowNetworkErrorSnack:a}=Sa(),{urlSearchParams:o,updateSearchQuery:c}=U(),[l]=ut("/jp/v1/challenge/introspect",{withDPoP:!0}),[s]=ut("/jp/v1/challenge/resume",{withDPoP:!0}),[u]=Pu(),[d]=Er(),[p]=Pr(),{getToken:m}=qn(),{navigate:h}=(0,_r.f)(),{createOIDCSession:f}=Nr(),g=zu(),v=(0,r.useCallback)(((e,t)=>{const r=(0,_e.A)(),i=Oa[e];x.Cp(new Error("VCF Challenge Timeout at ".concat(i)),{extra:{requestId:t,flowSessionId:be()},tags:{errorId:r}}),n({type:ja.ChallengeTimeout,data:{debug:Ku(r)}})}),[n]),b=(0,r.useCallback)(((e,t)=>{if(Hu(null==t?void 0:t.error))return void v(e,null==t?void 0:t.requestId);const r=(0,_e.A)(),i=Oa[e],a=null==t?void 0:t.requestId;x.Cp(new Error("VCF Error at ".concat(i)),{extra:{requestId:a,flowSessionId:be()},tags:{errorId:r}}),n({type:ja.GenericError,data:{debug:Ku(r)}})}),[n,v]),y=(0,r.useCallback)((async e=>{var t;let{challengeIdArg:n,shouldRevokeToken:r}=e;const i=await u({challengeId:n});if(r)if(null!==(t=i.data)&&void 0!==t&&t.poa){var a;if(i.data.authorizationParameters&&(c(new URLSearchParams({params:i.data.authorizationParameters})),pe=de()),"signup"===o.params.onboarding_type){const e=Uu(i.data.subjectId);await g({userId:e,method:yt.Mercari,ivCode:Re()})}await d(),f(null===(a=i.data)||void 0===a?void 0:a.poa,void 0,i.data.authorizationParameters)}else b(Oa.ChallengeFinishNoPoa,i)}),[u,o.params.onboarding_type,d,f,c,g,b]),j=(0,r.useCallback)((async e=>{var t;let{challengeIdArg:r,resumptionClientMetadata:i}=e;const a=await l({challengeId:r});if(!a.data)return b(Oa.ChallengeIntrospectNoData,a),null;switch(a.data.step){case wu.C0.CHALLENGE_STEP_VCF_VERIFICATION:{const{availableRegistrationMethods:e,availableAuthenticationMethods:t,availableIdentityVerificationProtocols:r}=a.data,l=a.data.type===wu.it.CHALLENGE_TYPE_ELEVATION||a.data.type===wu.it.CHALLENGE_TYPE_RECOVERY||a.data.type===wu.it.CHALLENGE_TYPE_ONBOARDING&&a.data.isSubjectIdentified,d=!a.data.isSubjectIdentified&&"signin"===o.params.onboarding_type;var c,s,u;if(l||d)return n({type:ja.VerificationScreen,data:{availableAuthenticationMethods:t,availableRegistrationMethods:e,availableIdentityVerificationProtocols:r,isSubjectIdentified:null!==(c=null===(s=a.data)||void 0===s?void 0:s.isSubjectIdentified)&&void 0!==c&&c,resumptionClientMetadata:i,challengeType:null===(u=a.data)||void 0===u?void 0:u.type}}),a.data;const p=a.data.acr===$i.NoAuth;return p&&"signup"===o.params.onboarding_type?(n({type:ja.HomeScreen,data:{uiState:"signup",availableAuthenticationMethods:t,availableRegistrationMethods:e}}),a.data):p?(h("/signin/int"),a.data):(b(Oa.ChallengeIntrospectUnhandledVerification,a),a.data)}case wu.C0.CHALLENGE_STEP_TERMINATE_SUCCESS:return n({type:ja.ChallengeFinish,data:{challengeType:null===(t=a.data)||void 0===t?void 0:t.type}}),a.data;case wu.C0.CHALLENGE_STEP_REACTIVATE_USER:return n({type:ja.ReactivateUser}),a.data;case wu.C0.CHALLENGE_STEP_TERMINATE_FAILED_PASSKEY_RECOVERY_DISALLOWED:return n({type:ja.PasskeyRecoveryDisallowed}),a.data;case wu.C0.CHALLENGE_STEP_TERMINATE_FAILED_REQUIRE_CS_INTERVENTION:case wu.C0.CHALLENGE_STEP_TERMINATE_FAILED_NO_AVAILABLE_VERIFICATION_METHODS:return n({type:ja.CustomerSupportRequiredError}),a.data;case wu.C0.CHALLENGE_STEP_TERMINATE_FAILED_INHOUSE_AUTHENTICATOR_DEADLOCK:{var d;const e=null===(d=a.data)||void 0===d||null===(d=d.stepDetail)||void 0===d?void 0:d.terminateFailedInhouseAuthenticatorDeadlock;return e?n({type:ja.InhouseAuthenticatorError,data:e}):b(Oa.InhouseAuthenticatorErrorNoStepDetail,a),a.data}case wu.C0.CHALLENGE_STEP_REGISTRATION_ELIGIBILITY_CHECK:return n({type:ja.EligibilityCheck}),a.data;case wu.C0.CHALLENGE_STEP_KYC_SIMPLE:return n({type:ja.SimpleKyc,data:{userId:Uu(a.data.subjectId)}}),a.data;case wu.C0.CHALLENGE_STEP_TERMINATE_FAILED:default:return b(Oa.ChallengeIntrospectStepTerminateFailed,a),a.data}}),[l,b,n,o.params.onboarding_type,h]),O=(0,r.useCallback)((async()=>{var e,r;let c;try{c=await m(Ln.VerificationChallengeResume)}catch(e){return x.Cp(new Error("Failed to get recaptcha token for challenge resume")),a(!0),null}if(!c.token)return i(!0),null;const l=await Bu.get(),u={resumeToken:o.challenge_resume_token,gRecaptchaResponse:c.token,recaptchaVersion:c.version,deviceToken:l||""},d=await s(u);var h,f;if(null===(e=d.data)||void 0===e||!e.challengeId)return 412===(null===(h=d.error)||void 0===h?void 0:h.status)&&null!==(f=d.error)&&void 0!==f&&f.errors.some((e=>{var t,n;return"9"===(null===(t=e.code)||void 0===t?void 0:t.toString())&&(null===(n=e.details)||void 0===n||null===(n=n.preconditionFailure)||void 0===n||null===(n=n.violations)||void 0===n?void 0:n.some((e=>"VERIFICATION_CHALLENGE_FAILURE_TYPE_CROSS_DEVICE_RESUMPTION_DISALLOWED"===e.type)))}))?(n({type:ja.CrossDeviceResumptionDisallowed}),null):(b(Oa.ChallengeResumeError,d),null);if(null!==(r=d.data)&&void 0!==r&&r.poa){const e=await p(d.data.poa);if(e.error)return b(Oa.ChallengeResumeToken,e),null}return t({countryCode:d.data.countryCode,challengeId:d.data.challengeId}),d.data}),[o.challenge_resume_token,s,t,m,a,i,b,n,p]),w=(0,r.useCallback)((async function(){let{poa:t,challengeId:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t){const e=await p(t);if(e.error)return b(Oa.ChallengeStepCompleteToken,e),null}return await j({challengeIdArg:null!=n?n:e.challengeId})}),[j,e.challengeId,p,b]);return{handleChallengeFinish:y,handleChallengeIntrospection:j,handleChallengeResume:O,onComplete:w,onError:b,onTimeout:v}},Gu=["UG-535_Login_rebuild_for_JP_NEW"],Wu=()=>{const{setVcfState:e,updateVerifyError:t,setShowMsgToCheckCaptcha:n,setShowNetworkErrorSnack:i}=Sa(),{urlSearchParams:a}=U(),[o]=xu(),{onError:c}=qu(),{getToken:l,scoreBasedFailed:s,setScoreBasedFailed:u}=qn(),[d]=Pr(),{assignments:p}=pr(),m=(0,r.useMemo)((()=>p.filter((e=>Gu.includes(e.name)))),[p]);return{handleChallengeStart:(0,r.useCallback)((async(r,p)=>{var h,f,g,v;let b;try{b=await l(Ln.VerificationChallenge)}catch(e){return x.Cp(new Error("Failed to get recaptcha token for challenge start")),i(!0),null}if(!b.token)return n(!0),null;const y=null!==(h=null!=r?r:a.params.country_code)&&void 0!==h?h:"",j=null!==(f=a.oidc_poa)&&void 0!==f?f:"";let O=wu.$w.CHALLENGE_ONBOARDING_TYPE_UNSPECIFIED;"signup"===a.params.onboarding_type?O=wu.$w.CHALLENGE_ONBOARDING_TYPE_REGISTRATION:"signin"===a.params.onboarding_type&&(O=wu.$w.CHALLENGE_ONBOARDING_TYPE_LOGIN);const w={nonce:a.nonce,acrValues:a.acr_values,poa:j,gRecaptchaResponse:b.token,recaptchaVersion:b.version,countryCode:y,ivCert:Re(),essentialClaims:null!==(g=a.essential_claims)&&void 0!==g?g:"",optionalClaims:null!==(v=a.optional_claims)&&void 0!==v?v:"",isRecovery:!!p,challengeOnboardingType:O,authorizationParameters:new URLSearchParams(a.params).toString(),maxAge:"0",clientMetadata:{assignments:m.map((e=>({name:e.name,experimentId:e.experiment_id,treatmentId:e.treatment_id,stringValue:e.string_value,isUnderAnalysis:e.is_under_analysis})))}},P=await o(w);var E,_;if(!P.data)return 403!==(null===(E=P.error)||void 0===E?void 0:E.status)||s?(null==t||t(null!==(_=P.error)&&void 0!==_?_:null),c(Oa.ChallengeStartNoChallengeId,P),null):(u(!0),null);if(P.data.poa){const e=await d(P.data.poa);if(e.error)return c(Oa.ChallengeStartToken,e),null}return e({countryCode:P.data.countryCode,challengeId:P.data.challengeId}),P.data}),[a.params,a.oidc_poa,a.nonce,a.acr_values,a.essential_claims,a.optional_claims,m,o,e,l,i,n,s,t,c,u,d])}},$u=()=>{const{identifier:e}=yu(),{urlSearchParams:t}=U(),{scoreBasedKey:n}=qn(),i=Bn(n),{recoveryPreInspection:a}=(()=>{const[e]=Eu(),{updateVerifyError:t}=Sa(),n=(0,r.useCallback)((async(n,r)=>{null==t||t(null);const{error:i}=await e({identifier:r,challengeId:n,purpose:cs.j2.IDENTIFICATION_PURPOSE_RECOVERY,deriveFromChallengeId:""});return!i||(null==t||t(i),x.Cp(i),!1)}),[e,t]);return{recoveryPreInspection:n}})(),{handleChallengeResume:o,handleChallengeIntrospection:c,onError:l}=qu(),{handleChallengeStart:s}=Wu(),{vcfState:u,setOrchestrator:d}=Sa();return{initiateVCF:(0,r.useCallback)((async()=>{if(i!==In.READY)return i===In.ERROR&&l(Oa.RecaptchaScript),{};if(t.challenge_resume_token){const e=await o();return e?{start:e,introspection:await c({challengeIdArg:e.challengeId,resumptionClientMetadata:e.resumptionClientMetadata})}:{}}if(t.oidc_poa){const e=await s();return e?(await c({challengeIdArg:e.challengeId}),{start:e}):{}}if("signup"===t.params.onboarding_type&&Ee.log(_t("sign_up_select")),"signup"===t.params.onboarding_type&&!t.params.country_code&&!u.countryCode&&!e)return d({type:ja.CountryAndLanguageSelection}),{};const n=await s(void 0,e);if(!n)return{};if(e&&!await a(n.challengeId,e))return{start:n};const r=await c({challengeIdArg:n.challengeId});return r?{introspection:r,start:n}:{start:n}}),[c,o,s,l,i,e,a,d,t.challenge_resume_token,t.oidc_poa,t.params.country_code,t.params.onboarding_type,u.countryCode])}},Yu=e=>{let{debug:t}=e;const{t:n}=(0,c.B)("authCommon");return(0,h.jsx)(d.h,{title:(0,h.jsx)("p",{children:n("authCommon:pageError.serverErrorTitle")}),body:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:n("authCommon:pageError.serverErrorBody")}),(0,h.jsx)("br",{}),t&&(0,h.jsx)("p",{children:t})]})})},Ju=e=>{switch(me.current.deviceType){case"ios":return e("vcfOrchestrator:crossDeviceResumptionDisallowed.ios.description");case"android":return e("vcfOrchestrator:crossDeviceResumptionDisallowed.android.description");default:return e("vcfOrchestrator:crossDeviceResumptionDisallowed.web.description")}},Qu=()=>{const{t:e,ready:t}=(0,c.B)(["vcfOrchestrator"]);return t?(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(d.h,{action:(0,h.jsx)(p.j,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-y-24",children:(0,h.jsx)(Mt,{href:m.t7.loginInquiries(ve.sw.Japanese),children:e("vcfOrchestrator:crossDeviceResumptionDisallowed.button")})}),title:(0,h.jsx)("p",{children:e("vcfOrchestrator:crossDeviceResumptionDisallowed.title")}),body:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(La._,{children:Ju(e)}),(0,h.jsx)(La._,{children:e("vcfOrchestrator:crossDeviceResumptionDisallowed.commonDescription")})]})})}):(0,h.jsx)(Fi,{})};var Xu,Zu,ed=n(6907),td=n(2338),nd=n(1863);function rd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const id=(0,j.Ay)(td.a)(Xu||(Xu=rd(["\n  padding: "," 0 "," 10px;\n  height: auto !important;\n"])),Ka.i.spacing[2],Ka.i.spacing[2]),ad=j.Ay.div(Zu||(Zu=rd(["\n  display: flex;\n  align-items: center;\n"]))),od=e=>{let{className:t,isOptIn:n,onOptInChange:r}=e;const{t:i,ready:a}=(0,c.B)("email");return a?(0,h.jsxs)("div",{className:t,children:[(0,h.jsxs)(ad,{className:"mer-spacing-b-4",children:[(0,h.jsx)(La._,{bold:!0,className:"mer-spacing-r-8",type:"small",children:i("email:optin.title")}),(0,h.jsx)(nd.f,{label:i("signup:email.optionalField"),type:"secondary"})]}),(0,h.jsx)(La._,{type:"small",color:"secondary",children:i("email:optin.description")}),(0,h.jsx)(id,{label:(0,h.jsx)(La._,{children:i("email:optin.label")}),children:(0,h.jsx)(ie.i,{onChange:e=>r(e.target.checked),checked:n,"data-testid":"email-opt-in-checkbox"})}),(0,h.jsx)(La._,{type:"caption",color:"secondary",children:i("email:optin.caption")})]}):(0,h.jsx)(Fi,{})},cd=["email"];function ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ld(Object(n),!0).forEach((function(t){ud(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ud(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const dd=e=>{let{email:t,autocomplete:n,className:r,disableUIOnly:i,hideHelpMessage:a=!1,onChange:o}=e;const{t:l}=(0,c.B)("signup");return(0,h.jsx)(El,{name:"email",type:"email",value:t,disableUIOnly:i,"data-testid":"email",label:l("signup:email.email"),placeholder:l("signup:email.placeholder.email"),autoComplete:n||void 0,helpMessage:a?"":l("signup:email.helpMessage.email"),className:r,onChange:o})},pd=e=>{let{email:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,cd);const{location:r}=Y(),{signupState:i}=ra(),{onFirstChange:a}=xs((()=>{Ee.log(_s(i.method,{location:"".concat(r.join(":"),":email_input")}))}),t);return(0,h.jsx)(dd,sd(sd({},n),{},{email:t,onChange:a}))},md=function(){let{className:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{t}=(0,c.B)("signup"),{signupState:n}=ra(),{onFirstChange:r}=xs((()=>{Ee.log(_s(n.method,{location:"sign_up_email:body:nickname_input"}))}),n.name||"");return(0,h.jsx)(El,{name:"name",label:t("signup:email.nickname"),placeholder:t("signup:email.placeholder.name"),maxLength:20,helpMessage:t("signup:email.helpMessage.name"),onChange:r,count:!0,className:e})},hd=function(){let{className:e,disabled:t,displayRestrictionMessage:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{location:r}=Y(),{t:i}=(0,c.B)("signup"),{signupState:a}=ra(),{onFirstChange:o}=xs((()=>{Ee.log(_s(a.method,{location:"".concat(r.join(":"),":referral_code_input")}))}),a.ivCode||"");return(0,h.jsx)(El,{name:"ivCode",disabled:t,label:i("signup:email.ivCode"),placeholder:i("signup:email.placeholder.ivCode"),tag:i("signup:email.optionalField"),className:e,onChange:o,helpMessage:n?i("signup:email.ivCodeNote"):void 0})},fd=e=>{let{children:t}=e;const{t:n}=(0,c.B)("signup");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:n("signup:heading")}),(0,h.jsx)(mc,{children:t})]})},gd={baseURL:fe()},vd=()=>Ze("/campaign_iv_code/validate_iv_code",gd,{withDPoP:!0,encodeToFormData:!0}),bd=()=>Ze("/campaign_iv_code/apply_iv_code",gd,{encodeToFormData:!0,withAccessToken:!0}),yd=()=>ut("/jp/v1/registration/password/verify",{withDPoP:!0}),jd=()=>ut("/jp/v1/registration/email/update",{withDPoP:!0,withAccessToken:!0}),Od=()=>ut("/jp/v1/registration/sms/start",{withDPoP:!0,withAccessToken:!0}),wd=()=>ut("/jp/v1/registration/sms/send_otp",{withDPoP:!0,withAccessToken:!0}),xd=()=>ut("/jp/v1/registration/sms/verify",{withDPoP:!0,withAccessToken:!0}),Pd=()=>ut("/jp/v1/authentication/email/start",{withDPoP:!0,withAccessToken:!0}),Ed=()=>ut("/jp/v1/authentication/email/verify",{withDPoP:!0,withAccessToken:!0}),_d=()=>ut("/jp/v1/authentication/password/verify",{withDPoP:!0});function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kd=(e,t)=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(Object(n),!0).forEach((function(t){Cd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:le.y1.VALIDATION_ERROR,authMethod:Et(e)},t);function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ad(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dd=e=>{let{handleValidation:t}=e;const{control:n,clearErrors:r}=(0,Jc.xW)(),{t:i}=(0,c.B)(["signup"]);return(0,h.jsx)(Jc.xI,{control:n,name:"ivCode",render:e=>{let{field:n}=e;return(0,h.jsx)(El,Id(Id({},n),{},{name:"ivCode",disabled:!1,onBlur:t,onChange:e=>{r("ivCode"),n.onChange(e)},value:n.value,label:i("signup:ivCode.label"),placeholder:i("signup:ivCode.placeholder"),tag:i("signup:ivCode.optionalField"),className:"mer-spacing-y-24"}))}})},zd=()=>{const{control:e}=(0,Jc.xW)(),{i18n:{language:t}}=(0,c.B)();return(0,h.jsx)(X,{"location-3":"tos_check",children:(0,h.jsx)(Jc.xI,{control:e,name:"termsOfService",render:e=>{let{field:{value:n,ref:r,onChange:i}}=e;return(0,h.jsx)(td.a,{ref:r,label:(0,h.jsx)(La._,{children:(0,h.jsx)(qc.x,{i18nKey:"signup:termsOfUseAndPrivacyPolicyInHouse",components:{tos:(0,h.jsx)(Mt,{href:m.oS.termsOfService(t)}),pp:(0,h.jsx)(Mt,{href:m.I1.globalPrivacy(t)})}})}),children:(0,h.jsx)(nn,{"data-testid":"tos-checkbox",onChange:i,checked:n,extraParams:{enabled:!n}})})}})})};function Td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Td(Object(n),!0).forEach((function(t){Md(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Td(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Md(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ld=()=>{const{t:e}=(0,c.B)(["signup"]),[t]=Tl(),n=Qc.z.object({email:ps,password:ms}).refine(...ls(t));return(0,$c.u)(n,{errorMap:Kl(e,{defaults:{email:e("signup:validation.defaultFieldName.email"),password:e("signup:validation.defaultFieldName.password")}})})},Rd=()=>{var e;const{t,ready:n}=(0,c.B)(["signup","authCommon"]),{vcfState:{challengeId:i}}=Sa(),{onComplete:a,onError:o}=qu(),{getFlag:l,isLoadingConfig:s}=pr(),u=l("IDPCLIENT-17_add_invitation_code_for_global"),[d]=yd(),[p]=Eu(),[m]=_d(),[f]=vd(),[g]=bd(),[v,b]=(0,r.useState)(!1),{signupState:{optIn:y},saveSignupState:j}=ra(),[O,w]=(0,r.useState)(!1),[x,P]=(0,r.useState)(null),E=(0,Jc.mN)({resolver:Ld(),reValidateMode:"onBlur",defaultValues:{email:"",password:"",termsOfService:!1,ivCode:""}});Qs("sign_up_email",yt.Mercari);const _=E.watch("email"),S=E.watch("password"),C=E.watch("termsOfService"),k=null===(e=E.watch("ivCode"))||void 0===e?void 0:e.trim(),N=async()=>{if(!k||!u)return;const{error:e}=await g({iv_code:k});e&&(P(e),b(!1))},I=async()=>{if(!k||!u)return!0;const{error:e}=await f({iv_code:k});var n;return!e||(E.setError("ivCode",{type:"manual",message:(null===(n=e.errors)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.message)||t("signup:ivCode.errorMessage")}),P(null),b(!1),!1)},A=async e=>{const t=await m({challengeId:i,password:e});if(t.error)return w(!0),P(t.error),void b(!1);if(!t.data)return void o(Oa.SignUpContinuation,t);const{poa:n}=t.data;j({email:_}),await a({poa:n}),await N(),b(!1)};return!n||s?(0,h.jsx)(Fi,{}):(0,h.jsxs)(X,{"location-0":"sign_up_email",children:[(0,h.jsx)(cc,{titleLabel:t("signup:heading")}),(0,h.jsx)(Jc.Op,Fd(Fd({},E),{},{children:(0,h.jsxs)("form",{onSubmit:E.handleSubmit((async e=>{if(P(null),b(!0),!await I())return;if(O)return await A(e.password),void b(!1);const t=await d({challengeId:i,email:e.email,password:e.password});if(t.error){if(409===t.error.status){const{error:t}=await p({challengeId:i,purpose:cs.j2.IDENTIFICATION_PURPOSE_AUTHENTICATION,identifier:e.email,deriveFromChallengeId:""});t?P(t):await A(e.password)}else P(t.error);return void b(!1)}if(!t.data)return void o(Oa.SignUpEmailAndPassword,t);const{poa:n}=t.data;await a({poa:n}),await N(),b(!1)}),(e=>((e,t,n)=>{const r=Object.entries(e).map((e=>{let[t,r]=e;switch(t){case"email":return i=null==r?void 0:r.message,n("authValidation:required.input",{fieldName:n("signup:validation.defaultFieldName.email")})===i?"EmailEmpty":n("authValidation:email.format")===i?"EmailInvalid":"error";case"password":return(e=>n("authValidation:required.input",{fieldName:n("signup:validation.defaultFieldName.password")})===e?"PasswordEmpty":"error")(null==r?void 0:r.message);default:return"error"}var i}));Ee.log(kd(t,{location:"sign_up_email:body:next_button",errorDetails:r}))})(e,yt.Mercari,t))),noValidate:!0,children:[(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:t("signup:email.description")}),(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(pd,{autocomplete:"email",className:"mer-spacing-b-16",disableUIOnly:O}),(0,h.jsx)(zs,{email:_,password:S,label:t("signup:email.password")}),u&&(0,h.jsx)(Dd,{handleValidation:I}),(0,h.jsx)(od,{className:"mer-spacing-y-24",isOptIn:y,onOptInChange:e=>{j({optIn:e})}})]}),(0,h.jsx)(zd,{}),x&&(0,h.jsx)(zl,{className:"mer-spacing-t-24",error:x}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary","location-1":"next_button",loading:v,disabled:!C||v,className:"mer-spacing-b-24 ".concat(x?"mer-spacing-t-16":"mer-spacing-t-24"),children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:!C||v,children:t("signup:email.continueButton")})})]})}))]})},Vd=e=>{let{availableRegistrationMethods:t}=e;const[n]=t;return n===ed.N2.PASSWORD?(0,h.jsx)(Rd,{}):(0,h.jsx)(h.Fragment,{children:"No Verification Method Available"})},Bd=e=>{const t=new Date(e);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()}},Ud=()=>ut("/jp/v1/registration/eligibility/verify",{withDPoP:!0});function Hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hd(Object(n),!0).forEach((function(t){qd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gd={birthday:""},Wd=Qc.z.object({birthday:ds}),$d=()=>{const{t:e}=(0,c.B)(["signup","vcfOrchestrator"]),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[s]=Ud(),{vcfState:{challengeId:u}}=Sa(),{onComplete:d}=qu(),{saveSignupState:p}=ra(),m=(0,Jc.mN)({resolver:(0,$c.u)(Wd,{errorMap:Kl(e,{defaults:{birthday:e("signup:validation.defaultFieldName.birthday")}})}),defaultValues:Gd}),{handleSubmit:f}=m;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:e("vcfOrchestrator:ageVerification.heading")}),(0,h.jsxs)(X,{"location-0":"sign_up_age_verification",children:[(0,h.jsx)(Jc.Op,Kd(Kd({},m),{},{children:(0,h.jsxs)("form",{onSubmit:f((async e=>{let{birthday:t}=e;if(!(e=>{const t=new Date;return t.setFullYear(t.getFullYear()-18),new Date(e)<=t})(t))return void n(!0);a(!0);const{error:r}=await s({challengeId:u,birthdate:Bd(t)});if(r)return l(r),void a(!1);p({ageVerification:{birthday:t},birthday:t}),d(),a(!1)})),noValidate:!0,children:[(0,h.jsx)(La._,{element:"p",className:"mer-spacing-y-12",children:e("vcfOrchestrator:ageVerification.internationalDescription")}),(0,h.jsx)(X,{"location-1":"body",children:(0,h.jsx)(Cl,{})}),o&&(0,h.jsx)(zl,{error:o,className:"mer-spacing-t-24 mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary",className:"mer-spacing-y-24",loading:i,disabled:i,"location-1":"next_button",children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:i,children:e("vcfOrchestrator:ageVerification.continueButton")})})]})})),(0,h.jsx)(X,{"location-1":"under_18_modal",children:(0,h.jsx)(Jr.d,{titleLabel:e("vcfOrchestrator:ageVerification.under18Dialog.title"),visible:t,footer:(0,h.jsx)(Wt,{onClick:()=>n(!1),"location-2":"close_button",children:(0,h.jsx)("button",{children:e("vcfOrchestrator:ageVerification.under18Dialog.closeButton")})}),children:(0,h.jsx)("p",{children:e("vcfOrchestrator:ageVerification.under18Dialog.description")})})})]})]})},Yd=e=>{let{key:t,getValues:n,enabled:i=!0}=e;(0,r.useEffect)((()=>{if(!i)return;const e=()=>{"hidden"===document.visibilityState&&Yn(t,n())},r=()=>{Yn(t,n())};return window.addEventListener("beforeunload",r),window.addEventListener("visibilitychange",e),()=>{window.removeEventListener("beforeunload",r),window.removeEventListener("visibilitychange",e)}}),[n,t,i])},Jd=()=>[{label:ve.AT.TraditionalChinese,value:ve.sw.TraditionalChinese},{label:ve.AT.Japanese,value:ve.sw.Japanese},{label:ve.AT.English,value:ve.sw.English}];function Qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zd=(e,t)=>{var n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qd(Object(n),!0).forEach((function(t){Xd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:le.y1.ELEMENT_DISPLAY,location:e,url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)},ep=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;(0,r.useEffect)((()=>{t&&Ee.log(Zd(e,n))}),[e,n,t])},tp=e=>{let{visible:t,onClose:n}=e;const{t:r}=(0,c.B)(["signup","authCommon"]),{location:i}=Y(),a=Q(i);return ep(a,t),(0,h.jsx)(Jr.d,{titleLabel:r("signup:japanSiteRedirect.title"),visible:t,footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Wt,{intent:"flat",onClick:n,"location-4":"cancel_button",children:(0,h.jsx)("button",{type:"button",children:r("authCommon:dialog.cancelLabel")})}),(0,h.jsx)(Wt,{"location-4":"go_to_japan",children:(0,h.jsx)(Ra,{to:"/signup",children:r("signup:japanSiteRedirect.redirectButton")})})]}),children:(0,h.jsx)("p",{children:r("signup:japanSiteRedirect.description")})})},np=()=>{const{t:e}=(0,c.B)("signup"),{control:t}=(0,Jc.xW)(),{changeLanguage:n}=(0,_r.f)(),r=Jd();return(0,h.jsx)(Jc.xI,{control:t,name:"language",render:t=>{let{field:{value:i,ref:a}}=t;return(0,h.jsx)(ll.g,{label:e("signup:countryAndLanguage.language"),className:"mer-spacing-b-24",children:r.map((e=>(0,h.jsx)(Dc.A,{fullWidth:!0,label:(0,h.jsx)(La._,{color:"inherit",children:e.label}),children:(0,h.jsx)(re.A,{checked:e.value===i,value:e.value,onChange:()=>{n(e.value)},ref:a})},e.value)))})}})};function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){ap(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ap(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const op=ge.O4.Taiwan,cp=()=>{const{t:e,ready:t,i18n:{language:n}}=(0,c.B)(["signup","authCommon"]),i=(()=>{const{t:e}=(0,c.B)(["signup"]);return ge.uH.map((t=>({label:e("signup:countryAndLanguage.countries.country",{context:t}),value:t})))})(),a=Jd(),{scoreBasedFailed:o,checkboxBasedKey:l}=qn(),{handleChallengeIntrospection:s}=qu(),{handleChallengeStart:u}=Wu(),d=(p=(0,ge.gI)(),m=i.map((e=>e.value)),p&&p!==ge.O4.Japan&&m.includes(p)?p:op);var p,m;const[f,g]=(0,r.useState)(!1),v=(0,r.useMemo)((()=>a.find((e=>e.value===n))),[n,a]),b=(0,Jc.mN)({defaultValues:{country:d,language:v?n:a[0].value}}),{handleSubmit:y,watch:j,setValue:O}=b,w=j("country");return Yd({key:Xi,getValues:()=>({uuid:$n(),value:{countryCode:w}})}),(0,r.useEffect)((()=>{const e=Zi();Qn(Xi),e&&O("country",e.countryCode)}),[O]),Qs("sign_up_email:int:country_and_language",yt.Mercari),t?(0,h.jsxs)(X,{"location-0":"sign_up_email","location-1":"int","location-2":"country_and_language",children:[(0,h.jsx)(cc,{titleLabel:e("signup:heading")}),(0,h.jsx)(Jc.Op,ip(ip({},b),{},{children:(0,h.jsxs)("form",{onSubmit:y((async()=>{g(!0);const e=await u(w);e&&(await s({challengeIdArg:e.challengeId}),g(!1))})),children:[(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:e("signup:countryAndLanguage.selectCountry")}),(0,h.jsx)(kl,{name:"country",fluid:!0,className:"mer-spacing-b-24",label:e("signup:countryAndLanguage.countryAndRegion"),options:i}),(0,h.jsx)(np,{}),o?(0,h.jsx)(Tn,{className:"mer-spacing-y-16",sitekey:l,action:Ln.VerificationChallenge}):null,(0,h.jsx)(Wt,{fluid:!0,intent:"primary",className:"mer-spacing-b-24",disabled:f,loading:f,"location-3":"next_button",children:(0,h.jsx)("button",{"data-testid":"registration-continue-button",type:"submit",disabled:f,children:e("signup:email.continueButton")})})]})})),(0,h.jsx)(X,{"location-3":"change_country_modal",children:(0,h.jsx)(tp,{visible:w===ge.O4.Japan,onClose:()=>O("country",d)})})]}):(0,h.jsx)(Fi,{})},lp={baseURL:"".concat(fe())},sp=()=>{const[e]=tt("/kyc/get_personal_information",lp);return[async()=>{var t;const n=await e({});return{data:null===(t=n.data)||void 0===t?void 0:t.personal_information,error:n.error}}]},up=()=>Ze("/anti_social/save_names_and_birthday",lp,{encodeToFormData:!0,withAccessToken:!0});var dp=n(5237);const pp={baseURL:"".concat(fe())},mp=(e,t)=>{const n=(e=>{switch(e){case ge.O4.Taiwan:return ve.l9.twd;case ge.O4.HongKong:return ve.l9.hkd;default:return(0,x.wd)("Unsupported country code: ".concat(e,", defaulting to JPY"),"warning"),ve.l9.jpy}})(t),[r,i]=Ze("/v2/userProfileAttributes/".concat(e,":update"),pp,{withAccessToken:!0});return[async t=>{await r({name:"userAttributes/".concat(e),allowMissing:!0,attributes:[{id:ve.Mm.Language,values:[{id:t.id,text:t.text}],title:"language",type:dp.j.ATTRIBUTE_TYPE_ENUM},{id:ve.Mm.Currency,values:[n],title:"currency",type:dp.j.ATTRIBUTE_TYPE_ENUM}]})},i]};function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){gp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vp={birthday:"",firstName:"",familyName:"",nickName:""},bp=Qc.Ik({familyName:us,firstName:us,birthday:ds}),yp=bp.extend({nickName:vs}),jp=e=>{let{userId:t}=e;const{t:n,i18n:{language:i}}=(0,c.B)(["signup"]),{getFlag:a}=pr(),o=a("IDPCLIENT-116_add_nickname_to_global_signup"),l=o?yp:bp,{signupState:{birthday:s}}=ra(),{vcfState:{challengeId:u,countryCode:d}}=Sa(),{onComplete:p}=qu(),[m,f]=(0,r.useState)(!1),[g]=up(),{updateNickname:v}=(e=>{const[t]=ku(e);return{updateNickname:async n=>t({name:"userMainProfileAttributes/".concat(e),allowMissing:!0,updateMask:{paths:["nickname"]},nickname:n})}})(t),[b,y]=mp(t,d),[j]=Ud(),[O,w]=(0,r.useState)(null),{location:x}=Y(),P=(0,Jc.mN)({resolver:(0,$c.u)(l,{errorMap:Kl(n,ys(n))}),defaultValues:async()=>s?fp(fp({},vp),{},{birthday:s}):vp}),{handleSubmit:E}=P,_=e=>{w(e),f(!1)};return(0,h.jsxs)(X,{"location-0":"sign_up_identification",children:[(0,h.jsx)(cc,{titleLabel:n("signup:identification.heading")}),(0,h.jsx)(Jc.Op,fp(fp({},P),{},{children:(0,h.jsxs)("form",{onSubmit:E((async e=>{if(w(null),f(!0),await b((0,ve.HJ)(i)),y.error)return _(y.error),void Ee.log(St(yt.Mercari,y.error,{location:Q(x)}));const{error:t}=await j({challengeId:u,birthdate:Bd(e.birthday)});if(t)return void _(t);if(o){const{error:t}=await v(e.nickName);if(t)return _(t),void Ee.log(St(yt.Mercari,t,{location:Q(x)}))}const{error:n}=await g({family_name_kanji:e.familyName,first_name_kanji:e.firstName,birthday:e.birthday});if(n)return _(n),void Ee.log(St(yt.Mercari,n,{location:Q(x)}));p(),f(!1)})),noValidate:!0,children:[(0,h.jsx)(La._,{element:"p",className:"mer-spacing-y-12",children:n("signup:identification.internationalDescription")}),(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(El,{name:"firstName",label:n("signup:identification.firstName"),placeholder:n("signup:identification.placeholder.firstNameInternational"),className:"mer-spacing-b-24",autoComplete:"given-name",required:!0}),(0,h.jsx)(El,{name:"familyName",label:n("signup:identification.familyName"),placeholder:n("signup:identification.placeholder.familyNameInternational"),className:"mer-spacing-b-24",autoComplete:"family-name",required:!0}),o&&(0,h.jsx)(El,{name:"nickName",label:n("signup:identification.nickName"),placeholder:n("signup:identification.placeholder.nickName"),className:"mer-spacing-b-24",autoComplete:"nickname",required:!0,helpMessage:n("signup:identification.nickNameHelpMessage")}),(0,h.jsx)(Cl,{disableUIOnly:!!s})]}),O&&(0,h.jsx)(zl,{error:O,className:"mer-spacing-t-24 mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary",className:O?"mer-spacing-b-24":"mer-spacing-y-24",loading:m,disabled:m&&!P.formState.isValid,"location-1":"next_button",children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:m,children:n("signup:identification.continueButton")})})]})}))]})};var Op,wp,xp,Pp,Ep=n(7887),_p=n(5874);function Sp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Cp=(0,j.Ay)(La._)(Op||(Op=Sp(["\n  text-align: left !important;\n"]))),kp=(0,j.Ay)(Cp)(wp||(wp=Sp(["\n  font-weight: 700 !important;\n  color: var(--alias-color-text-primary-default) !important;\n"]))),Np=(0,j.Ay)(Mt)(xp||(xp=Sp(["\n  text-decoration: underline;\n"]))),Ip=(0,j.Ay)(Ep.V)(Pp||(Pp=Sp(["\n  &:before {\n    flex-shrink: 0 !important;\n  }\n"]))),Ap="vcf:inhouse_authenticator_unavailable_error",Dp=e=>{let{deviceName:t}=e;const{t:n}=(0,c.B)(["vcfOrchestrator"]);return Qs(Ap),(0,h.jsx)(d.h,{action:(0,h.jsx)(La._,{children:n("vcfOrchestrator:inhouseAuthenticatorError.description")}),title:(0,h.jsx)("p",{children:n("vcfOrchestrator:inhouseAuthenticatorError.title")}),body:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(kp,{children:n("vcfOrchestrator:inhouseAuthenticatorError.deviceDescription.header",{deviceName:t})}),(0,h.jsx)(_p._,{variant:"unordered",className:"mer-spacing-b-16",children:(0,h.jsx)(Ip,{children:(0,h.jsx)(Cp,{children:n("vcfOrchestrator:inhouseAuthenticatorError.deviceDescription.subheader")})})}),(0,h.jsx)(kp,{children:n("vcfOrchestrator:inhouseAuthenticatorError.guideDescription.header")}),(0,h.jsx)(_p._,{variant:"unordered",className:"mer-spacing-b-16",children:(0,h.jsx)(Ip,{children:(0,h.jsx)(Cp,{children:(0,h.jsx)(qc.x,{i18nKey:"vcfOrchestrator:inhouseAuthenticatorError.guideDescription.subheader",components:{guide:(0,h.jsx)(Np,{href:m.t7.howToRegisterAnotherPasskey(ve.sw.Japanese),onClick:()=>Ee.log(It("".concat(Ap,":guide")))})}})})})})]})})},zp=()=>{const{t:e,ready:t}=(0,c.B)(["vcfOrchestrator"]);return Qs("idp:verification:vcf:passkey_recovery_disallow"),t?(0,h.jsx)(X,{"location-0":"idp:verification:vcf:passkey_recovery_disallow",children:(0,h.jsx)(d.h,{action:(0,h.jsx)(Wt,{"location-1":"help_center",fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-y-24",children:(0,h.jsx)(Mt,{href:m.t7.loginInquiries(ve.sw.Japanese),children:e("vcfOrchestrator:passkeyRecoveryDisallowed.button")})}),title:(0,h.jsx)("p",{children:e("vcfOrchestrator:passkeyRecoveryDisallowed.title")}),body:(0,h.jsx)(La._,{children:e("vcfOrchestrator:passkeyRecoveryDisallowed.description")})})}):(0,h.jsx)(Fi,{})},Tp=e=>{let{isVisible:t=!1,onCancel:n=(()=>{}),onAccept:r=(()=>{})}=e;const{t:i}=(0,c.B)(["signin","authCommon"]);return(0,h.jsx)(Jr.d,{visible:t,titleLabel:i("signin:accountReactivation.confirmationDialogTitle"),"data-testid":"account-reactivation-confirmation-dialog",footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{fluid:!0,onClick:n,intent:"flat",children:(0,h.jsx)("button",{type:"button",children:i("authCommon:dialog.cancelLabel")})}),(0,h.jsx)(p.j,{fluid:!0,onClick:r,children:(0,h.jsx)("button",{type:"button",children:i("signin:accountReactivation.confirmationDialogReactivateButtonText")})})]}),children:(0,h.jsxs)("div",{children:[i("signin:accountReactivation.confirmationDialogMessage")," "]})})},Fp=()=>ut("/jp/v1/authentication/sms/start",{withDPoP:!0,withAccessToken:!0}),Mp=()=>ut("/jp/v1/authentication/sms/resend_otp",{withDPoP:!0,withAccessToken:!0}),Lp=()=>ut("/jp/v1/authentication/sms/verify",{withDPoP:!0,withAccessToken:!0}),Rp=()=>{const{vcfState:e}=Sa(),{handleChallengeIntrospection:t}=qu(),[n]=ut("/jp/v1/authentication/reactivate",{withDPoP:!0,withAccessToken:!0}),[i,a]=(0,r.useState)(!0);return(0,h.jsx)(Tp,{isVisible:i,onCancel:()=>{a(!1),Ee.log(It("sign_in_email:account_recovery_confirmation_dialog:no_button",{authMethod:le.qR.AUTH_METHOD_EMAIL}))},onAccept:async()=>{a(!1),Ee.log(It("sign_in_email:account_recovery_confirmation_dialog:yes_button",{authMethod:le.qR.AUTH_METHOD_EMAIL})),await n({challengeId:e.challengeId}),t({challengeIdArg:e.challengeId})}})};let Vp="";const Bp=()=>{var e;const{t,ready:n,i18n:{language:i}}=(0,c.B)(["vcfOrchestrator"]),{getFlag:a}=pr(),{authMethod:o}=yu(),{handleChallengeFinish:l}=qu(),{vcfState:s,orchestrator:u}=Sa(),d=u.type===ja.ChallengeFinish&&u.data.challengeType===wu.it.CHALLENGE_TYPE_RECOVERY;(0,r.useEffect)((()=>{Vp!==s.challengeId&&(Vp=s.challengeId,l({challengeIdArg:s.challengeId,shouldRevokeToken:!d}))}),[s.challengeId,l,d]),Qs(d?"idp:verification:vcf:finish_recovery":void 0);const f=a("ug_384_web_gop_release_signin_redirect");let g="".concat((0,m.eW)(i),"auth/redirect_signin");const v=(0,m.EP)();f&&v&&(g="".concat(v,"login"));const b="".concat(g,"?flow_session_id=").concat(null!==(e=be())&&void 0!==e?e:""),y=a("UG-347_take_over_FlowSessionID_to_signin_after_recovery")?b:ft;if(!n||!d)return(0,h.jsx)(Fi,{});const j=((e,t)=>{switch(e){case ed.N2.FIDO_UV:return{heading:t("vcfOrchestrator:confirmation.passkey.heading"),description:t("vcfOrchestrator:confirmation.passkey.description"),button:t("vcfOrchestrator:confirmation.passkey.button")};case ed.N2.PASSWORD:return{heading:t("vcfOrchestrator:confirmation.password.heading"),description:t("vcfOrchestrator:confirmation.password.description"),button:t("vcfOrchestrator:confirmation.password.button")};default:return}})(o,t);return j?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(sc,{titleLabel:j.heading,$centeredOnMobile:!0,$centeredOnDesktop:!0}),(0,h.jsx)(La._,{type:"body",className:"mer-spacing-b-24",children:j.description}),(0,h.jsx)(p.j,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-y-24",children:(0,h.jsx)(Mt,{href:y,children:j.button})})]}):(0,h.jsx)(p.j,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-y-24",onClick:()=>Ee.log(It("idp:verification:vcf:finish_recovery:launch_app")),children:(0,h.jsx)(Mt,{href:y,children:t("vcfOrchestrator:confirmation.password.button")})})};function Up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(n),!0).forEach((function(t){Kp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qp=["body:authentication_button","phone_call_otp_dialog","receive_call_button"],Gp=e=>{let{visible:t,handlePhoneCall:n,onClose:r,logLocations:i,screenName:a}=e;const{t:o}=(0,c.B)(["signup"]);return ep("".concat(a,":").concat(i[1]),t),(0,h.jsx)(Jr.d,{"data-testid":"confirmation-dialog",visible:t,titleLabel:o("signup:sms.confirmationDialog.title"),footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Wt,{fluid:!0,intent:"flat",onClick:r,"location-2":"cancel",children:(0,h.jsx)("button",{type:"button",children:o("signup:sms.confirmationDialog.cancelButton")})}),(0,h.jsx)(Wt,{fluid:!0,onClick:n,"location-2":i[2],children:(0,h.jsx)("button",{type:"button",children:o("signup:sms.confirmationDialog.applyButton")})})]}),children:(0,h.jsx)(La._,{children:o("signup:sms.confirmationDialog.description")})})},Wp=Qc.Ik({authNumber:Qc.Yj().refinement(...$l())}),$p=e=>(0,$c.u)(Wp,{errorMap:Kl(e,{defaults:{authNumber:e("signup:validation.defaultFieldName.authNumber")}})}),Yp=e=>{let{screenName:t="phone_number_verification",method:n=yt.Mercari,apiError:r,isSubmitting:i,onSubmit:a,handlePhoneCall:o,callDialogVisible:l,otpCodeLength:s,onCloseCallDialog:u,logLocationsList:d}=e;const{t:p}=(0,c.B)(["signup"]),m=null!=d?d:qp,f=(0,Jc.mN)({resolver:$p(p),defaultValues:{authNumber:""}});return Qs(t,n),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Jc.Op,Hp(Hp({},f),{},{children:(0,h.jsxs)("form",{className:"mer-spacing-t-24 mer-spacing-b-32",onSubmit:f.handleSubmit(a),children:[(0,h.jsx)(El,{name:"authNumber",label:p("signup:sms.authenticationNumber"),placeholder:p("signup:verificationCodePlaceholder",{verificationCodeLength:s}),autoComplete:"off",className:"mer-spacing-b-24",inputMode:"numeric"}),r&&(0,h.jsx)(zl,{error:r,className:"mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,className:"mer-spacing-b-32",loading:i,disabled:i,intent:"primary","location-1":m[0],extraParams:{authMethod:Et(n)},children:(0,h.jsx)("button",{"data-testid":"submit",disabled:i,type:"submit",children:p("signup:sms.completeButton")})}),(0,h.jsx)(tc.I,{})]})})),(0,h.jsx)(X,{"location-1":m[1],children:(0,h.jsx)(Gp,{visible:l,onClose:u,handlePhoneCall:o,logLocations:m,screenName:t})})]})},Jp=e=>{let{maskedPhoneNumber:t,onEditPhoneNumber:n,variant:i,setSnackbarText:a,verificationCodeLength:o}=e;const{t:l,i18n:{language:s}}=(0,c.B)(["vcfOrchestrator","authCommon"]),{vcfState:{challengeId:u}}=Sa(),{onError:d,onTimeout:p,onComplete:f}=qu(),g="registration"===i?"idp:verification:vcf:registration:sms:verify":"idp:verification:vcf:auth:sms",[v,b]=(0,r.useState)(null),[y,j]=(0,r.useState)(!1),[O,w]=(0,r.useState)(!1),[x]=Lp(),[P]=Mp(),[E]=xd(),[_]=wd(),S=async e=>{const t="registration"===i?_:P,{error:n}=await t({challengeId:u,otpDeliveryMethod:"sms"===e?cs.x5.OTP_DELIVERY_METHOD_SMS:cs.x5.OTP_DELIVERY_METHOD_PHONE});if(n)return b(n),void w(!1);"sms"===e?a(l("vcfOrchestrator:smsVerification.smsCodeSent")):(a(l("authCommon:waitForPhoneCallOtp")),w(!1))};return(0,h.jsxs)(X,{"location-0":g,children:[(0,h.jsx)(La._,{children:l("vcfOrchestrator:smsVerification.verify.description",{fullPhoneNumber:"".concat(t),verificationCodeLength:o})}),(0,h.jsx)(Yp,{handlePhoneCall:()=>S("call"),onSubmit:async e=>{j(!0),b(null);const t="registration"===i?E:x,n=await t({challengeId:u,otp:e.authNumber});if(n.error)return Hu(n.error)?void p(Oa.SmsAuthenticationOTPSubmission,n.requestId):(b(n.error),j(!1),void Ee.log(St(yt.Mercari,n.error,{location:"phone_number_verification"})));n.data?f({poa:n.data.poa}):d(Oa.SmsAuthenticationOTPSubmission,n)},apiError:v,method:yt.Mercari,otpCodeLength:o,isSubmitting:y,callDialogVisible:O,onCloseCallDialog:()=>w(!1),screenName:g,logLocationsList:["submit_code","voice_dialog","send_voice"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)(La._,{bold:!0,className:"mer-spacing-b-24",children:l("authCommon:didNotReceiveOtpCode")}),(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)(La._,{children:l("vcfOrchestrator:smsVerification.verify.resendCode")}),(0,h.jsx)(La._,{type:"caption",className:"mer-spacing-t-8",color:"secondary",children:(0,h.jsx)(qc.x,{i18nKey:"vcfOrchestrator:smsVerification.verify.resendCodeAnnotation",components:{settingLink:(0,h.jsx)(Mt,{href:m.oS.didNotReceiveSms(s)})}})}),(0,h.jsx)(Wt,{intent:"secondary","data-testid":"submit-phone",className:"mer-spacing-t-8",onClick:()=>S("sms"),"location-1":"resend",fluid:!0,children:(0,h.jsx)("button",{type:"button",children:l("vcfOrchestrator:smsVerification.verify.resendCodeButton")})})]}),(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)(La._,{children:l("vcfOrchestrator:smsVerification.verify.phoneCall.description")}),(0,h.jsx)(Wt,{intent:"secondary","data-testid":"submit-phone",className:"mer-spacing-t-8",onClick:()=>w(!0),"location-1":"voice",fluid:!0,children:(0,h.jsx)("button",{type:"button",children:l("vcfOrchestrator:smsVerification.verify.phoneCall.button")})})]}),"registration"===i&&(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)(La._,{children:l("vcfOrchestrator:smsVerification.verify.reinputPhoneNumber.description")}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary",className:"mer-spacing-t-8",onClick:n,"location-1":"change_phone_number",children:(0,h.jsx)("button",{type:"button",children:l("vcfOrchestrator:smsVerification.verify.reinputPhoneNumber.button")})})]})]})]})},Qp=()=>{const{t:e,ready:t}=(0,c.B)(["vcfOrchestrator"]),{vcfState:{challengeId:n}}=Sa(),{onError:i}=qu(),[a]=Fp(),[o,l]=(0,r.useState)(null),[s,u]=(0,r.useState)(""),d=(0,r.useCallback)((async()=>{var e;const t=await a({challengeId:n,otpDeliveryMethod:cs.x5.OTP_DELIVERY_METHOD_SMS});null!==(e=t.data)&&void 0!==e&&e.maskedPhoneNumber&&!t.error?l(t.data.maskedPhoneNumber):i(Oa.SmsAuthenticationStart,t)}),[a,n,i]);return(0,r.useEffect)((()=>{d()}),[]),t&&o?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:e("vcfOrchestrator:smsVerification.title")}),(0,h.jsx)(Jp,{maskedPhoneNumber:o,variant:"authentication",setSnackbarText:u,verificationCodeLength:6}),(0,h.jsx)(oa.W,{"data-testid":"sentCode-snackbar",visible:!!s,onClose:()=>u(""),bodyText:s})]}):(0,h.jsx)(Fi,{})};var Xp=n(2835);const Zp=e=>{let{visible:t,title:n,description:i,onConfirm:a,onCancel:o,screenName:l="phone_number_input"}=e;const{t:s}=(0,c.B)("authCommon"),[u,d]=(0,r.useState)(!1);return ep("".concat(l,":confirmation_dialog"),t),(0,h.jsxs)(X,{"location-1":"phone_number_confirmation_modal",children:[u&&(0,h.jsx)(Fi,{fullScreen:!0}),(0,h.jsx)(Jr.d,{"data-testid":"confirmation-dialog",visible:t,titleLabel:n,footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Wt,{intent:"flat",onClick:o,"location-2":"cancel",children:(0,h.jsx)("button",{type:"button",children:s("authCommon:phoneNumberConfirmationDialog.cancelButton")})}),(0,h.jsx)(Wt,{"location-2":"confirm",onClick:async()=>{d(!0),await a(),d(!1)},children:(0,h.jsx)("button",{type:"button",children:s("authCommon:phoneNumberConfirmationDialog.applyButton")})})]}),children:(0,h.jsx)("p",{children:i})})]})};var em;function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach((function(t){rm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const im=["phone_number_input","body:next_button"],am=(0,j.Ay)(Xp.l)(em||(em=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  padding: 0;\n"]))),om=(e,t)=>{const n=Qc.Ik({phoneNumber:fs(t)});return(0,$c.u)(n,{errorMap:Kl(e,Os(e))})},cm=e=>{let{onConfirmPhoneDialog:t,apiError:n,showReasonGuide:i=!1,countryCode:a,dialogDescription:o,method:l=yt.Mercari,defaultPhoneNumber:s,placeholderNumber:u=ge.zf.JP.placeholder,logLocationsList:d}=e;const{t:p,i18n:{language:f}}=(0,c.B)(["signup","vcfOrchestrator"]),g=null!=d?d:im,[v,b]=(0,r.useState)(!1),{onFirstChange:y}=xs((async()=>{Ee.log(_s(l,{location:"".concat(g[0],":body:number_input")}))}));Qs(g[0],l);const j=(0,Jc.mN)({resolver:om(p,a),defaultValues:{phoneNumber:s}});return(0,h.jsxs)(X,{"location-0":g[0],children:[(0,h.jsx)(Jc.Op,nm(nm({},j),{},{children:(0,h.jsxs)("form",{onSubmit:j.handleSubmit((()=>b(!0))),children:[(0,h.jsx)(El,{name:"phoneNumber",label:p("signup:phone.phoneNumber"),placeholder:p("vcfOrchestrator:smsVerification.start.phoneNumberPlaceholder",{phoneNumber:"".concat(u)}),className:"mer-spacing-b-24",onChange:y,inputMode:"tel",autoComplete:"tel"}),i&&(0,h.jsx)(am,{className:"mer-spacing-b-24",children:(0,h.jsx)(Mt,{href:m.t7.reasonForPhoneNumberVerification(f),children:p("signup:phone.authenticationReasonLink")})}),n&&(0,h.jsx)(zl,{className:"mer-spacing-b-16",error:n}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary","location-1":g[1],className:"mer-spacing-b-24",extraParams:{authMethod:Et(l)},children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",children:p("signup:phone.continueButton")})})]})})),(0,h.jsx)(Zp,{visible:v,title:j.watch("phoneNumber"),description:o,onConfirm:async()=>{await t(j.watch("phoneNumber")),b(!1)},onCancel:()=>b(!1),screenName:g[0]})]})},lm=e=>{let{countryCode:t=ge.O4.Taiwan}=e;const{t:n}=(0,c.B)(["signup","vcfOrchestrator"]),r=ge.zf[t];return(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)(La._,{type:"small",className:"mer-spacing-b-12",bold:!0,children:n("vcfOrchestrator:smsVerification.start.countryCode")}),(0,h.jsx)(La._,{children:"".concat(n("signup:countryAndLanguage.countries.country",{context:t})," ").concat(r.callingCode)})]})},sm=e=>{var t;let{onBeginOtpVerification:n,setSnackbarText:i}=e;const{t:a}=(0,c.B)(["vcfOrchestrator"]),[o,l]=(0,r.useState)(null),[s]=Od(),[u]=wd(),{vcfState:{challengeId:d,countryCode:p}}=Sa(),{onError:m}=qu(),f=null!==(t=p)&&void 0!==t?t:ge.O4.Taiwan,{callingCode:g,placeholder:v}=ge.zf[f];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(La._,{className:"mer-spacing-b-8",children:a("vcfOrchestrator:smsVerification.start.description")}),(0,h.jsx)(La._,{className:"mer-spacing-b-24",color:"secondary",type:"caption",children:a("vcfOrchestrator:smsVerification.start.annotation")}),f!==ge.O4.Japan&&(0,h.jsx)(lm,{countryCode:f}),(0,h.jsx)(cm,{apiError:o,onConfirmPhoneDialog:async e=>{l(null);const t=p===ge.O4.Japan?e:"".concat(g).concat(e),{data:r,error:o}=await s({challengeId:d,phoneNumber:t});if(o)return l(o),void Ee.log(St(yt.Mercari,o,{location:"phone_number_verification"}));const c=await u({challengeId:d,otpDeliveryMethod:cs.x5.OTP_DELIVERY_METHOD_SMS});c.error?l(c.error):r?(i(a("vcfOrchestrator:smsVerification.smsCodeSent")),n(r.maskedPhoneNumber)):m(Oa.SmsRegistrationOTPSubmission,c)},countryCode:f,dialogDescription:a("vcfOrchestrator:smsVerification.start.dialogMessage"),placeholderNumber:v,logLocationsList:["idp:verification:vcf:registration:sms:start","input_phone_number"]})]})},um=()=>{const{t:e,ready:t}=(0,c.B)(["vcfOrchestrator"]),{vcfState:{countryCode:n}}=Sa(),[i,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),[s,u]=(0,r.useState)(null),d=n===ge.O4.Japan?4:6;return t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:e("vcfOrchestrator:smsVerification.title")}),o?(0,h.jsx)(Jp,{onEditPhoneNumber:()=>l(!1),maskedPhoneNumber:s,variant:"registration",setSnackbarText:a,verificationCodeLength:d}):(0,h.jsx)(sm,{onBeginOtpVerification:e=>{l(!0),u(e)},setSnackbarText:a}),(0,h.jsx)(oa.W,{"data-testid":"sentCode-snackbar",visible:!!i,onClose:()=>a(""),bodyText:i})]}):(0,h.jsx)(Fi,{})},dm={currentState:{state:"start",issuanceId:null},sentOtpCodeSnackbar:!1,setCurrentState:()=>{},setSentOtpCodeSnackbar:()=>{}},pm=(0,r.createContext)(dm),mm=()=>(0,r.useContext)(pm),hm=e=>{let{children:t}=e;const[n,i]=(0,r.useState)({state:"start",issuanceId:null}),[a,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{window.scrollTo(0,0)}),[n]),(0,h.jsx)(pm.Provider,{value:{currentState:n,setCurrentState:i,sentOtpCodeSnackbar:a,setSentOtpCodeSnackbar:o},children:t})};var fm=n(3850),gm=n(858);const vm=()=>{const{t:e,ready:t}=(0,c.B)(["email"]);return Qs("sign_in_email_link_success"),t?(0,h.jsxs)(Xr.s,{direction:"column",align:"center",gap:"spacing24","data-testid":"submit-cdc-success",role:"status","aria-live":"polite",children:[(0,h.jsx)(ti.a,{size:"large",weight:"bold",align:"center",children:e("email:submitCDCSuccess.title")}),(0,h.jsx)(gm.Z,{radius:"full",backgroundColor:"success.secondary",align:"center",justify:"center",paddingBlock:"spacing16",paddingInline:"spacing16","aria-hidden":!0,children:(0,h.jsx)(wr.Gdw,{size:"large"})}),(0,h.jsx)(Xr.s,{direction:"column",align:"center",gap:"spacing8",children:(0,h.jsx)(Qr.a,{align:"center",children:e("email:submitCDCSuccess.description")})})]}):null},bm=()=>ut("/jp/v1/authentication/email_link/start",{withDPoP:!0}),ym=()=>ut("/jp/v1/authentication/email_link/verify",{withDPoP:!0}),jm=Qc.z.object({deviceCode:Qc.z.string().refinement(...$l()).refinement(...rs())}),Om=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return(0,$c.u)(jm.refine((e=>e.deviceCode.length===t),{message:e("authValidation:length",{length:t}),path:["deviceCode"]}),{errorMap:Kl(e,{defaults:{deviceCode:e("email:validation.defaultFieldName.deviceCode")}})})};function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach((function(t){Pm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Em="sign_in_email_link_verification",_m=()=>{const{t:e,ready:t}=(0,c.B)(["email","authValidation"]),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(void 0),[l]=ym(),[s,u]=(0,r.useState)(!1),{vcfState:{challengeId:d}}=Sa(),p=(0,Jc.mN)({resolver:Om(e),defaultValues:{deviceCode:""}});return(0,r.useEffect)((()=>{a&&Ee.log(To("".concat(Em,":distance_warning")))}),[a]),Qs(Em),t?s?(0,h.jsx)(vm,{}):(0,h.jsx)(X,{"location-0":Em,children:(0,h.jsxs)(Jc.Op,xm(xm({},p),{},{children:[(0,h.jsx)(lc,{justifySelf:"start",children:e("email:deviceCodeInput.title")}),a&&(0,h.jsx)(fm.V,{body:e("email:deviceCodeInput.information"),image:(0,h.jsx)(wr.w5g,{}),title:e("email:deviceCodeInput.informationTitle"),variant:"waiting",marginBlockEnd:"spacing24"}),(0,h.jsx)(Qr.a,{marginBlockEnd:"spacing24",children:e("email:deviceCodeInput.description")}),(0,h.jsx)(Xr.s,{direction:"column",marginBlockEnd:"spacing24",children:(0,h.jsxs)("form",{onSubmit:p.handleSubmit(((e,t)=>{null==t||t.preventDefault(),(async e=>{i(!0),o(void 0);try{var t;const n=await l({challengeId:d,emailLinkCode:e.deviceCode});null!==(t=n.data)&&void 0!==t&&t.poa?u(!0):o(n.error)}catch(e){o(e)}finally{i(!1)}})(e)})),noValidate:!0,children:[(0,h.jsx)(_l,{title:e("email:deviceCodeInput.inputLabel"),name:"deviceCode",autoComplete:"device-code",inputMode:"numeric",placeholder:e("email:deviceCodeInput.placeholder"),disabled:n}),(0,h.jsx)(Yt,{variant:"primary",size:"medium","aria-label":e("email:deviceCodeInput.button"),width:"fluid",type:"submit",loading:n,disabled:n,"location-1":"verify",marginBlockStart:"spacing24",children:e("email:deviceCodeInput.button")})]})})]}))}):null};var Sm,Cm=n(1598);function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},km.apply(null,arguments)}const Nm=function(e){return r.createElement("svg",km({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none"},e),Sm||(Sm=r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M8.15 1.244a1.312 1.312 0 0 1 1.7 0l1.504 1.281c.21.179.472.287.747.31l1.968.156a1.312 1.312 0 0 1 1.204 1.204l.157 1.968c.022.275.13.537.309.747l1.281 1.503c.418.49.418 1.211 0 1.702l-1.281 1.503c-.179.21-.287.471-.31.746l-.156 1.97a1.312 1.312 0 0 1-1.204 1.203l-1.968.157c-.276.021-.537.13-.747.309l-1.503 1.28a1.312 1.312 0 0 1-1.702 0l-1.503-1.28a1.312 1.312 0 0 0-.746-.31l-1.97-.156a1.312 1.312 0 0 1-1.203-1.204l-.157-1.969a1.311 1.311 0 0 0-.309-.746l-1.28-1.503a1.312 1.312 0 0 1 0-1.702L2.26 6.91c.18-.21.287-.472.31-.747l.156-1.968A1.312 1.312 0 0 1 3.931 2.99L5.9 2.834c.275-.022.536-.13.746-.309zm2.271 9.499c0-.765-.621-1.37-1.385-1.37h-.09c-.745-.017-1.367.605-1.367 1.37v1.582c0 .06.05.109.11.109h2.623a.11.11 0 0 0 .11-.11zm-.437-3.775a.984.984 0 1 1-1.968 0 .984.984 0 0 1 1.968 0",clipRule:"evenodd"})))};var Im,Am,Dm,zm,Tm,Fm,Mm,Lm,Rm,Vm,Bm,Um,Hm,Km,qm,Gm,Wm,$m,Ym,Jm,Qm,Xm,Zm,eh,th,nh,rh,ih,ah,oh,ch,lh,sh,uh,dh,ph,mh,hh,fh,gh,vh,bh,yh,jh,Oh,wh,xh,Ph,Eh,_h,Sh,Ch,kh,Nh,Ih,Ah,Dh,zh,Th,Fh,Mh,Lh,Rh,Vh,Bh,Uh,Hh,Kh,qh,Gh,Wh,$h;function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(null,arguments)}const Jh=function(e){return r.createElement("svg",Yh({xmlns:"http://www.w3.org/2000/svg",width:241,height:161,fill:"none"},e),r.createElement("mask",{id:"step1-detail_svg__a",width:241,height:161,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Im||(Im=r.createElement("path",{fill:"#D9D9D9",d:"M.675.264h239.651v159.767H.675z"}))),r.createElement("g",{mask:"url(#step1-detail_svg__a)"},Am||(Am=r.createElement("g",{clipPath:"url(#step1-detail_svg__b)"},r.createElement("rect",{width:139.738,height:86.948,x:23.143,y:21.366,fill:"#F0CFE0",rx:5.135}),r.createElement("path",{fill:"#FFF3F9",d:"M130.403 59.726h25.64v5.967h-25.64z"}),r.createElement("path",{fill:"#E5F7FF",d:"M72.713 66.971H156v25.081H72.713z"}),r.createElement("path",{fill:"#00C1F7",fillRule:"evenodd",d:"M155.667 67.303H73.045V91.72h82.622zm-82.954-.332v25.081H156v-25.08z",clipRule:"evenodd"}),r.createElement("path",{fill:"#00C1F7",d:"M72.713 75.07h83.285v.334H72.713zM72.713 83.594h83.285v.334H72.713z"}),r.createElement("rect",{width:10.746,height:12.708,x:145.36,y:26.658,fill:"#FFF3F9",rx:1.33}),r.createElement("path",{fill:"#222",d:"M117.583 59.726h12.82v5.967h-12.82z"}),r.createElement("path",{fill:"#fff",d:"M119.306 61.54h.188v-.265h.446v.271c0 .025 0 .05-.003.068h.183c-.004-.018-.004-.043-.004-.068v-.271h.46v.264h.186l-.002-.05v-.294c0-.018 0-.033.002-.05h-.646v-.068h.41c.052 0 .093 0 .132.004v-.153c-.039.004-.08.004-.132.004h-.983c-.053 0-.094 0-.131-.004v.153c.037-.004.078-.004.131-.004h.397v.068h-.634a.36.36 0 0 1 .003.05v.295a.34.34 0 0 1-.003.05m.561-.106v-.103c-.021.002-.038.002-.056.002h-.188c-.02 0-.035 0-.056-.002v.102l.056-.001h.188a.69.69 0 0 1 .056.002m.626 0v-.103c-.021.002-.038.002-.056.002h-.188c-.02 0-.035 0-.056-.002v.102l.056-.001h.188a.69.69 0 0 1 .056.002m-.682.048h-.188c-.02 0-.035 0-.056-.002v.103c.021-.002.036-.002.056-.002h.188a.65.65 0 0 1 .056.002v-.103c-.021.002-.038.002-.056.002m.626 0h-.188c-.02 0-.035 0-.056-.002v.103c.021-.002.036-.002.056-.002h.188a.65.65 0 0 1 .056.002v-.103c-.021.002-.038.002-.056.002m.23.538c-.003.112-.021.16-.059.188-.047.032-.108.042-.228.042-.149 0-.196-.003-.224-.01-.026-.007-.038-.02-.038-.04v-.018h.481l-.001-.055v-.4l.001-.055h-1.129a.563.563 0 0 1 .002.061v.487c0 .023 0 .043-.002.061h.173v-.099h.299v.035c0 .083.015.12.06.15.038.027.096.037.358.037.362 0 .447-.076.467-.298a1.491 1.491 0 0 1-.16-.086m-1.024-.222h.299v.07h-.299zm.784 0v.07h-.309v-.07zm-.485.26h-.299v-.076h.299zm.485 0h-.309v-.076h.309zM122.488 61.574h-.463a.523.523 0 0 0-.035-.08c.173-.09.362-.234.478-.372a.232.232 0 0 0 .032-.015 1.45 1.45 0 0 0-.159-.124l-.014.013h-.86c-.048 0-.086 0-.119-.003v.184c.033-.003.071-.003.119-.003h.719a1.524 1.524 0 0 1-.282.195.312.312 0 0 0-.052-.046l-.006-.005-.183.058c.067.043.118.11.153.198h-.497c-.066 0-.119 0-.162-.003v.192c.043-.003.096-.003.162-.003h.548c.01.063.015.13.015.202 0 .218-.041.233-.192.233-.072 0-.171-.011-.18-.013.025.068.063.169.073.202.007 0 .08.005.133.005.264 0 .369-.113.369-.416 0-.074-.005-.145-.015-.213h.418c.067 0 .12 0 .161.003v-.192c-.043.003-.094.003-.161.003M123.172 61.09h.35c.027 0 .05 0 .073.002v-.155l-.073.001h-.35l-.073-.001v.155zm1.263 1.097h-.211v-.475h.193l.063.001v-.165c-.021.002-.043.002-.063.002h-.193v-.401h.193l.103.001v-.173l-.103.001h-.624c-.04 0-.073 0-.103-.002v.174l.103-.001h.257v1.038h-.119v-.763c0-.017 0-.04.003-.055-.035-.003-.133-.007-.169-.008l.003.061v.765h-.008c-.042 0-.078 0-.108-.002v.18h.893v-.18c-.032.002-.067.002-.11.002m-1.328-.853h.46c.032 0 .058 0 .085.002v-.16h-.63v.16c.027-.002.054-.002.085-.002m.472.229v-.143c-.025.002-.045.002-.072.002h-.329c-.023 0-.046 0-.069-.002v.143c.023-.002.046-.002.069-.002h.329c.027 0 .048 0 .072.002m-.072.084h-.329c-.023 0-.046 0-.069-.002v.143c.023-.002.046-.002.069-.002h.329c.027 0 .048 0 .072.002v-.142zm.098.222h-.526a.468.468 0 0 1 .002.055v.42c0 .018 0 .04-.002.055h.161v-.068h.204v.068h.161l-.001-.055v-.42zm-.161.32h-.204v-.178h.204zM126.347 62.093v-1.044c0-.031.002-.06.004-.092h-.676a.582.582 0 0 1 .003.056v.558c0 .348-.093.561-.297.704.048.038.121.1.156.13.145-.102.248-.28.296-.514h.332v.283c0 .033-.023.05-.09.05-.045 0-.099-.007-.123-.01.025.056.067.145.083.187.224 0 .316-.068.316-.173zm-.992-.043h.181l-.004-.086v-.888c0-.03.002-.056.004-.085h-.573c.001.027.003.06.003.092v.947c0 .031-.002.066-.003.09h.184v-.14h.208zm.508-.926h.302v.223h-.302zm-.716.025h.208v.25h-.208zm1.018.58h-.309c.005-.049.007-.1.007-.151v-.068h.302zm-.81.094h-.208v-.27h.208zM128.152 61.727h-.54v-.067h.418c.054 0 .092 0 .13.004v-.13c-.038.004-.076.004-.13.004h-.418v-.068h.485l-.002-.055v-.126h.138a.62.62 0 0 1 .053.002v-.137l-.053.001h-.138v-.122c0-.022 0-.037.002-.056h-.485v-.024l.003-.06a3.654 3.654 0 0 0-.191-.006.698.698 0 0 1 .004.065v.025h-.385c-.045 0-.078 0-.113-.004v.131c.035-.003.068-.003.113-.003h.385v.056h-.53c-.051 0-.089 0-.128-.003v.135c.039-.003.077-.003.128-.003h.53v.06h-.379c-.043 0-.078 0-.111-.003v.13c.033-.003.068-.003.111-.003h.379v.068h-.424c-.051 0-.089 0-.127-.003v.129c.038-.004.076-.004.127-.004h.424v.067h-.53c-.065 0-.109 0-.151-.004v.143c.042-.004.086-.004.151-.004h1.254c.063 0 .108 0 .151.004v-.143c-.043.004-.088.004-.151.004m-.54-.57v-.056h.302v.056zm0 .189v-.06h.302v.06zm.472.576h-1.103a.478.478 0 0 1 .004.058v.393c0 .02-.002.04-.004.054h.191v-.053h.722v.053h.19l-.002-.054v-.393c0-.021 0-.038.002-.058m-.912.114h.722v.06h-.722zm.722.224h-.722v-.058h.722zM120.093 63.174c-.496 0-.79.389-.79.76 0 .232.109.386.297.386.304 0 .533-.512.584-.95.2.017.352.188.352.413 0 .245-.169.48-.589.535.091.073.134.123.181.17.327-.072.626-.294.626-.7 0-.382-.331-.614-.661-.614m-.485.94c-.073 0-.103-.08-.103-.203 0-.227.188-.519.477-.547-.04.396-.248.75-.374.75M122.487 63.214h-.611c.016-.05.031-.1.044-.151.004-.007.009-.013.01-.018l-.194-.04a1.735 1.735 0 0 1-.058.209h-.34c-.063 0-.115 0-.155-.004v.177c.04-.003.092-.003.155-.003h.267c-.11.217-.272.398-.488.527a.92.92 0 0 1 .116.152c.105-.061.203-.142.291-.24v.636c0 .028-.002.06-.004.084h.193a1.158 1.158 0 0 1-.003-.084v-.242h.539v.09c0 .036-.028.052-.111.052-.075 0-.154-.011-.156-.011l.093.19c.266 0 .364-.07.364-.182l-.004-.127v-.623c0-.023 0-.045.002-.066h-.711c.03-.05.057-.103.08-.156h.681c.063 0 .113 0 .154.003v-.177c-.041.004-.091.004-.154.004m-.238.48v.12h-.539v-.12zm0 .384h-.539v-.124h.539zM124.51 63.44l.002-.056h-.329c.005-.094.007-.194.007-.301 0-.02.003-.045.003-.047l-.179-.006c.003.025.005.073.005.102 0 .09-.002.173-.005.252h-.125c-.031 0-.058 0-.085-.002v-.149c-.029.002-.061.002-.098.002h-.167v-.164c0-.01.001-.026.003-.036a2.546 2.546 0 0 0-.194-.009l.003.043v.166h-.222c-.037 0-.07 0-.098-.002v.173c.028-.002.061-.002.098-.002h.577c.037 0 .069 0 .098.002v.15l.085-.001H124c-.043.427-.166.687-.42.866.052.038.131.1.16.129.254-.2.385-.49.431-.995h.151c-.003.497-.016.616-.038.684-.025.07-.069.099-.157.099a.363.363 0 0 1-.107-.015c.023.071.057.177.065.212.213 0 .325-.065.367-.184.041-.11.056-.273.058-.91m-.747.378c.021-.036.071-.103.103-.142a.82.82 0 0 1-.206-.262l-.136.081c.06.121.138.229.239.323m-.407-.301.012-.019-.151-.08a.723.723 0 0 1-.228.329c.04.038.1.102.126.136.093-.092.188-.222.241-.366m.277.745c.022-.035.067-.116.097-.168a3.804 3.804 0 0 0-.16-.102 1.84 1.84 0 0 0 .082-.247.049.049 0 0 1 .01-.016l-.168-.077a1.47 1.47 0 0 1-.078.249 5.276 5.276 0 0 0-.163-.088l-.086.159c.05.025.106.055.166.09-.09.144-.209.261-.35.342.041.042.109.11.134.14.153-.097.276-.22.37-.385.052.033.102.068.146.103M124.984 64.16H125.668v-.15c-.024.002-.051.002-.083.002v-.644l.095.001v-.152c-.03.002-.058.002-.095.002v-.11c0-.018.002-.043.004-.061a3.208 3.208 0 0 0-.18-.007c.002.017.004.05.004.067v.11h-.213v-.109c0-.018.002-.043.004-.061a3.172 3.172 0 0 0-.178-.007c.002.017.003.05.003.067v.11h-.025l-.094-.001v.152l.094-.001h.025v.644h-.045c-.036 0-.068 0-.096-.002v.15zm1.367.072v-1.053c0-.032.001-.06.003-.09h-.603l.004.053v.573c0 .385-.058.575-.163.704.043.04.11.103.138.133.088-.108.154-.302.184-.535h.259v.298c0 .033-.02.046-.083.046a.66.66 0 0 1-.109-.008c.024.058.064.149.079.19.204 0 .294-.07.294-.172zm-.42-.982h.242v.22h-.242zm-.731.118h.213v.12h-.213zm.973.491h-.246c.002-.041.004-.086.004-.129v-.1h.242zm-.973-.119v-.11h.213v.11zm0 .272v-.13h.213v.13zm.259.15-.124.095c.043.07.104.154.179.228.04-.051.08-.099.11-.135a.784.784 0 0 1-.165-.188m-.597.26c.034.034.094.09.131.131.101-.084.217-.215.265-.298l-.137-.09a.874.874 0 0 1-.259.257M127.381 63.999a.535.535 0 0 0-.156-.35c.06-.144.131-.377.155-.454.006-.003.015-.006.02-.01a1.355 1.355 0 0 0-.14-.114.18.18 0 0 0-.021.023h-.414a.518.518 0 0 1 .003.053v1.284c0 .035-.001.073-.003.104h.183c-.004-.031-.004-.07-.004-.104v-1.18h.18a4.217 4.217 0 0 1-.138.415.407.407 0 0 1 .163.303c0 .094-.05.142-.108.142a.453.453 0 0 1-.093-.01c.031.055.078.14.093.176.184 0 .28-.108.28-.279m.659.172c.085-.062.181-.143.235-.2.005-.004.011-.009.018-.012l-.125-.128a.95.95 0 0 1-.217.215.929.929 0 0 1-.092-.22h.306l-.002-.068v-.594c0-.023 0-.045.002-.068h-.732l.003.053v1.157l-.076.019-.092.02.035.195.082-.032c.134-.033.35-.109.443-.139l.003-.187a2.35 2.35 0 0 1-.219.075v-.43h.098c.075.344.252.6.515.723.018-.046.063-.13.093-.18a.69.69 0 0 1-.278-.2m-.428-.914h.377v.124h-.377zm0 .409v-.131h.377v.13z"}),r.createElement("path",{fill:"#999",d:"M28.351 103.286c.598 0 .98-.474.98-1.292 0-.818-.382-1.298-.98-1.298-.6 0-.98.48-.98 1.298 0 .818.38 1.292.98 1.292m0-.308c-.342 0-.617-.295-.617-.984 0-.685.275-.99.617-.99.332 0 .615.305.615.99 0 .686-.283.984-.615.984M30.706 103.286c.597 0 .98-.474.98-1.292 0-.818-.383-1.298-.98-1.298-.601 0-.98.48-.98 1.298 0 .818.379 1.292.98 1.292m0-.308c-.342 0-.618-.295-.618-.984 0-.685.276-.99.618-.99.332 0 .614.305.614.99 0 .686-.282.984-.614.984M33.06 103.286c.598 0 .98-.474.98-1.292 0-.818-.382-1.298-.98-1.298-.601 0-.98.48-.98 1.298 0 .818.379 1.292.98 1.292m0-.308c-.342 0-.618-.295-.618-.984 0-.685.276-.99.618-.99.332 0 .614.305.614.99 0 .686-.282.984-.614.984M35.414 103.286c.598 0 .98-.474.98-1.292 0-.818-.382-1.298-.98-1.298-.6 0-.98.48-.98 1.298 0 .818.38 1.292.98 1.292m0-.308c-.342 0-.617-.295-.617-.984 0-.685.275-.99.617-.99.332 0 .614.305.614.99 0 .686-.282.984-.614.984M37.768 103.286c.598 0 .98-.474.98-1.292 0-.818-.382-1.298-.98-1.298-.6 0-.98.48-.98 1.298 0 .818.38 1.292.98 1.292m0-.308c-.342 0-.617-.295-.617-.984 0-.685.275-.99.617-.99.332 0 .615.305.615.99 0 .686-.283.984-.615.984M40.123 103.286c.597 0 .98-.474.98-1.292 0-.818-.383-1.298-.98-1.298-.601 0-.98.48-.98 1.298 0 .818.379 1.292.98 1.292m0-.308c-.342 0-.618-.295-.618-.984 0-.685.276-.99.618-.99.332 0 .614.305.614.99 0 .686-.282.984-.614.984M42.477 103.286c.598 0 .98-.474.98-1.292 0-.818-.383-1.298-.98-1.298-.601 0-.98.48-.98 1.298 0 .818.379 1.292.98 1.292m0-.308c-.342 0-.618-.295-.618-.984 0-.685.276-.99.618-.99.332 0 .614.305.614.99 0 .686-.282.984-.614.984M44.831 103.286c.598 0 .98-.474.98-1.292 0-.818-.382-1.298-.98-1.298-.601 0-.98.48-.98 1.298 0 .818.379 1.292.98 1.292m0-.308c-.342 0-.618-.295-.618-.984 0-.685.276-.99.618-.99.332 0 .614.305.614.99 0 .686-.282.984-.614.984M47.185 103.286c.598 0 .98-.474.98-1.292 0-.818-.382-1.298-.98-1.298-.6 0-.98.48-.98 1.298 0 .818.38 1.292.98 1.292m0-.308c-.342 0-.617-.295-.617-.984 0-.685.275-.99.617-.99.332 0 .615.305.615.99 0 .686-.283.984-.615.984M49.54 103.286c.597 0 .98-.474.98-1.292 0-.818-.383-1.298-.98-1.298-.602 0-.98.48-.98 1.298 0 .818.378 1.292.98 1.292m0-.308c-.343 0-.618-.295-.618-.984 0-.685.276-.99.617-.99.333 0 .615.305.615.99 0 .686-.282.984-.615.984"}),r.createElement("path",{fill:"#FFF3F9",d:"M72.713 92.118h83.285v11.036H72.713z"}),r.createElement("path",{fill:"#222",d:"M80.718 95.711c-.003.316-.024.401-.061.404-.045 0-.112-.085-.162-.364.106-.178.183-.396.25-.664.002-.008.007-.016.013-.019l-.157-.117a2.34 2.34 0 0 1-.149.503 9.203 9.203 0 0 1-.034-.66h.204c.059 0 .106 0 .154.003v-.194a.788.788 0 0 1-.08.006c.027-.027.056-.053.078-.077a1.39 1.39 0 0 0-.213-.189l-.106.096c.056.042.127.106.186.17h-.226v-.056c0-.032.003-.061.005-.074-.005-.003-.018-.003-.037-.006l-.002-.058v-.077h.236c.066 0 .117 0 .167.002v-.199c-.05.005-.1.005-.167.005h-.237v-.124c0-.016 0-.04.003-.061a3.067 3.067 0 0 0-.22-.008c.002.023.002.047.002.069v.124h-.34v-.124c0-.016 0-.04.003-.061a3.067 3.067 0 0 0-.22-.008c.002.023.002.047.002.069v.124h-.223c-.064 0-.112 0-.165-.005v.2c.053-.003.101-.003.165-.003h.223v.077c0 .024-.002.05-.005.072h.223c-.003-.022-.003-.046-.003-.072v-.077h.34v.077c0 .024-.002.05-.005.072h.059c0 .016.002.037.005.06v.062h-.973l.003.064v.72c0 .345-.048.552-.127.695 0-.04-.006-.17-.006-.207v-1.716c0-.042.003-.08.006-.125h-.598a.562.562 0 0 1 .005.061v.92c0 .552-.066.95-.149 1.15.051.05.128.127.16.164.077-.17.133-.475.157-.85h.233v.534c0 .04-.016.056-.09.056-.045 0-.098-.008-.103-.008.029.075.071.194.087.242.178 0 .276-.072.295-.175.037.055.085.132.112.18.14-.172.22-.494.22-.906v-.613h.773c.016.398.043.698.077.921a.987.987 0 0 1-.165.184v-.093c-.034.002-.063.002-.093.002h-.066v-.167h.14l-.002-.058v-.247c0-.024 0-.043.003-.062h-.141v-.159h.07c.028 0 .057 0 .092.003v-.168c-.035.003-.064.003-.093.003h-.497a.839.839 0 0 1 .003.085v.847c0 .03 0 .059-.003.086h.502a1.44 1.44 0 0 1-.358.19c.05.046.125.112.157.144.21-.098.371-.212.499-.358.077.295.18.377.295.377.151 0 .207-.154.223-.439-.043-.037-.112-.124-.154-.175M78.72 94.27h.215v.39h-.215zm.215.998h-.223c.003-.08.006-.161.006-.244v-.149h.217zm.784-.15h.133v.158h-.133zm.266.28v.126h-.266v-.125zm-.266.412v-.167h.133v.168zM83.446 95.703c.01-.045.043-.146.064-.21-.28-.06-.56-.183-.739-.33h.436c.093 0 .165 0 .231.006v-.223c-.066.005-.138.005-.231.005H82.2a2.35 2.35 0 0 0 .128-.228c.002-.008.01-.016.016-.021l-.213-.04v-.518c0-.03 0-.053.003-.077h-.893a.611.611 0 0 1 .005.077v.505a.61.61 0 0 1-.005.077h.845a.927.927 0 0 1-.135.225h-.635c-.096 0-.165 0-.231-.005v.223c.066-.005.135-.005.23-.005h.418a2 2 0 0 1-.726.332c.03.061.075.16.09.207.062-.018.118-.04.173-.058v.616a.705.705 0 0 1-.005.082h.223v-.13h.43v.13h.221l-.003-.082v-.677c0-.035 0-.056.003-.085h-.544c.172-.093.316-.202.438-.335h.467c.11.13.253.244.417.335h-.552c.003.026.005.05.005.085v.677a.728.728 0 0 1-.005.082h.223v-.13h.43v.13h.22l-.002-.082v-.622c.07.024.138.046.21.064m-1.078-.977h.892l-.003-.077v-.505c0-.03 0-.053.003-.077h-.892a.611.611 0 0 1 .005.077v.505a.61.61 0 0 1-.005.077m-.455-.197h-.446v-.266h.446zm.68-.266h.447v.266h-.447zm-.674 1.43v.321h-.43v-.321zm1.1.321h-.431v-.321h.43zM84.28 95.87v-.523c.11-.034.202-.066.242-.082v-.237c-.037.016-.133.048-.242.085v-.448h.138c.04 0 .077 0 .115.002v-.218c-.04.003-.075.003-.115.003h-.138v-.393c0-.03.003-.07.005-.096a3.608 3.608 0 0 0-.241-.01c.002.023.005.08.005.103v.396h-.2c-.039 0-.074 0-.113-.003v.218c.04-.002.074-.002.114-.002h.2v.523a7.03 7.03 0 0 1-.203.058l-.125.027.04.247c.037-.013.075-.03.112-.045l.175-.053V96c0 .05-.027.072-.125.072a.907.907 0 0 1-.157-.014c.035.082.09.213.112.269.284 0 .406-.099.406-.248zm.436-.977h1.18l-.003-.085v-.704c0-.032 0-.058.002-.088h-1.18a.847.847 0 0 1 .006.088v.704c0 .03-.002.061-.005.085m.234-.701h.714v.178h-.714zm.714.526h-.714v-.184h.714zm-.053 1.368a1.41 1.41 0 0 1-.189-.01v-.325h.444c.035 0 .07 0 .106.003v-.208c-.037.003-.071.003-.106.003h-.444v-.282h.5c.066 0 .117 0 .167.003v-.218c-.05.006-.1.006-.167.006h-1.174c-.064 0-.117 0-.168-.006v.218c.053-.002.104-.002.168-.002h.443v.751a.509.509 0 0 1-.337-.356 2.73 2.73 0 0 0 .056-.22.232.232 0 0 1 .013-.03l-.218-.063c-.06.356-.233.683-.39.829.05.047.13.125.17.167.095-.098.191-.244.273-.425.152.274.452.383.795.383.215 0 .4-.008.544-.022.014-.05.035-.16.05-.228-.138.019-.329.032-.536.032M86.892 96.187v-1.674c.069-.151.13-.319.183-.489l.013-.02-.228-.086c-.083.332-.332.855-.56 1.097.039.072.097.189.119.25.082-.093.172-.223.257-.372-.018.42-.034 1.001-.034 1.294 0 .05-.003.1-.005.146h.26a2.464 2.464 0 0 1-.006-.146m1.697-.824h-.25v-.608h.202c.07 0 .125 0 .178.002v-.236c-.053.005-.109.005-.178.005h-.202v-.46c0-.026.003-.063.006-.09a4.108 4.108 0 0 0-.26-.01c.002.026.005.077.005.1v.46h-.42v-.46c0-.026.002-.063.005-.09a4.099 4.099 0 0 0-.257-.01c.002.026.005.077.005.098v.462h-.16c-.069 0-.125 0-.178-.005v.236c.053-.002.11-.002.178-.002h.16v.608h-.218c-.074 0-.133 0-.189-.005v.242c.056-.006.115-.006.189-.006h1.384c.074 0 .133 0 .189.006v-.242c-.056.005-.115.005-.189.005m-.92 0v-.608h.42v.608zm-.698.755c.045.066.12.164.152.217.239-.143.465-.334.587-.507l-.178-.16c-.093.147-.33.346-.56.45m1.265-.45-.181.16c.106.16.343.388.58.52.034-.066.095-.167.135-.222a1.414 1.414 0 0 1-.534-.457M89.277 94.67h1.91c.09 0 .16 0 .226.005v-.204c-.067.005-.136.005-.226.005h-.438c.047-.08.093-.165.114-.207l.003-.003h.146c.077 0 .14 0 .196.005v-.204c-.055.005-.12.005-.196.005h-.662v-.09c0-.016.003-.04.006-.056a4.54 4.54 0 0 0-.271-.01.7.7 0 0 1 .005.063v.093h-.662c-.08 0-.14 0-.196-.005v.204c.056-.005.117-.005.196-.005h.17c.032.043.08.13.12.21h-.441c-.093 0-.16 0-.226-.005v.204c.067-.005.133-.005.226-.005m.58-.404h.754c-.03.064-.075.146-.117.21h-.526c-.035-.067-.077-.151-.112-.21m.329 1.262-.157.111c.085.054.244.178.327.274.055-.048.135-.111.18-.149a2.29 2.29 0 0 0-.332-.236h.85l-.002-.083v-.563c0-.029 0-.055.002-.08h-1.647c.003.022.005.051.005.08v.563a.728.728 0 0 1-.005.083zm-.532-.569h1.156v.13h-1.156zm0 .412v-.138h1.156v.138zm1.413.24-.183.103c.104.106.282.33.372.497l.207-.136a2.683 2.683 0 0 0-.395-.465m-.483.435c-.066.042-.149.05-.306.05-.21 0-.27-.002-.308-.008-.026-.008-.047-.02-.047-.066V95.7c0-.015.002-.029.005-.037l-.26-.018.002.045v.33c0 .13.019.196.08.238.053.035.146.05.505.05.48 0 .613-.09.645-.366-.061-.029-.17-.085-.239-.12-.003.128-.03.187-.077.224m-1.594.021c.061.05.151.13.189.173.125-.11.268-.282.358-.478.006-.011.014-.019.016-.03l-.218-.074a1.082 1.082 0 0 1-.345.41M91.968 95.164h1.812l-.003-.101v-.94c0-.035 0-.07.003-.101h-1.812c.003.029.005.066.005.1v.941c0 .034-.002.072-.005.1m.25-.93h.542v.253h-.542zm.773 0h.542v.253h-.542zm-.231.717h-.542v-.263h.542zm.773 0h-.542v-.263h.542zm-.718.22-.164.115c.098.08.27.245.364.37.055-.046.138-.107.183-.144a2.145 2.145 0 0 0-.383-.34m.85.2-.19.114c.116.139.31.415.406.625l.21-.141a3.192 3.192 0 0 0-.425-.598m-.443.635c-.056.045-.144.053-.29.053a2.34 2.34 0 0 1-.284-.008c-.034-.008-.053-.026-.053-.09v-.51c0-.013.003-.032.005-.04l-.252-.019a.304.304 0 0 1 .005.053v.524c0 .14.019.218.08.26.053.04.14.056.475.056.476 0 .598-.098.62-.452-.06-.029-.17-.093-.237-.127 0 .178-.019.255-.07.3m-1.557-.003c.064.048.154.128.191.17a1.77 1.77 0 0 0 .354-.613c.008-.008.013-.019.021-.03l-.223-.076c-.067.21-.229.446-.343.55M119.448 99.772h-.356c.138-.107.261-.223.37-.356l.018-.013-.172-.117a1.985 1.985 0 0 1-.545.486h-.202v-.162h.244c.059 0 .107 0 .157.005v-.194c-.05.003-.098.003-.157.003h-.244V99.3c0-.013.003-.04.005-.058h.935l-.002-.072v-.385c0-.029 0-.048.002-.072h-2.024a.47.47 0 0 1 .006.072v.385c0 .027-.003.05-.006.072h.856l.002.059v.122h-.661c-.059 0-.106 0-.157-.003v.194c.051-.005.098-.005.157-.005h.661v.162h-.799c-.093 0-.162 0-.226-.006v.205c.064-.003.133-.003.226-.003h.858a4.523 4.523 0 0 1-1.124.269c.024.063.056.162.066.202.189-.032.364-.07.524-.112v.611a.767.767 0 0 1-.006.09h.247v-.101h.999v.101h.245l-.003-.09v-.696c0-.035 0-.061.003-.09h-.973c.133-.056.255-.117.372-.184h.704c.091 0 .16 0 .226.003v-.205c-.066.006-.135.006-.226.006m-1.368-.688h-.366v-.21h.366zm.213 0v-.21h.377v.21zm.589-.21h.386v.21h-.386zm.218 1.44v.146h-.999v-.146zm0 .451h-.999v-.156h.999zM122.166 100.946v-.893c0-.034 0-.063.003-.095h-1.042c.346-.271.632-.598.816-.935.01-.006.024-.008.032-.014a1.834 1.834 0 0 0-.202-.151c-.011.008-.019.018-.029.03h-.673c.043-.067.083-.134.117-.2l.019-.027-.266-.047c-.172.369-.534.72-.943.89.048.058.122.159.149.212.13-.064.26-.149.388-.25.143.064.361.176.51.277-.306.244-.68.44-1.081.552.047.064.119.165.143.218.231-.077.454-.183.664-.311v.744a.987.987 0 0 1-.005.098h.244v-.135h.919v.135h.24zm-1.464-1.626c.077-.072.146-.146.213-.226h.714c-.101.17-.236.335-.396.487a4.154 4.154 0 0 0-.531-.26m1.227 1.363h-.919v-.5h.919z"}),r.createElement("ellipse",{cx:76.132,cy:95.102,fill:"#333",rx:1.282,ry:1.279}),r.createElement("path",{stroke:"#222",strokeLinecap:"square",strokeWidth:.166,d:"m117.156 102.005 36.102.167"}),r.createElement("g",{clipPath:"url(#step1-detail_svg__c)"},r.createElement("rect",{width:35.319,height:41.486,x:27.067,y:51.079,fill:"#fff",rx:5.053}),r.createElement("path",{fill:"#fff",d:"M27.067 51.079h35.37v42.127h-35.37z"}),r.createElement("g",{clipPath:"url(#step1-detail_svg__d)"},r.createElement("path",{fill:"#352323",d:"m55.785 66.115-10.757-6.35h-.113l-10.78 6.35a.124.124 0 0 0-.068.113c0 3.3.136 16.535.474 20.219.407 4.248 5.492 4.813 10.396 4.813 4.905 0 9.99-.565 10.396-4.813.362-3.684.475-16.92.475-20.219.045-.045.022-.09-.023-.113"}),r.createElement("path",{fill:"#FDE7DA",d:"m60.486 90.888-9.763-4.023c-.881-.407-1.672-1.266-2.124-2.26V70.706H41.32v13.921c-.452.972-1.243 1.854-2.124 2.26l-9.763 4c-1.469.633-2.915 2.396-3.21 3.888l5.38 9.266c.293-1.492.79-1.492 1.084 0H57.21c.294-1.492.791-1.492 1.085 0l5.379-9.266c-.272-1.492-1.718-3.255-3.187-3.887"}),r.createElement("path",{fill:"#F9B895",d:"M48.599 70.684v11.57c-1.266.927-2.577 1.47-3.639 1.47-1.062 0-2.373-.543-3.639-1.47v-11.57z",opacity:.5}),r.createElement("path",{fill:"#FDE7DA",d:"M56.262 71.413c0-1.198-.59-2.265-1.5-2.962.069-.567.137-1.155.205-1.786.409-4.096-3.156-9.41-9.923-9.41-6.812 0-10.354 5.314-9.945 9.41.068.631.136 1.22.204 1.786-.908.697-1.499 1.764-1.499 2.962 0 1.851 1.385 3.376 3.225 3.703.227.523.476 1.067.749 1.612 1.658 3.223 5.04 5.51 7.266 5.51 2.203 0 5.586-2.287 7.267-5.51.272-.545.522-1.068.749-1.612 1.816-.327 3.202-1.873 3.202-3.703"}),r.createElement("path",{fill:"#000",d:"M42.022 71.268a.762.762 0 0 0-.113-.384.788.788 0 0 0-.678-.385.8.8 0 0 0-.768.588c0 .023 0 .045-.023.045 0 .045-.023.09-.023.136a.8.8 0 0 0 .791.79.626.626 0 0 0 .294-.067.847.847 0 0 0 .384-.362c.113-.09.136-.226.136-.361"}),r.createElement("path",{fill:"#352323",d:"M42.723 68.556c.045 0 .09-.023.113-.046.045-.068.022-.135-.023-.18a3.086 3.086 0 0 0-1.763-.566c-.633 0-1.243.204-1.763.566a.12.12 0 0 0-.022.18.12.12 0 0 0 .18.023 2.72 2.72 0 0 1 1.605-.52c.565 0 1.13.18 1.605.52 0 .022.045.022.067.022"}),r.createElement("path",{fill:"#352323",fillRule:"evenodd",d:"m43.001 68.646-.015.015a.385.385 0 0 1-.264.107h-.001c-.01 0-.046 0-.083-.007a.238.238 0 0 1-.14-.078 2.558 2.558 0 0 0-1.448-.457c-.537 0-1.033.163-1.47.473a.333.333 0 0 1-.481-.055.333.333 0 0 1 .068-.49 3.299 3.299 0 0 1 1.883-.602 3.3 3.3 0 0 1 1.885.603l.015.01.014.014a.37.37 0 0 1 .104.194.345.345 0 0 1-.055.255zm-3.714-.317a.12.12 0 0 0-.022.181.12.12 0 0 0 .18.023 2.72 2.72 0 0 1 1.605-.52c.565 0 1.13.18 1.605.52 0 .022.045.022.067.022a.174.174 0 0 0 .114-.045.15.15 0 0 0 .02-.044.125.125 0 0 0 .003-.049.155.155 0 0 0-.046-.088 3.086 3.086 0 0 0-1.763-.564c-.633 0-1.243.203-1.763.564",clipRule:"evenodd"}),r.createElement("path",{fill:"#000",d:"M49.457 71.132c0-.022 0-.045-.022-.045a.78.78 0 0 0-.769-.588.8.8 0 0 0-.79.791.8.8 0 0 0 .79.791.798.798 0 0 0 .791-.79c.023-.068 0-.114 0-.159"}),r.createElement("path",{fill:"#C6A389",d:"M44.96 78.274c.7 0 1.379-.09 1.944-.294.067-.023.113-.09.09-.159-.023-.067-.09-.112-.158-.09-1.085.362-2.622.362-3.73 0-.067-.022-.135.023-.157.09-.023.068.022.136.09.159.565.203 1.22.293 1.921.293"}),r.createElement("path",{fill:"#C6A389",fillRule:"evenodd",d:"M46.974 78.18c-.595.214-1.298.306-2.014.306-.717 0-1.397-.092-1.991-.305-.148-.051-.29-.22-.222-.427.05-.149.22-.294.426-.225 1.065.347 2.555.347 3.596 0 .207-.07.377.076.427.225.069.206-.074.376-.222.427m-.07-.2c-.565.203-1.243.293-1.944.293-.7 0-1.356-.09-1.92-.293-.069-.023-.114-.09-.091-.159.022-.067.09-.112.158-.09 1.107.362 2.644.362 3.729 0 .068-.022.136.023.158.09.023.068-.023.136-.09.159",clipRule:"evenodd"}),r.createElement("path",{fill:"#F9D0BA",d:"M45.57 74.59a3.42 3.42 0 0 1-.587.045 3.42 3.42 0 0 1-.588-.045"}),r.createElement("path",{fill:"#352323",fillRule:"evenodd",d:"m50.843 68.646-.015.015a.385.385 0 0 1-.263.107h-.003c-.029 0-.117 0-.199-.069a2.559 2.559 0 0 0-1.47-.473c-.538 0-1.034.163-1.472.473a.333.333 0 0 1-.48-.055.333.333 0 0 1 .068-.49 3.299 3.299 0 0 1 1.883-.602 3.3 3.3 0 0 1 1.885.603l.015.01.014.014a.37.37 0 0 1 .104.194.345.345 0 0 1-.055.255z",clipRule:"evenodd"}),r.createElement("path",{fill:"#352323",d:"M42.09 56.94c.362-.317 3.255-2.554 7.21-1.243 4.068 1.356 6.508 5.243 6.508 10.418v.045l-2.395 5.944c-.023.045-.068.09-.113.09h-.023c-.068 0-.113-.067-.113-.135s-.135-3.142-.135-3.142c-.633-.113-3.865-.7-6.939-1.785-3.05-1.062-5.491-3.074-6.011-3.526l-2.915 3.616-.475 4.837c0 .068-.045.113-.113.113s-.113-.023-.136-.09l-2.372-5.831v-.046c-.046-4.27 3.254-9.13 8.022-9.265"})),r.createElement("path",{fill:"#F04771",d:"M62.674 113.548V93.01c-.901-2.438-2.124-3.337-4.448-4.536-3.667-1.878-8.075-3.336-8.075-3.336-1.203 2.377-3.447 3.177-5.31 3.177-1.864 0-4.108-.8-5.31-3.177 0 0-4.409 1.458-8.076 3.336-2.264 1.16-3.486 2.058-4.388 4.376v20.698z"})),r.createElement("rect",{width:53.844,height:1.709,x:95.362,y:94.227,fill:"#000",fillOpacity:.1,rx:.855}),r.createElement("rect",{width:39.315,height:1.709,x:74.85,y:98.286,fill:"#000",fillOpacity:.1,rx:.855}),r.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M40.236 32.904a2.564 2.564 0 1 0 0-5.128 2.564 2.564 0 0 0 0 5.128m43.467 21.153a1.923 1.923 0 1 1-3.846 0 1.923 1.923 0 0 1 3.846 0m8.664 8.261c1.178 0 2.134-.94 2.134-2.1 0-1.16-.956-2.101-2.134-2.101s-2.133.94-2.133 2.1c0 1.16.955 2.101 2.133 2.101m5.128 0c1.178 0 2.134-.94 2.134-2.1 0-1.16-.956-2.101-2.134-2.101s-2.133.94-2.133 2.1c0 1.16.955 2.101 2.133 2.101M42.8 41.024a2.564 2.564 0 1 1-5.128 0 2.564 2.564 0 0 1 5.128 0m21.367 2.563a2.564 2.564 0 1 0 0-5.128 2.564 2.564 0 0 0 0 5.128m26.494-2.564a2.564 2.564 0 1 1-5.128 0 2.564 2.564 0 0 1 5.128 0m-38.46 2.564a2.564 2.564 0 1 0 0-5.128 2.564 2.564 0 0 0 0 5.128m26.495-2.564a2.564 2.564 0 1 1-5.128 0 2.564 2.564 0 0 1 5.128 0m21.367 2.564a2.564 2.564 0 1 0 0-5.128 2.564 2.564 0 0 0 0 5.128M48.783 30.34a2.564 2.564 0 1 1-5.129 0 2.564 2.564 0 0 1 5.128 0m-2.565 13.247a2.564 2.564 0 1 0 0-5.128 2.564 2.564 0 0 0 0 5.128m26.495-2.564a2.564 2.564 0 1 1-5.128 0 2.564 2.564 0 0 1 5.128 0m21.367 2.564a2.564 2.564 0 1 0 0-5.128 2.564 2.564 0 0 0 0 5.128m-33.332-2.564a2.564 2.564 0 1 1-5.128 0 2.564 2.564 0 0 1 5.128 0m21.367 2.564a2.564 2.564 0 1 0 0-5.128 2.564 2.564 0 0 0 0 5.128m26.494-2.564a2.564 2.564 0 1 1-5.128 0 2.564 2.564 0 0 1 5.128 0m-52.99-8.119a2.564 2.564 0 1 0 0-5.128 2.564 2.564 0 0 0 0 5.128m8.548-2.564a2.564 2.564 0 1 1-5.129 0 2.564 2.564 0 0 1 5.129 0m25.732 25.64a1.923 1.923 0 1 0 0-3.846 1.923 1.923 0 0 0 0 3.846m10.043-1.923a1.923 1.923 0 1 1-3.846 0 1.923 1.923 0 0 1 3.846 0m28.966 1.923a1.923 1.923 0 1 0 0-3.846 1.923 1.923 0 0 0 0 3.846m-6.197-1.923a1.923 1.923 0 1 1-3.846 0 1.923 1.923 0 0 1 3.846 0m-6.196 1.923a1.923 1.923 0 1 0 0-3.846 1.923 1.923 0 0 0 0 3.846m39.528-12.179a2.35 2.35 0 1 1-4.7 0 2.35 2.35 0 0 1 4.7 0m-19.016 12.18a1.923 1.923 0 1 0 0-3.847 1.923 1.923 0 0 0 0 3.846",clipRule:"evenodd",opacity:.1}),r.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M33.942 32.157v-1.014c0-.045 0-.08.003-.122h-1.113c.368-.297.67-.65.865-1.018a.292.292 0 0 0 .042-.017 2.027 2.027 0 0 0-.281-.213l-.022.02a.317.317 0 0 1-.011.013h-.694c.039-.06.075-.123.107-.185l.021-.033-.374-.07c-.191.41-.595.794-1.052.982.071.08.182.215.227.293a2.39 2.39 0 0 0 .413-.263c.152.072.359.18.511.284a3.64 3.64 0 0 1-1.17.569c.072.086.18.23.216.302.236-.081.464-.186.679-.308v.78c0 .045-.003.087-.006.123h.347v-.138h.948v.138h.347zm-1.63-1.84c.072-.068.14-.143.206-.22h.74c-.105.17-.24.337-.402.49a5.36 5.36 0 0 0-.544-.27m1.286 1.508h-.948v-.49h.948zm-4.007-.541c.003.475-.045.631-.123.631-.194 0-.436-.326-.583-.96l.622-.012h.074c.065-.001.12-.002.166.003l.003-.347a2.736 2.736 0 0 1-.243.009l-.685.012a6.451 6.451 0 0 1-.056-.593c.239-.053.47-.116.694-.188l.009-.003a.716.716 0 0 1 .08-.024c-.078-.086-.164-.175-.237-.251l-.023-.024a5.932 5.932 0 0 1-1.532.34 2.885 2.885 0 0 0-.257-.08c.003.027.003.14.003.159v1.86l-.086.019-.096.02-.2.024.053.365c.048-.015.126-.036.17-.048a33.495 33.495 0 0 0 1.2-.305c-.002-.03.004-.136.01-.24l.005-.113c-.08.027-.4.114-.709.192v-.757l.697-.012c.198.957.572 1.316.912 1.316.282 0 .386-.24.42-.667a4.19 4.19 0 0 1-.288-.326m-1.104-.658-.637.012v-.461c.204-.02.395-.048.58-.08.015.19.033.367.057.529m118.242 3.832c.166-.181.317-.465.407-.752l.219.068a3.765 3.765 0 0 1-.156.377v1.41h-.225v-1.018c-.044.062-.087.12-.133.17a1.664 1.664 0 0 0-.112-.255m1.142.508h.203v-.208h-.203zm.43-.713v.17h-.241v.172h.191v.532h-.552v-.532h.178v-.171h-.229v-.171h.229v-.203h.183v.203zm-.703-.245v1.228h.749v-1.228zm-.215 1.548v-1.752h1.189v1.734h-.225v-.097h-.749v.115zm2.141-1.742.002-.066h.271a5.833 5.833 0 0 0-.003.059l-.003.054c.016.275.116 1.131.859 1.479a.773.773 0 0 0-.183.2c-.45-.222-.674-.631-.785-.997-.108.358-.317.741-.737.998a.832.832 0 0 0-.2-.19c.739-.407.767-1.214.779-1.537m1.656.963a1.9 1.9 0 0 0 .381-.27v.237h.233v-.247c.109.108.245.203.39.28zm.61.543v-.107h.317v.107zm-.514-.107h.293v.107h-.293zm.293-.153h-.293v-.106h.293zm.538 0h-.317v-.106h.317zm-.546-.82h-.239l.091-.035a.876.876 0 0 0-.119-.203c.089-.004.177-.008.267-.014zm.454 0h-.221v-.27c.095-.007.187-.017.277-.03a1.67 1.67 0 0 1-.126.28zm.558.194v-.193h-.397c.048-.068.106-.157.16-.242l-.245-.06c.119-.016.233-.034.334-.054l-.149-.17c-.327.065-.885.107-1.361.118.02.048.044.128.048.18l.056-.002H151.062l.098-.003-.095.034c.043.058.089.135.117.199h-.384v.193h.539c-.161.123-.382.23-.589.29.048.044.113.129.145.18.052-.017.104-.037.156-.061v.717h.227V35.5h.831v.053h.237v-.7c.045.019.091.037.137.05.036-.059.104-.152.157-.2a1.86 1.86 0 0 1-.621-.268zm.693-.243h.823v-.214h-.823zm-.231-.421h1.301v.628h-1.301zm1.53.73v.214h-1.144c-.011.04-.023.077-.037.117h.958s-.004.066-.012.097c-.04.326-.088.483-.159.549-.062.056-.126.071-.22.077a3.329 3.329 0 0 1-.344-.002.489.489 0 0 0-.082-.226c.134.014.279.016.339.016.046 0 .073-.002.099-.02.038-.03.07-.115.098-.276h-.751l-.028.078-.01.025-.259-.04c.046-.105.1-.252.145-.395h-.376v-.215zm-9.964 10.63h-.488v-.587h.362c.069 0 .129 0 .179.003v-.317c-.053.003-.11.003-.179.003h-.362v-.514h.428c.069 0 .128 0 .179.002v-.326c-.054.003-.11.003-.179.003h-.428v-.454c0-.042.003-.099.006-.138a6.818 6.818 0 0 0-.353-.012c.003.033.006.108.006.147v.457h-.272c.024-.11.042-.227.054-.35 0-.008.009-.026.015-.038l-.335-.084a3.155 3.155 0 0 1-.168.805 3.18 3.18 0 0 0-.147-.476l-.173.057v-.365c0-.04 0-.096.006-.138a6.588 6.588 0 0 0-.341-.012c.003.04.003.105.003.15v2.369c0 .072-.003.146-.006.206h.344a4.13 4.13 0 0 1-.006-.206V43.35c.045.137.102.35.12.517l.059-.021.111-.042c-.011.027-.024.053-.036.076l-.012.023c.096.039.243.108.296.147.045-.084.093-.198.135-.332h.353v.514h-.353c-.069 0-.126 0-.176-.003v.317c.05-.003.107-.003.176-.003h.353v.586h-.547c-.087 0-.153 0-.216-.006v.338c.063-.005.129-.005.216-.005h1.376c.086 0 .152 0 .212.005v-.338c-.06.006-.126.006-.212.006m-2.576-.99.227.089c.063-.215.09-.437.105-.76a.38.38 0 0 0 .006-.05l-.061-.016-.025-.006h-.001l-.143-.035a2.556 2.556 0 0 1-.108.777m6.936.78v-1.983c0-.033.003-.087.006-.12-.054-.004-.183-.009-.276-.012l-.077-.003c.003.033.006.102.006.135v2.124c0 .068-.051.095-.204.095-.104 0-.23-.012-.284-.02l.032.065.001.001c.052.107.117.239.144.307.472 0 .658-.134.658-.34l-.003-.113a4.362 4.362 0 0 1-.003-.136m-1.2-2.001h-1.292c.003.03.006.066.006.105v.804c0 .036-.003.075-.006.105h.305c-.015.628-.176 1.13-.461 1.346l.07.06c.075.062.162.135.212.182.215-.197.37-.547.448-1.026h.38c-.006.368-.018.473-.045.548-.039.08-.101.116-.227.116a.589.589 0 0 1-.183-.027l.019.059c.038.113.082.25.095.306.341 0 .524-.095.595-.263.054-.138.072-.338.075-.954 0-.021.003-.069.006-.096h-.679c.006-.08.012-.164.012-.251h.67l-.003-.105v-.805c0-.035 0-.068.003-.104m.26 1.843h.335a2.397 2.397 0 0 1-.006-.15v-1.487c0-.03 0-.072.006-.105a6.21 6.21 0 0 0-.335-.011c.003.032.006.08.006.116v1.487c0 .05-.003.105-.006.15m-.592-1.131h-.628v-.407h.628zm-7.252 19.635h-.889v-.483h.619c.092 0 .164 0 .233.007v-.355c-.069.007-.141.007-.233.007h-.619v-.41h.742c.099 0 .181 0 .25.006v-.362c-.069.007-.151.007-.25.007h-1.613c.054-.106.102-.216.143-.325a.155.155 0 0 1 .012-.022l.008-.012.004-.007-.393-.103c-.116.376-.414.841-.756 1.09.093.08.233.213.291.291.161-.136.332-.331.485-.564h.674v.41h-.899c.003.035.007.086.007.113v.712h-.246c-.137 0-.243 0-.332-.007v.372c.089-.007.195-.007.332-.007h1.138v.506c0 .076-.003.15-.007.212h.417c-.003-.061-.007-.136-.007-.212v-.505h.889c.134 0 .243 0 .328.006v-.372c-.085.007-.194.007-.328.007m-1.292 0h-.516v-.483h.516zm8.4-1.693v2.113l.003.14.003.123c0 .253-.222.404-.858.404-.044-.096-.147-.301-.212-.424.072.01.24.03.383.03.195 0 .267-.037.267-.12v-.522h-1.272c-.092.478-.28.83-.54 1.053a4.364 4.364 0 0 0-.342-.294c.322-.264.537-.705.537-1.494v-1.08a1.33 1.33 0 0 0-.007-.12h2.044c-.006.065-.006.126-.006.191m-.414.164h-1.207v.434h1.207zm-1.22 1.231h1.22v-.448h-1.207v.082c0 .127-.007.25-.013.366m8.946 1.152v-2.44c0-.08 0-.155.007-.233h-2.256c.003.065.007.153.007.232v2.441c0 .082-.004.167-.007.236h.42v-.24h1.416v.24h.42zm-1.829-2.304h1.416v.749h-1.416zm1.416 1.931h-1.416v-.817h1.416zm-75.348-8.39c.08 0 .14-.146.14-.565l.017.021c.086.106.21.26.282.325-.04.392-.163.657-.429.657-.206 0-.441-.153-.644-.524-.249.229-.548.411-.913.528a2.457 2.457 0 0 0-.259-.312 2.135 2.135 0 0 0 1.013-.562c-.12-.315-.22-.73-.282-1.258h-.93v.372h.833a1.41 1.41 0 0 0-.006.106c-.004.505-.017.694-.07.827-.063.172-.246.272-.578.272-.02-.073-.083-.272-.126-.402.053.02.116.03.176.03.11 0 .17-.033.196-.11.023-.062.036-.149.04-.401h-.469c-.026.62-.169 1.142-.398 1.408-.058-.067-.139-.154-.208-.228l-.001-.002-.001-.001-.079-.085c.213-.242.322-.664.322-1.321v-.704c0-.027-.003-.08-.006-.113h1.268a7.918 7.918 0 0 1-.03-.422 1.72 1.72 0 0 0-.01-.12c.146.007.356.017.389.024 0 .01 0 .024-.002.04l-.002.063c.004.146.014.282.024.415h.634a3.09 3.09 0 0 0-.498-.299l.209-.233c.17.074.385.186.564.306a13.74 13.74 0 0 0-.192.226h.033c.113 0 .203 0 .276-.007v.365c-.073-.006-.163-.006-.276-.006h-.714c.047.365.113.67.19.92.149-.23.255-.479.328-.738l.349.196-.004.007a.097.097 0 0 0-.013.026c-.13.326-.292.631-.504.897.122.256.255.382.361.382m-4.273-1.063h1.003c.136 0 .242 0 .328-.006v.392c-.086-.007-.192-.007-.328-.007h-1.003v.9c0 .073 0 .152.007.219h-.416c.004-.067.007-.146.007-.22v-.9h-.95c-.136 0-.239 0-.328.008v-.392c.09.006.192.006.328.006h.95v-.97h-.8c-.123 0-.22 0-.296.007v-.382c.077.007.173.007.296.007h2.055c.12 0 .213 0 .296-.007v.382c-.083-.006-.176-.006-.296-.006h-.853zm.29-.183-.034-.02c.146-.188.342-.54.385-.693l.362.166c-.01.017-.03.04-.037.05a4.077 4.077 0 0 1-.408.644c-.062-.032-.18-.098-.268-.147m-.958-.01-.328.157a5.791 5.791 0 0 0-.362-.7l.342-.137c.11.173.265.475.348.68m29.397 7.185h-2.075v-2.068h2.056c.112 0 .205 0 .282.006v-.371c-.077.006-.17.006-.282.006h-2.458c.004.067.007.153.007.233v2.474c0 .08-.003.165-.007.229h.402v-.153h2.075c.117 0 .206 0 .286.006v-.368c-.08.006-.169.006-.286.006m-1.713-.102c.296-.16.604-.402.89-.698.236.17.462.342.657.512.083-.117.162-.225.232-.32l.011-.016a14.674 14.674 0 0 0-.644-.461c.172-.21.328-.439.461-.681.004-.013.017-.027.023-.033l-.328-.213c-.11.25-.273.498-.462.72a15.034 15.034 0 0 0-.73-.444l-.136.187h-.001c-.047.065-.083.113-.083.115.21.116.449.262.688.422a3.23 3.23 0 0 1-.837.604l.061.071zm4.672-.024c.173-.106.359-.232.468-.312l.018-.01a.826.826 0 0 0 .018-.01l.014-.01-.285-.255c-.087.106-.336.282-.535.398a1.65 1.65 0 0 1-.385-.408h1.109c.126 0 .226 0 .305.006v-.332c-.079.007-.179.007-.305.007h-1.813v-.173h1.404c.077 0 .143 0 .203.007v-.286c-.06.007-.126.007-.203.007h-1.404v-.16h1.404c.077 0 .143 0 .203.007v-.285c-.06.006-.126.006-.203.006h-1.404v-.172h1.521c.083 0 .156 0 .219.006v-.325c-.067.003-.136.003-.219.003h-1.906c.003.043.006.096.006.15v1.215h-.199c-.133 0-.226 0-.312-.007v.332c.086-.006.179-.006.312-.006h.189v.803l-.302.04a5.617 5.617 0 0 1-.219.017l.086.358.014-.003h.001c.046-.01.112-.024.148-.03.332-.05 1.083-.176 1.358-.246 0-.036.007-.219.017-.345-.143.04-.425.093-.711.143v-.737h.316c.328.587.87 1.039 1.667 1.228.029-.076.126-.232.192-.332a2.66 2.66 0 0 1-.787-.289M86.12 54.743h.863c.13 0 .236 0 .319-.007v.362c-.083-.007-.19-.007-.32-.007h-.862v.492c0 .073.003.146.006.206h-.405a3.79 3.79 0 0 0 .007-.206v-.492h-1.106c-.133 0-.236 0-.322.007v-.362c.086.007.19.007.322.007h.24v-.691c0-.026-.004-.076-.008-.11h.874v-.398h-.654c-.15.226-.316.415-.472.548a2.263 2.263 0 0 0-.282-.282c.332-.243.62-.694.734-1.06l.382.1a.248.248 0 0 0-.024.04c-.04.106-.086.212-.14.315h1.568c.096 0 .176 0 .242-.006v.352c-.066-.007-.146-.007-.242-.007h-.72v.398h.6c.09 0 .16 0 .226-.006v.345c-.066-.006-.136-.006-.225-.006h-.601zm-.894 0h.502v-.468h-.502zm9.724.408V53.1c0-.063 0-.123.006-.186H92.97c.004.033.007.09.007.116v1.05c0 .767-.21 1.195-.521 1.45.096.077.255.207.332.286.252-.216.435-.558.524-1.023h1.236v.509c0 .08-.07.116-.26.116-.139 0-.301-.02-.371-.03.063.12.162.319.206.412.617 0 .833-.146.833-.392l-.003-.12a5.613 5.613 0 0 1-.004-.136m-1.575-1.893h1.173v.422h-1.172zm1.173 1.196h-1.186a5.96 5.96 0 0 0 .014-.355v-.08h1.172zm11.041.873h.943c.136 0 .239 0 .322-.006v.381c-.083-.006-.186-.006-.322-.006h-2.337c-.137 0-.24 0-.326.006v-.381c.086.006.189.006.326.006h.976v-.637h-.591c-.1 0-.183 0-.253.006v-.365c.07.007.153.007.253.007h.591v-.558h-.621a2.568 2.568 0 0 1-.399.624 2.753 2.753 0 0 0-.295-.299c.259-.249.514-.763.588-1.228l.385.093a.146.146 0 0 0-.017.043c-.03.14-.07.279-.116.412h.475v-.465c0-.047-.004-.133-.007-.173.093 0 .345.01.432.017-.004.05-.007.11-.007.159v.462h.754c.1 0 .179 0 .252-.007v.368c-.069-.006-.152-.006-.252-.006h-.754v.558h.678c.099 0 .179 0 .249-.007v.365c-.07-.006-.15-.006-.249-.006h-.678zm-2.474-2.125v2.37l.007.23h-.408v-.232h-1.375v.232h-.409a3.97 3.97 0 0 0 .007-.23v-2.37a3.85 3.85 0 0 0-.007-.226h2.192c-.007.077-.007.15-.007.226m-.401.133h-1.375v.727h1.375zm-1.375 1.876h1.375v-.794h-1.375zm24.652-.468h-.863v-.468h.601c.089 0 .159 0 .225.006v-.345c-.066.006-.136.006-.225.006h-.601v-.398h.72c.097 0 .176 0 .243.007v-.352c-.067.006-.146.006-.243.006h-1.567c.053-.103.1-.209.139-.315a.286.286 0 0 1 .024-.04l-.382-.1c-.113.366-.402.817-.734 1.06.09.076.226.206.282.282.156-.133.322-.322.472-.548h.654v.398h-.873c.003.034.006.084.006.11v.69h-.239c-.133 0-.236 0-.322-.006v.362c.086-.007.189-.007.322-.007h1.106v.492c0 .073-.003.146-.007.206h.405a4.168 4.168 0 0 1-.006-.206v-.492h.863c.13 0 .236 0 .319.007v-.362c-.083.007-.189.007-.319.007m-1.255 0h-.502v-.468h.502zm27.425-1.597h-1.221c.033-.1.063-.2.089-.303l.009-.016.001-.001.01-.02-.388-.079c-.03.143-.07.286-.117.419h-.68c-.127 0-.229 0-.309-.007v.355c.08-.006.182-.006.309-.006h.534a2.55 2.55 0 0 1-.976 1.056c.073.08.186.215.232.305.21-.123.406-.286.582-.481v1.275c0 .056-.004.12-.007.169h.385c-.003-.053-.007-.113-.007-.17v-.484h1.08v.18c0 .072-.057.105-.223.105-.13 0-.267-.017-.303-.022h-.009c.056.112.146.295.186.381.531 0 .727-.14.727-.365l-.003-.12v-.003l-.003-.092v-1.29c0-.046 0-.09.003-.132h-1.421c.059-.1.113-.206.159-.312h1.361c.127 0 .226 0 .309.006v-.355c-.083.007-.182.007-.309.007m-.474.962v.243h-1.08v-.242zm0 .77h-1.08v-.248h1.08zm-6.373.692.203-.369a3.508 3.508 0 0 0-.863-.389c0-.142-.004-.304-.007-.469v-.012c.299-.013.588-.04.77-.07v-.378a5.982 5.982 0 0 1-.773.083l-.002-.104-.002-.085c0-.065-.001-.128-.003-.19a7.58 7.58 0 0 0 .767-.07v-.365c-.159.03-.461.057-.77.063 0-.09.006-.242.02-.345l-.455-.027c.01.103.016.213.016.359v.013c-.269-.006-.647-.026-.873-.086l.003.382c.219.053.605.07.874.076l.001.188.002.207h-.076c-.306 0-.651-.036-.791-.096l-.01.375c.123.047.412.087.738.087h.146a215.526 215.526 0 0 0 .006.398 2.304 2.304 0 0 0-.305-.02c-.532 0-.791.213-.791.505 0 .335.319.561.787.561.465 0 .698-.249.728-.591.259.103.484.249.66.369m-1.417-.15c-.243 0-.356-.073-.356-.2 0-.102.113-.172.379-.172.109 0 .216.017.319.04-.004.233-.143.332-.342.332m-1.774.153v-2.371c0-.076 0-.15.007-.226h-2.192c.004.063.007.15.007.226v2.37c0 .08-.003.164-.007.23h.409v-.232h1.375v.232h.408zm-1.776-2.238h1.375v.727h-1.375zm1.375 1.876h-1.375v-.794h1.375zm7.029-1.763c-.773.232-1.096.764-1.096 1.135 0 .475.323.625.957.665a7.484 7.484 0 0 0-.15.415c-.78-.05-1.232-.415-1.232-1.063 0-.322.23-.767.671-1.083-.581.054-1.212.12-1.537.163l-.023-.435.993-.07h.003l.008-.001h.007l.003-.001a567.82 567.82 0 0 1 1.559-.11l.027.371c-.057.004-.12.007-.19.014m.007.375.196-.13c.119.08.289.263.362.366l-.203.14a1.55 1.55 0 0 0-.355-.376m-.359.206.206-.133c.113.086.286.276.355.375l-.212.146a1.781 1.781 0 0 0-.349-.388m7.385-.541-.003.112c-.003 1.279-.033 1.608-.116 1.827-.083.239-.309.368-.734.368a8.817 8.817 0 0 0-.13-.425c.063.02.136.03.213.03.176 0 .265-.06.315-.199.043-.136.07-.375.077-1.371h-.302c-.093 1.012-.356 1.593-.864 1.995a3.326 3.326 0 0 0-.319-.259c.508-.358.754-.88.84-1.736h-.222c-.063 0-.116 0-.169.003v-.302c-.06-.004-.123-.004-.196-.004h-1.156c-.073 0-.139 0-.196.004v-.346c.057.004.123.004.196.004h.445v-.332l-.002-.045-.004-.042c.083 0 .308.007.388.017a.604.604 0 0 0-.007.073v.329h.336c.073 0 .136 0 .196-.004v.3c.053.003.106.003.169.003h.249c.007-.16.01-.326.01-.505 0-.06-.003-.156-.01-.206l.359.013-.001.008a.78.78 0 0 0-.006.085c0 .216-.003.415-.013.605zm-1.291.584c-.064.08-.163.212-.206.286a2.218 2.218 0 0 1-.479-.648l.273-.163c.116.22.249.392.412.525m-.997-.355-.023.036a2.072 2.072 0 0 1-.481.734 3.755 3.755 0 0 0-.253-.272c.18-.14.379-.402.455-.658zm.645 1.334c-.044.077-.087.154-.113.197-.09-.07-.19-.14-.293-.206a2.17 2.17 0 0 1-.74.77c-.05-.06-.186-.196-.269-.279.282-.163.521-.398.701-.687-.12-.07-.233-.13-.332-.18l.074-.137.098-.181c.09.046.203.106.326.176.066-.157.116-.322.156-.498.04.017.092.041.148.067h.001l.186.085c-.007.01-.017.024-.02.034a3.42 3.42 0 0 1-.163.494c.117.07.226.143.319.206l-.032.057-.046.081zm-20.183.1V53.1c0-.063 0-.123.006-.186h-1.986c.004.033.007.09.007.116v1.05c0 .767-.209 1.195-.521 1.45.096.077.255.207.332.286.252-.216.435-.558.525-1.023h1.235v.509c0 .08-.07.116-.259.116-.14 0-.302-.02-.372-.03.063.12.163.319.206.412.617 0 .833-.146.833-.392l-.003-.12a4.37 4.37 0 0 1-.003-.136m-1.574-1.893h1.172v.422h-1.172zm1.172 1.196h-1.186c.007-.113.014-.233.014-.355v-.08h1.172zm15.603-17.966c.05 0 .102-.006.152-.014l.171.084a.855.855 0 0 0-.014.105c-.008.215-.032.77-.117.972-.044.101-.12.153-.257.153a4.2 4.2 0 0 1-.331-.016l-.03-.266c.098.018.201.028.279.028.064 0 .092-.022.113-.07.058-.125.084-.523.084-.737h-.448c-.074.524-.263.836-.62 1.089l-.231-.187c.084-.046.181-.113.261-.195.185-.183.285-.405.329-.707h-.263c-.068 0-.177 0-.263.008v-.26c.084.007.187.013.263.013h.285a4.77 4.77 0 0 0 .004-.172c0-.044-.006-.136-.014-.183h.293c-.006.045-.01.129-.012.176a4.92 4.92 0 0 1-.008.18zm1.082.62c-.113 0-.247.004-.321.01v-.312c.072.006.218.012.321.012h1.07c.082 0 .162-.006.215-.01l.018-.002v.312l-.053-.003c-.052-.003-.121-.007-.18-.007zm3.295-.675a2.49 2.49 0 0 0-.187-.294l-.165.077c.074.1.121.173.185.298zm-.266.115a3.539 3.539 0 0 0-.182-.3l-.167.072c.074.1.117.18.175.306zm-.704-.125c0-.084.01-.171.018-.24h-.311c.014.07.02.168.02.24v1.142c0 .078-.008.2-.02.277h.313a3.14 3.14 0 0 1-.02-.277v-.562c.215.072.514.187.721.296l.112-.276a6.932 6.932 0 0 0-.833-.31zm-95.414 66.836h-.426V100.7l-.69.203v-.394l.782-.246h.334zm1.72 0h-.426V100.7l-.69.203v-.394l.782-.246h.334zm1.294 0h.426v-2.996h-.334l-.782.246v.394l.69-.203zm2.146 0h-.426V100.7l-.69.203v-.394l.782-.246h.334zm-34.549-61.96v1.903c0 .063.003.132.006.186h-.362c.003-.054.006-.123.006-.186 0-.302.018-.9.042-1.37-.083.147-.17.272-.248.356a3.252 3.252 0 0 0-.153-.362c.219-.233.53-.831.602-1.184l.21.068.113.036a.09.09 0 0 0-.008.015l-.007.015c-.06.183-.129.36-.2.524m1.257 1.652h.592c.09 0 .165 0 .224-.006v.35c-.06-.006-.134-.006-.224-.006h-1.493c-.086 0-.164 0-.227.006v-.35c.063.006.14.006.227.006h.539v-.569h-.428c-.08 0-.15 0-.206.007v-.342c.056.007.125.007.206.007h.428v-.494h-.485c-.084 0-.152 0-.212.006v-.341c.06.006.128.006.212.006h.793a3.48 3.48 0 0 0-.553-.338l.215-.24c.167.066.443.222.643.378l-.17.2h.448c.084 0 .153 0 .213-.006v.34c-.06-.005-.129-.005-.213-.005h-.53v.493h.482c.081 0 .147 0 .207-.005v.34c-.06-.005-.126-.005-.207-.005h-.481zm4.174-1.391h.8c.059 0 .107 0 .155-.003v.326c-.048-.003-.096-.003-.156-.003h-.159v1.343c0 .051.003.108.006.153h-.353c.003-.042.006-.102.006-.153V41.88h-.299c-.018.664-.266 1.22-.664 1.484-.056-.057-.182-.18-.263-.255.35-.224.601-.679.601-1.313v-.754c0-.017 0-.14-.003-.164.045.012.138.045.219.075.31-.075.634-.2.822-.3.066.096.168.24.207.288a5.595 5.595 0 0 1-.918.293zm-.634-.485h-.957c-.06 0-.114 0-.168.003v-.302c.051.003.108.003.168.003h.957c.066 0 .12 0 .168-.003v.302c-.048-.003-.102-.003-.168-.003m.069 1.203h-.757c-.015.49-.12.9-.302 1.11a2.491 2.491 0 0 0-.248-.264c.134-.182.23-.484.23-.954v-.724c0-.024-.003-.069-.006-.099h1.083c-.003.036-.003.066-.003.102v.727zm-.757-.625v.32h.437v-.32zM149.678 30.57l-.047-.148c-.034-.11-.069-.217-.101-.326a6.077 6.077 0 0 1-.172-.777 2.675 2.675 0 0 1-.035-.438c.002-.139.016-.276.065-.408a.416.416 0 0 1 .18-.225.33.33 0 0 1 .344.007.527.527 0 0 1 .206.225c.054.104.082.216.107.33.043.198.07.4.078.604.008.189.013.378.013.567.001.096-.003.193-.006.29a5.768 5.768 0 0 0-.005.13v.023c.242-.026.485-.027.727-.003l.003-.034.008-.076.015-.164c.013-.136.026-.273.036-.41.009-.111.014-.224.019-.336l.006-.117a1.1 1.1 0 0 0-.002-.057c-.002-.029-.007-.033-.036-.03a3.217 3.217 0 0 0-.124.018.703.703 0 0 1-.216.01.234.234 0 0 1-.195-.157.393.393 0 0 1 .033-.342.897.897 0 0 1 .251-.281 1.11 1.11 0 0 1 .42-.213.549.549 0 0 1 .344.016.498.498 0 0 1 .27.27c.054.117.074.24.078.368.007.205-.016.408-.048.61a8.978 8.978 0 0 1-.245 1.061l.042.018.087.037c.206.093.389.219.535.395.152.183.238.394.262.631.023.234-.009.459-.113.671a1.224 1.224 0 0 1-.395.46 1.863 1.863 0 0 1-.63.285 3.364 3.364 0 0 1-1.189.062 2.178 2.178 0 0 1-.839-.271 1.281 1.281 0 0 1-.491-.498 1.173 1.173 0 0 1-.139-.544 1.21 1.21 0 0 1 .113-.552c.097-.205.245-.365.429-.493a1.687 1.687 0 0 1 .354-.185zm1.033-.029a2.96 2.96 0 0 0-.693.075c-.22.052-.43.13-.618.259-.16.108-.291.243-.377.418a1.09 1.09 0 0 0-.105.556c.018.293.137.536.358.728.158.139.343.23.541.297.243.082.494.12.749.13.268.01.533-.013.794-.077.194-.047.38-.117.551-.222.179-.111.326-.253.422-.443a1.09 1.09 0 0 0 .107-.595 1.003 1.003 0 0 0-.329-.674 1.528 1.528 0 0 0-.556-.316 2.686 2.686 0 0 0-.844-.136m.806-.03.002-.005.004-.013a7.74 7.74 0 0 0 .265-1.242c.014-.123.023-.247.017-.37a.814.814 0 0 0-.061-.293.373.373 0 0 0-.214-.217.423.423 0 0 0-.255-.003 1.032 1.032 0 0 0-.417.233.672.672 0 0 0-.158.192c-.039.073-.056.148-.024.229.015.04.044.065.085.067a1.116 1.116 0 0 0 .224-.015c.04-.006.08-.01.12-.012.076-.003.127.04.141.109a.187.187 0 0 1 .005.04v.097c0 .08 0 .16-.005.238a2200.316 2200.316 0 0 0-.071.82l-.006.068zm-1.352-.073.001-.005.001-.015a5.38 5.38 0 0 1 .005-.127c.003-.092.007-.185.007-.277a15.207 15.207 0 0 0-.012-.565 3.388 3.388 0 0 0-.07-.576 1.416 1.416 0 0 0-.081-.286.448.448 0 0 0-.163-.207c-.07-.044-.143-.054-.217-.011a.258.258 0 0 0-.108.128.772.772 0 0 0-.058.236c-.02.174-.006.347.017.519.027.198.067.394.117.587.036.136.077.271.119.406l.049.163.025.078.012.035zm1.458 1.44h-.192v-.666h-.173v-.175h.365zm-1.871-.666v.666h.193v-.841h-.364v.175zm.924 1.617a.556.556 0 0 1-.382-.145.381.381 0 0 1-.129-.275c-.002-.04.026-.073.065-.075a.068.068 0 0 1 .073.065.258.258 0 0 0 .111.208.41.41 0 0 0 .218.082c.11.01.214-.011.306-.077a.264.264 0 0 0 .12-.213.066.066 0 0 1 .07-.065c.038 0 .067.03.066.071a.385.385 0 0 1-.151.3.568.568 0 0 1-.367.124m.03-.865-.032-.003a.809.809 0 0 1-.024.003c-.021.003-.044.005-.067.01a.084.084 0 0 0-.065.054.123.123 0 0 0 .024.132c.069.073.214.07.28-.006.031-.035.035-.078.022-.121-.012-.04-.046-.057-.084-.064-.017-.003-.035-.004-.054-.005",clipRule:"evenodd"}),r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"m149.809 30.521.356-.083.001-.004.001-.015.005-.123c.003-.094.007-.188.007-.282a15.198 15.198 0 0 0-.012-.565 3.387 3.387 0 0 0-.07-.576 1.356 1.356 0 0 0-.082-.286.439.439 0 0 0-.162-.207c-.07-.044-.143-.053-.217-.011a.259.259 0 0 0-.108.128.772.772 0 0 0-.058.236c-.02.174-.006.347.017.519.027.198.067.394.117.588.036.136.078.271.119.406l.049.162.025.079zm1.708-.01-.348-.076.002-.02.004-.048.021-.235c.017-.195.035-.39.05-.585.005-.08.005-.16.005-.239v-.096a.186.186 0 0 0-.005-.04c-.014-.07-.065-.112-.141-.11-.04.002-.08.007-.12.012a1.93 1.93 0 0 1-.224.015c-.041-.002-.07-.027-.085-.067-.032-.08-.015-.156.023-.229a.693.693 0 0 1 .159-.192c.123-.107.258-.191.417-.233a.424.424 0 0 1 .255.004c.105.038.17.117.214.216a.813.813 0 0 1 .061.293c.006.124-.003.247-.017.37a7.744 7.744 0 0 1-.265 1.242l-.006.017zm-.806.03c.268.002.561.04.844.136.205.07.395.168.556.316.196.182.306.407.328.674.018.207-.011.407-.106.595-.096.19-.243.332-.422.443a1.887 1.887 0 0 1-.551.222 2.887 2.887 0 0 1-.794.077 2.656 2.656 0 0 1-.749-.13 1.554 1.554 0 0 1-.541-.297 1.011 1.011 0 0 1-.358-.728 1.08 1.08 0 0 1 .105-.556c.086-.175.217-.31.376-.418.189-.128.399-.207.619-.26a2.97 2.97 0 0 1 .693-.074m.912 1.337v-.841h-.365v.175h.173v.666zm-1.871 0h.193v-.841h-.364v.175h.171zm.924.951a.57.57 0 0 0 .367-.125.386.386 0 0 0 .152-.299c0-.04-.028-.07-.067-.071a.066.066 0 0 0-.07.065.262.262 0 0 1-.12.213.441.441 0 0 1-.306.076.408.408 0 0 1-.217-.082.257.257 0 0 1-.112-.207.068.068 0 0 0-.072-.065c-.039.002-.067.034-.066.075.004.11.049.2.129.275.108.1.24.142.382.145m-.002-.868a.56.56 0 0 1-.024.003c-.021.003-.044.005-.067.01a.085.085 0 0 0-.065.054c-.017.048-.011.093.025.132.068.073.213.07.279-.005.031-.036.035-.079.022-.122-.012-.04-.046-.057-.084-.064l-.054-.005z",clipRule:"evenodd"}))),Dm||(Dm=r.createElement("path",{fill:"#FFE3D5",d:"M148.54 130.555a8.925 8.925 0 0 1 3.74 5.758 8.931 8.931 0 0 1-1.459 6.709 8.982 8.982 0 0 1-2.518 2.45 8.983 8.983 0 0 1-6.779 1.235 8.965 8.965 0 0 1-3.221-1.404L98.47 117.734a8.971 8.971 0 0 1-2.28-12.518 9.074 9.074 0 0 1 12.517-2.28z"})),zm||(zm=r.createElement("path",{fill:"#FFE3D5",d:"M148.54 110.691a8.922 8.922 0 0 1 3.74 5.758 8.926 8.926 0 0 1-1.459 6.708 8.966 8.966 0 0 1-9.297 3.685 8.965 8.965 0 0 1-3.221-1.404L98.47 97.869a8.97 8.97 0 0 1-2.28-12.517 9.071 9.071 0 0 1 12.517-2.281zM148.54 150.423a8.912 8.912 0 0 1 3.682 9.258 8.921 8.921 0 0 1-1.401 3.209 8.979 8.979 0 0 1-5.784 3.743 8.954 8.954 0 0 1-6.734-1.463L98.47 137.601a8.954 8.954 0 0 1-3.743-5.784 8.973 8.973 0 0 1 1.463-6.733 9.069 9.069 0 0 1 12.517-2.281z"})),Tm||(Tm=r.createElement("path",{fill:"#FFE3D5",d:"M111.495 137.246a41.35 41.35 0 0 0 44.647 37.705c22.704-1.926 8.514-41.607 6.588-64.362-1.925-22.754 9.173-19.916-13.531-17.99a41.3 41.3 0 0 0-37.704 44.647"})),Fm||(Fm=r.createElement("path",{fill:"#FFE3D5",d:"M130.78 109.369 93.987 53.622a9.071 9.071 0 0 1 2.636-12.467 9.022 9.022 0 0 1 12.568 2.332l1.52 2.28 38.617 58.888"})),Mm||(Mm=r.createElement("rect",{width:73,height:133,x:107.675,y:5.264,fill:"#727272",rx:5})),Lm||(Lm=r.createElement("rect",{width:63,height:115,x:112.675,y:10.264,fill:"#999",rx:3})),Rm||(Rm=r.createElement("rect",{width:20.746,height:3.458,x:133.675,y:12.264,fill:"#727272",rx:1.729})),Vm||(Vm=r.createElement("path",{fill:"#fff",d:"M118.962 15.424c.455 0 .725-.356.725-.957 0-.227-.044-.418-.127-.565a.633.633 0 0 0-.588-.353c-.389 0-.663.261-.663.628 0 .344.247.594.588.594a.494.494 0 0 0 .463-.267H119.381c0 .408-.155.652-.416.652-.154 0-.273-.084-.313-.219h-.319c.054.293.302.487.629.487m.011-.907a.338.338 0 0 1-.351-.35c0-.2.153-.352.353-.352a.35.35 0 0 1 .353.357c0 .2-.15.345-.355.345M120.209 15.406a.19.19 0 0 0 .198-.195.189.189 0 0 0-.198-.196.19.19 0 0 0-.198.196.19.19 0 0 0 .198.195m0-.928a.189.189 0 0 0 .198-.195.189.189 0 0 0-.198-.195.19.19 0 0 0-.198.195.19.19 0 0 0 .198.195M121.566 15.38h.306v-.333h.241v-.27h-.241v-1.183h-.451c-.315.475-.567.873-.728 1.168v.285h.873zm-.577-.614c.208-.366.394-.66.565-.912h.017v.93h-.582zM122.794 15.38h.32v-1.786h-.318l-.467.327v.307l.444-.312h.021z"})),Bm||(Bm=r.createElement("path",{fill:"#D1D1D6",fillRule:"evenodd",d:"M163.123 13.916h.169c.094 0 .169.075.169.169v1.014c0 .094-.075.17-.169.17h-.169a.17.17 0 0 1-.169-.17v-1.014a.17.17 0 0 1 .169-.17M162.363 14.254h.169a.17.17 0 0 1 .169.169v.676a.17.17 0 0 1-.169.17h-.169a.169.169 0 0 1-.169-.17v-.676c0-.093.075-.169.169-.169M161.602 14.508h.169a.17.17 0 0 1 .169.169v.422a.17.17 0 0 1-.169.17h-.169a.17.17 0 0 1-.169-.17v-.422a.17.17 0 0 1 .169-.17",clipRule:"evenodd"})),Um||(Um=r.createElement("path",{fill:"#EBEBF5",fillOpacity:.3,fillRule:"evenodd",d:"M163.884 13.578h.169a.17.17 0 0 1 .169.169v1.352a.17.17 0 0 1-.169.17h-.169a.17.17 0 0 1-.169-.17v-1.352a.17.17 0 0 1 .169-.17",clipRule:"evenodd"})),Hm||(Hm=r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M163.123 13.916h.169c.094 0 .169.075.169.169v1.014c0 .094-.075.17-.169.17h-.169a.17.17 0 0 1-.169-.17v-1.014a.17.17 0 0 1 .169-.17M162.363 14.254h.169a.17.17 0 0 1 .169.169v.676a.17.17 0 0 1-.169.17h-.169a.169.169 0 0 1-.169-.17v-.676c0-.093.075-.169.169-.169M161.602 14.508h.169a.17.17 0 0 1 .169.169v.422a.17.17 0 0 1-.169.17h-.169a.17.17 0 0 1-.169-.17v-.422a.17.17 0 0 1 .169-.17",clipRule:"evenodd"})),Km||(Km=r.createElement("path",{fill:"#fff",d:"M166.527 14.75a.6.6 0 0 1 .305.083l.038.022a.05.05 0 0 1 .01.08l-.32.319a.05.05 0 0 1-.071 0l-.318-.318a.05.05 0 0 1 .009-.078l.037-.022a.606.606 0 0 1 .31-.085M166.527 14.164c.269 0 .527.09.737.255l.03.023a.05.05 0 0 1 .004.075l-.191.19a.05.05 0 0 1-.066.005l-.023-.017a.82.82 0 0 0-.985.002l-.024.018a.05.05 0 0 1-.066-.005l-.191-.19a.05.05 0 0 1 .005-.076l.029-.023a1.19 1.19 0 0 1 .741-.257"})),qm||(qm=r.createElement("path",{fill:"#fff",d:"M166.527 13.578c.426 0 .834.15 1.157.426l.028.024a.05.05 0 0 1 .003.073l-.191.19a.05.05 0 0 1-.068.003l-.023-.02a1.409 1.409 0 0 0-.906-.328c-.335 0-.655.117-.909.33l-.024.02a.05.05 0 0 1-.068-.002l-.19-.19a.05.05 0 0 1 .002-.074l.028-.023a1.775 1.775 0 0 1 1.161-.43"})),Gm||(Gm=r.createElement("path",{fill:"#EBEBF5",fillOpacity:.3,d:"M172.59 14.085a.17.17 0 0 1 .169.169v.338a.17.17 0 0 1-.169.17z"})),Wm||(Wm=r.createElement("path",{fill:"#EBEBF5",fillOpacity:.3,fillRule:"evenodd",d:"M169.04 13.409h2.874c.28 0 .507.227.507.507v1.014c0 .28-.227.507-.507.507h-2.874a.507.507 0 0 1-.507-.507v-1.014c0-.28.227-.507.507-.507m0 .169a.338.338 0 0 0-.338.338v1.014c0 .187.151.338.338.338h2.874a.338.338 0 0 0 .338-.338v-1.014a.338.338 0 0 0-.338-.338z",clipRule:"evenodd"})),$m||($m=r.createElement("rect",{width:3.212,height:1.352,x:168.871,y:13.733,fill:"#fff",rx:.169})),r.createElement("g",{clipPath:"url(#step1-detail_svg__e)",opacity:.7,style:{mixBlendMode:"multiply"}},Ym||(Ym=r.createElement("rect",{width:46.103,height:28.739,x:120.675,y:52.264,fill:"#F0CFE0",rx:1.692})),Jm||(Jm=r.createElement("path",{fill:"#FFF3F9",d:"M156.062 64.943h8.459v1.972h-8.459z"})),Qm||(Qm=r.createElement("path",{fill:"#222",d:"M159.287 66.087h-.293v-.159h.204c.03 0 .054 0 .077.002v-.117c-.023.002-.047.002-.077.002h-.204v-.135h.245c.032 0 .059 0 .082.002v-.12c-.023.003-.05.003-.082.003h-.533a1.132 1.132 0 0 0 .055-.12l-.129-.034a.772.772 0 0 1-.25.36c.031.025.077.07.096.095a.915.915 0 0 0 .161-.186h.222v.135h-.297a.528.528 0 0 1 .002.038v.234h-.081c-.045 0-.08 0-.109-.002v.123c.029-.002.064-.002.109-.002h.376v.167c0 .024-.001.05-.003.07h.138a1.442 1.442 0 0 1-.002-.07v-.167h.293c.044 0 .08 0 .108.002v-.123c-.028.002-.064.002-.108.002m-.426 0h-.171v-.159h.171zM161.632 66.226v-.697c0-.021 0-.042.002-.063h-.674a.59.59 0 0 1 .002.04v.356c0 .26-.071.406-.177.493.033.025.087.07.113.097a.597.597 0 0 0 .178-.348h.419v.173c0 .027-.023.04-.087.04a1 1 0 0 1-.127-.01c.022.04.055.107.07.139.21 0 .283-.05.283-.133zm-.535-.643h.398v.143h-.398zm.398.406h-.402c.002-.038.004-.079.004-.12v-.028h.398zM164.045 66.37v-.806c0-.026 0-.05.002-.077h-.745c.002.022.003.051.003.077v.805a.927.927 0 0 1-.003.078h.139v-.079h.467v.08h.139zm-.604-.76h.467v.246h-.467zm.467.636h-.467v-.27h.467zM137.97 63.128h-.33v-.32h.281c.04 0 .07 0 .098.002v-.126a1.287 1.287 0 0 1-.098.002h-.678c-.041 0-.072 0-.098-.002v.126c.026-.002.057-.002.098-.002h.264v.32h-.313c-.045 0-.079 0-.109-.002v.129c.03-.002.064-.002.109-.002h.313v.297l-.002.072h.137c-.002-.022-.002-.048-.002-.072v-.297h.33c.045 0 .08 0 .109.002v-.13c-.029.003-.064.003-.109.003m-.246-.067.1.055c.052-.067.106-.155.134-.213a.11.11 0 0 0 .012-.016l-.119-.055a.954.954 0 0 1-.127.229m-.413.055.108-.052a1.637 1.637 0 0 0-.115-.224l-.113.044c.037.059.092.165.12.232M139.096 63.292c0 .138-.02.186-.047.186-.035 0-.078-.041-.119-.126.07-.087.124-.188.167-.295l.005-.012-.115-.064a.885.885 0 0 1-.108.243 1.717 1.717 0 0 1-.063-.303h.236c.037 0 .067 0 .091.002v-.12c-.024.002-.054.002-.091.002h-.011a9.34 9.34 0 0 1 .063-.075 1.242 1.242 0 0 0-.186-.1l-.069.076c.045.02.117.063.164.098h-.209a5 5 0 0 1-.008-.137l.002-.033a2.34 2.34 0 0 0-.129-.008.454.454 0 0 1 .004.04c.002.048.005.095.009.139h-.418l.002.037v.232c0 .217-.036.356-.106.436.024.026.068.072.095.104.076-.088.123-.26.132-.464h.154a.401.401 0 0 1-.013.132c-.009.025-.028.036-.065.036a.174.174 0 0 1-.058-.01c.015.043.035.109.042.133.11 0 .17-.033.191-.09.017-.044.021-.106.023-.273l.002-.035h-.275v-.122h.307c.02.174.053.31.093.415a.708.708 0 0 1-.334.185c.028.03.07.078.085.103a.796.796 0 0 0 .301-.174c.067.122.145.173.213.173.087 0 .128-.088.141-.217a1.337 1.337 0 0 1-.098-.114M147.118 65.434h-.685v-.682h.678c.038 0 .068 0 .094.002v-.123c-.026.003-.056.003-.094.003h-.81l.002.076v.817l-.002.075h.132v-.05h.685c.038 0 .068 0 .094.002v-.122c-.026.002-.056.002-.094.002m-.565-.034c.097-.052.199-.132.293-.23.078.056.153.113.217.17l.08-.112a4.936 4.936 0 0 0-.212-.152 1.451 1.451 0 0 0 .16-.235l-.109-.07c-.036.082-.09.164-.152.237a4.829 4.829 0 0 0-.241-.146c-.031.042-.072.098-.072.1.069.037.147.086.226.138a1.049 1.049 0 0 1-.276.2zM148.094 65.393c.057-.035.118-.077.155-.103l.016-.01-.094-.084a.829.829 0 0 1-.177.131.561.561 0 0 1-.127-.135h.366c.042 0 .075 0 .101.003v-.11c-.026.002-.059.002-.101.002h-.598v-.057h.464c.025 0 .047 0 .066.002v-.094c-.019.002-.041.002-.066.002h-.464v-.052h.464c.025 0 .047 0 .066.002v-.094c-.019.002-.041.002-.066.002h-.464v-.057h.502c.027 0 .051 0 .072.002v-.107h-.701a.715.715 0 0 1 .002.05v.401h-.065c-.044 0-.075 0-.103-.002v.11c.028-.003.059-.003.103-.003h.062v.265l-.1.014a1.84 1.84 0 0 1-.072.005l.028.118.054-.01c.11-.017.357-.059.448-.082 0-.012.002-.072.006-.114-.047.014-.141.031-.235.047v-.243h.104a.824.824 0 0 0 .55.406.825.825 0 0 1 .064-.11.882.882 0 0 1-.26-.095M141.737 63.276h-.285v-.155h.199c.029 0 .052 0 .074.002v-.114c-.022.002-.045.002-.074.002h-.199v-.131h.238c.032 0 .058 0 .08.002v-.116c-.022.002-.048.002-.08.002h-.517a.868.868 0 0 0 .046-.104l.008-.013-.126-.033a.754.754 0 0 1-.242.35.816.816 0 0 1 .093.093.882.882 0 0 0 .155-.181h.216v.131h-.288l.002.037v.227h-.079c-.044 0-.077 0-.106-.002v.12c.029-.002.062-.002.106-.002h.365v.162l-.002.068h.134a.701.701 0 0 1-.003-.068v-.162h.285c.043 0 .078 0 .105.002v-.12a1.432 1.432 0 0 1-.105.002m-.414 0h-.165v-.155h.165zM144.365 63.41v-.677c0-.02 0-.04.003-.061h-.655l.002.038v.346c0 .254-.069.395-.172.48.031.024.084.067.109.093a.566.566 0 0 0 .173-.337h.408v.168c0 .026-.023.038-.086.038a.952.952 0 0 1-.122-.01l.068.136c.203 0 .275-.048.275-.13zm-.519-.624h.387v.139h-.387zm.387.394h-.391a2.17 2.17 0 0 0 .004-.117v-.026h.387zM147.059 63.55v-.783c0-.025 0-.05.003-.074h-.723l.002.074v.782l-.002.076h.134v-.077h.454v.077h.135zm-.586-.739h.454v.24h-.454zm.454.619h-.454v-.262h.454zM148.187 63.468h-.311v-.21h.223c.033 0 .059 0 .082.002v-.12c-.023.002-.049.002-.082.002h-.223v-.184h.248c.033 0 .061 0 .084.002v-.122c-.024.002-.051.002-.084.002h-.248v-.152a.92.92 0 0 1 .002-.052 3 3 0 0 0-.143-.006.513.513 0 0 1 .003.057v.154h-.157c.015-.044.028-.09.038-.136a.06.06 0 0 1 .006-.015l-.127-.03a.798.798 0 0 1-.194.405c.03.026.076.072.097.099a.856.856 0 0 0 .132-.206h.205v.184h-.195c-.033 0-.061 0-.084-.002v.12c.023-.002.051-.002.084-.002h.195v.21h-.322c-.045 0-.079 0-.108-.002v.126c.029-.002.063-.002.108-.002h.771c.045 0 .079 0 .106.002v-.126c-.027.002-.061.002-.106.002M154.607 63.276h-.285v-.155h.198c.03 0 .053 0 .075.002v-.114c-.022.002-.045.002-.075.002h-.198v-.131h.238c.032 0 .058 0 .08.002v-.116c-.022.002-.048.002-.08.002h-.517a1.063 1.063 0 0 0 .053-.117l-.126-.033a.74.74 0 0 1-.242.35.68.68 0 0 1 .093.093.854.854 0 0 0 .156-.181h.216v.131h-.288l.002.037v.227h-.079c-.044 0-.078 0-.106-.002v.12c.028-.002.062-.002.106-.002h.365v.162l-.002.068h.133a1.36 1.36 0 0 1-.002-.068v-.162h.285c.043 0 .078 0 .105.002v-.12a1.432 1.432 0 0 1-.105.002m-.414 0h-.166v-.155h.166zM159.929 63.55v-.783c0-.025 0-.05.003-.074h-.724a.85.85 0 0 1 .003.074v.782a.877.877 0 0 1-.003.076h.135v-.077h.454v.077h.135zm-.586-.739h.454v.24h-.454zm.454.619h-.454v-.262h.454zM160.982 63.548l.067-.121a1.16 1.16 0 0 0-.285-.129l-.002-.158c.099-.005.194-.014.254-.023v-.125a1.996 1.996 0 0 1-.255.027l-.002-.125c.1-.003.186-.014.253-.023v-.12a1.85 1.85 0 0 1-.254.02c0-.029.002-.08.006-.113l-.15-.01c.003.035.006.071.006.12v.004a1.498 1.498 0 0 1-.289-.029l.002.126c.072.018.199.023.288.025l.001.13h-.025a.865.865 0 0 1-.261-.031l-.003.124c.04.015.135.028.243.028h.048l.002.132a.767.767 0 0 0-.101-.007c-.175 0-.26.07-.26.167 0 .11.105.185.259.185.154 0 .23-.083.24-.195.086.034.16.082.218.121m-.468-.049c-.08 0-.117-.024-.117-.066 0-.034.037-.057.125-.057.036 0 .071.006.105.014-.001.076-.047.109-.113.109M161.755 63.223c0-.123.106-.298.361-.375l.062-.004-.008-.123-.849.06.007.144c.108-.014.316-.036.508-.054-.146.104-.222.251-.222.357 0 .214.149.335.407.351.012-.037.03-.09.049-.137-.209-.013-.315-.062-.315-.22m.428-.294-.065.043c.05.034.094.09.117.124l.067-.046a.6.6 0 0 0-.119-.12m-.115.067-.068.044c.043.034.091.09.115.128l.07-.048a.731.731 0 0 0-.117-.124M163.241 62.749h-.403a1.64 1.64 0 0 0 .03-.1l.006-.012-.128-.026c-.01.047-.023.094-.038.138h-.225c-.042 0-.076 0-.102-.003v.118c.026-.003.06-.003.102-.003h.176a.837.837 0 0 1-.322.349.587.587 0 0 1 .077.1.814.814 0 0 0 .192-.158v.42l-.002.056h.127c-.001-.017-.003-.037-.003-.056v-.16h.356v.06c0 .024-.018.035-.073.035-.049 0-.102-.008-.103-.008l.061.126c.176 0 .24-.046.24-.12l-.002-.085v-.412l.001-.044h-.469a.821.821 0 0 0 .053-.103h.449c.042 0 .075 0 .102.003v-.118a1.36 1.36 0 0 1-.102.003m-.157.317v.08h-.356v-.08zm0 .254h-.356v-.082h.356zM164.435 62.899l.001-.038h-.217a3.14 3.14 0 0 0 .005-.199l.002-.03-.118-.005a4.364 4.364 0 0 1 0 .234h-.138v-.1c-.02.002-.041.002-.065.002h-.111v-.109c0-.006.001-.017.003-.024a1.665 1.665 0 0 0-.129-.005.165.165 0 0 1 .003.028v.11h-.147l-.065-.001v.114l.065-.001h.446v.1h.129c-.029.282-.11.454-.277.572.034.025.086.066.105.086.168-.133.254-.325.285-.659h.099c-.002.329-.01.408-.025.453-.016.046-.046.065-.104.065a.236.236 0 0 1-.07-.01l.043.14c.14 0 .215-.042.242-.12.027-.073.037-.182.038-.603m-.493.25c.015-.025.047-.069.068-.095a.569.569 0 0 1-.136-.173l-.089.054c.039.08.09.151.157.213m-.268-.2.008-.012-.1-.053a.474.474 0 0 1-.15.217c.026.026.066.068.083.09a.69.69 0 0 0 .159-.242m.183.493.063-.11a1.71 1.71 0 0 0-.105-.069 1.12 1.12 0 0 0 .054-.163l.006-.01c-.039-.018-.083-.04-.11-.051a.938.938 0 0 1-.052.164 2.45 2.45 0 0 0-.107-.058l-.057.105c.033.017.07.036.11.06a.666.666 0 0 1-.232.226c.028.028.073.073.089.092a.71.71 0 0 0 .244-.254c.034.022.067.045.097.068M157.235 63.41v-.677c0-.02 0-.04.002-.061h-.655l.002.038v.346c0 .254-.069.395-.172.48.032.024.085.067.11.093a.577.577 0 0 0 .173-.337h.408v.168c0 .026-.023.038-.086.038a.97.97 0 0 1-.123-.01c.021.04.054.105.068.136.204 0 .275-.048.275-.13zm-.519-.624h.387v.139h-.387zm.387.394h-.392c.003-.037.005-.077.005-.117v-.026h.387z"})),Xm||(Xm=r.createElement("path",{fill:"#E5F7FF",d:"M137.029 67.338h27.478v8.29h-27.478z"})),Zm||(Zm=r.createElement("path",{fill:"#00C1F7",fillRule:"evenodd",d:"M164.398 67.447h-27.259v8.071h27.259zm-27.369-.11v8.29h27.478v-8.29z",clipRule:"evenodd"})),eh||(eh=r.createElement("path",{fill:"#00C1F7",d:"M137.029 70.014h27.478v.11h-27.478zM137.029 72.832h27.478v.11h-27.478z"})),th||(th=r.createElement("rect",{width:3.546,height:4.2,x:160.997,y:54.013,fill:"#FFF3F9",rx:.438})),nh||(nh=r.createElement("path",{fill:"#222",d:"M161.583 56.343a.71.71 0 0 1-.134.248c.012.02.031.066.037.085a.843.843 0 0 0 .044-.057v.337h.074v-.466c.02-.041.037-.084.051-.125zm.309.416h-.067v-.069h.067zm.075-.18v-.056h-.079v-.067h-.061v.067h-.075v.057h.075v.056h-.058v.176h.182v-.176h-.063v-.056zm-.232.27v-.406h.247v.406zm-.071-.474v.58h.071v-.039h.247v.032h.075v-.573zM162.372 56.357c-.005.086.004.384-.258.53a.286.286 0 0 1 .066.062.565.565 0 0 0 .243-.33.52.52 0 0 0 .259.33.252.252 0 0 1 .06-.066c-.245-.115-.278-.398-.283-.49l.002-.037zM162.917 56.697a.623.623 0 0 0 .126-.09v.079h.077v-.082c.036.036.08.067.128.093zm.201.179v-.035h.105v.035zm-.169-.035h.096v.035h-.096zm.096-.051h-.096v-.035h.096zm.178 0h-.105v-.035h.105zm-.18-.27h-.079l.03-.012a.273.273 0 0 0-.039-.067l.088-.005zm.15 0h-.073v-.09l.091-.01a.573.573 0 0 1-.041.092zm.184.063v-.064h-.131c.016-.022.035-.051.052-.08l-.08-.02c.039-.005.076-.01.11-.017l-.049-.057a3.061 3.061 0 0 1-.449.04.3.3 0 0 1 .016.059c.021 0 .042 0 .065-.002l-.032.012c.015.019.03.044.039.065h-.127v.064h.178a.618.618 0 0 1-.194.096.408.408 0 0 1 .048.06.542.542 0 0 0 .051-.02v.236h.075v-.02h.274v.018h.078v-.231l.045.016a.37.37 0 0 1 .052-.066.616.616 0 0 1-.205-.089zM163.877 56.503h-.272v-.071h.272zm.081-.14h-.429v.208h.429zm.076.313v-.071h-.588v.07h.124a1.494 1.494 0 0 1-.048.131l.085.014.013-.035h.248c-.01.054-.02.082-.033.092-.008.006-.017.006-.032.006-.02 0-.068 0-.112-.005a.172.172 0 0 1 .027.075c.046.002.089.002.114 0 .03-.001.051-.007.072-.025.023-.022.039-.074.052-.181.003-.01.004-.032.004-.032h-.316a.61.61 0 0 0 .013-.04zM162.3 57.258a.312.312 0 0 1-.049.004h-.124a17.796 17.796 0 0 0 .007-.117h-.097a.421.421 0 0 1 .004.06l-.001.057h-.094c-.025 0-.059-.002-.087-.004v.086c.029-.003.065-.003.087-.003h.087a.385.385 0 0 1-.195.298l.077.062a.477.477 0 0 0 .204-.36h.148a.9.9 0 0 1-.028.244c-.007.015-.016.023-.037.023a.53.53 0 0 1-.092-.01l.01.089c.032.002.071.005.109.005.045 0 .07-.017.085-.05.028-.068.036-.251.038-.322l.005-.035zM162.502 57.47c.024-.002.068-.003.105-.003h.353c.028 0 .062.003.077.003v-.103c-.017.002-.046.004-.077.004h-.353c-.034 0-.082-.002-.105-.004zM163.695 57.244a.853.853 0 0 0-.062-.097l-.055.025c.025.033.04.057.061.099zm-.088.038a1.632 1.632 0 0 0-.06-.1l-.055.024c.024.034.038.06.057.101zm-.232-.041c0-.028.003-.057.005-.08h-.102a.426.426 0 0 1 .006.08v.377a.698.698 0 0 1-.006.091h.103a1.14 1.14 0 0 1-.006-.09v-.187c.071.024.169.062.237.098l.037-.091a2.284 2.284 0 0 0-.274-.103zM151.833 64.943h4.23v1.972h-4.23z"})),rh||(rh=r.createElement("path",{fill:"#fff",d:"M152.401 65.542h.062v-.087h.147v.09l-.001.022h.061l-.001-.023v-.09h.151v.088h.062l-.001-.016v-.098l.001-.016h-.213v-.023h.135c.017 0 .031 0 .043.002v-.05h-.411v.05c.012-.002.026-.002.044-.002h.13v.023h-.209l.001.016v.098zm.185-.035v-.034h-.099v.034h.081zm.207 0v-.034h-.099v.034h.08zm-.225.016h-.081v.034l.019-.001h.062a.19.19 0 0 1 .018 0v-.034zm.206 0h-.08v.034l.018-.001h.081v-.034zm.076.178c-.001.037-.007.053-.019.062-.016.01-.036.014-.075.014a.378.378 0 0 1-.074-.003c-.009-.002-.013-.007-.013-.013v-.006h.159l-.001-.018v-.133l.001-.018h-.373l.001.02v.161l-.001.02h.057v-.032h.099v.011c0 .027.005.04.02.05.012.009.032.012.118.012.119 0 .147-.025.154-.099a.499.499 0 0 1-.053-.028m-.338-.073h.099v.023h-.099zm.259 0v.023h-.102v-.023zm-.16.086h-.099v-.026h.099zm.16 0h-.102v-.026h.102zM153.451 65.554h-.153a.209.209 0 0 0-.011-.027.567.567 0 0 0 .158-.123l.01-.005a.403.403 0 0 0-.053-.04l-.004.004h-.284l-.039-.001v.06H153.351a.467.467 0 0 1-.093.064.118.118 0 0 0-.017-.016l-.002-.001-.06.02a.131.131 0 0 1 .05.065h-.163l-.054-.001v.063l.054-.001h.18c.004.02.005.043.005.067 0 .072-.013.077-.063.077a.482.482 0 0 1-.059-.004l.024.066.043.002c.088 0 .122-.037.122-.137a.532.532 0 0 0-.005-.071h.138l.053.001v-.063zM153.677 65.394h.139v-.051h-.163v.051zm.417.362h-.07V65.6h.084v-.054h-.084v-.132h.097v-.057h-.273v.058H153.966v.342h-.039v-.252l.001-.018-.056-.003a.146.146 0 0 1 .001.02v.253h-.038v.06l.036-.001h.259v-.06zm-.439-.282h.18v-.052h-.208v.053zm.156.076v-.047h-.155v.047h.131zm-.024.028h-.131v.046h.155v-.047zm.033.073h-.174a.102.102 0 0 1 .001.018v.14l-.001.017h.053v-.022h.067v.022h.054l-.001-.018v-.139zm-.054.106h-.067v-.059h.067zM154.724 65.725v-.345l.001-.03h-.222l.001.018v.185c0 .115-.031.185-.098.232.015.013.04.033.051.044a.267.267 0 0 0 .098-.17h.109v.093c0 .01-.008.016-.029.016a.335.335 0 0 1-.041-.003c.008.019.022.048.027.062.074 0 .104-.023.104-.057zm-.327-.014h.06l-.002-.029v-.293l.002-.028h-.189l.001.03v.313l-.001.03h.06v-.046h.069zm.167-.306h.1v.074h-.1zm-.236.008h.069v.083h-.069zm.336.192h-.102c.002-.016.002-.033.002-.05v-.023h.1zm-.267.03h-.069v-.088h.069zM155.32 65.604h-.178v-.022h.138l.042.001v-.042H155.142v-.022h.16l-.001-.018v-.041h.063v-.045h-.063v-.04l.001-.019h-.16v-.007l.001-.02a1.205 1.205 0 0 0-.063-.002l.001.02v.01h-.127c-.015 0-.026 0-.038-.002v.043h.165v.018h-.175l-.042-.001v.045l.042-.001h.175v.02h-.125c-.014 0-.026 0-.037-.002v.043h.162v.022h-.14l-.042-.001v.042H155.081v.021h-.175l-.05-.001v.047l.05-.001h.414l.049.001v-.047zm-.178-.188v-.019h.099v.019zm0 .062v-.02h.099v.02zm.155.19h-.364a.106.106 0 0 1 .002.02v.13a.093.093 0 0 1-.002.018h.063v-.018h.239v.018h.062v-.148zm-.301.038h.239v.02h-.239zm.239.074h-.239v-.019h.239zM152.661 66.082a.254.254 0 0 0-.261.252c0 .076.036.127.098.127.1 0 .176-.169.193-.313.066.005.116.061.116.136 0 .08-.056.159-.194.177.03.024.044.04.059.056.108-.024.207-.097.207-.231 0-.127-.109-.204-.218-.204m-.16.311c-.024 0-.034-.026-.034-.067 0-.075.062-.171.157-.18-.013.13-.081.247-.123.247M153.451 66.096h-.202l.015-.05.003-.006-.064-.013a.515.515 0 0 1-.019.069h-.112c-.021 0-.038 0-.051-.002v.059l.051-.001h.088a.421.421 0 0 1-.161.174c.012.013.03.036.038.05a.398.398 0 0 0 .096-.079v.21l-.001.028h.063l-.001-.028v-.08h.178v.03c0 .012-.009.017-.036.017-.025 0-.051-.004-.052-.004l.031.063c.087 0 .12-.023.12-.06l-.001-.042V66.203h-.234a.477.477 0 0 0 .026-.051h.225a.7.7 0 0 1 .051.001v-.059c-.014.002-.031.002-.051.002m-.079.158v.04h-.178v-.04zm0 .127h-.178v-.04h.178zM154.118 66.17l.001-.018h-.109c.002-.031.002-.064.002-.1l.002-.015-.06-.002a2.133 2.133 0 0 1 0 .117h-.069v-.05h-.087v-.053l.001-.013a.806.806 0 0 0-.064-.002l.001.014v.055h-.106v.056h.255v.05h.065c-.014.14-.055.227-.139.286a.526.526 0 0 1 .053.042c.084-.066.127-.162.142-.329h.05a.993.993 0 0 1-.012.226c-.009.023-.023.033-.052.033a.113.113 0 0 1-.035-.005l.021.07c.07 0 .107-.021.121-.06.014-.036.019-.09.019-.301m-.246.125a.432.432 0 0 1 .034-.047.27.27 0 0 1-.068-.086l-.045.027a.36.36 0 0 0 .079.106m-.135-.1.004-.005-.05-.027a.23.23 0 0 1-.075.109.491.491 0 0 1 .042.045.33.33 0 0 0 .079-.121m.092.247.032-.055c-.016-.01-.034-.023-.053-.034a.56.56 0 0 0 .027-.082l.003-.005c-.019-.009-.041-.02-.055-.025a.515.515 0 0 1-.026.082 1.268 1.268 0 0 0-.054-.03c-.01.02-.02.04-.028.053l.055.03a.333.333 0 0 1-.116.113l.045.046a.36.36 0 0 0 .122-.127.7.7 0 0 1 .048.034M154.275 66.408h.225v-.05l-.027.001v-.212a.6.6 0 0 1 .031 0v-.05h-.031v-.036l.001-.02a1.057 1.057 0 0 0-.059-.002l.001.022v.036h-.07v-.036l.001-.02a1.022 1.022 0 0 0-.059-.002.161.161 0 0 1 .001.022v.036h-.039v.05h.039v.212h-.046v.05zm.45.024v-.348l.002-.03h-.199l.001.018v.19c0 .126-.019.19-.054.232l.046.044a.36.36 0 0 0 .06-.177h.086v.099c0 .01-.007.015-.028.015a.211.211 0 0 1-.036-.003l.027.063c.067 0 .097-.023.097-.057zm-.138-.324h.08v.072h-.08zm-.241.038h.07v.04h-.07zm.321.163h-.081l.001-.043v-.033h.08zm-.321-.04v-.035h.07v.036zm0 .09v-.042h.07v.042zm.085.05-.041.031c.014.023.035.051.059.076l.037-.045a.274.274 0 0 1-.055-.062m-.197.086.043.043a.445.445 0 0 0 .088-.098l-.045-.03a.292.292 0 0 1-.086.085M155.065 66.355c0-.04-.02-.082-.051-.115.02-.048.043-.125.051-.15l.006-.004a.36.36 0 0 0-.046-.037l-.007.007h-.136a.109.109 0 0 1 .001.018v.424l-.001.034h.06l-.001-.034v-.39H155a1.325 1.325 0 0 1-.045.137.133.133 0 0 1 .053.1c0 .031-.016.047-.035.047a.156.156 0 0 1-.031-.003.58.58 0 0 1 .031.058c.061 0 .092-.036.092-.092m.218.057a.535.535 0 0 0 .077-.066l.006-.004-.041-.042a.3.3 0 0 1-.072.07.32.32 0 0 1-.03-.072h.101l-.001-.022v-.197l.001-.022h-.242a.129.129 0 0 1 .002.017v.383l-.026.006-.03.006.012.065.027-.01c.044-.011.115-.037.146-.046l.001-.062a.918.918 0 0 1-.072.024v-.142h.032c.025.114.083.199.17.24.006-.016.021-.043.03-.06a.227.227 0 0 1-.091-.066m-.141-.302h.124v.04h-.124zm0 .135v-.043h.124v.043z"})),ih||(ih=r.createElement("path",{fill:"#999",d:"M122.393 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.198 0-.323.16-.323.43s.125.427.323.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.11 0 .203.101.203.328 0 .226-.093.325-.203.325M123.17 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.198 0-.323.16-.323.43s.125.427.323.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.11 0 .203.101.203.328 0 .226-.093.325-.203.325M123.947 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.199 0-.323.16-.323.43s.124.427.323.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.109 0 .202.101.202.328 0 .226-.093.325-.202.325M124.723 79.34c.198 0 .324-.156.324-.426s-.126-.43-.324-.43-.323.16-.323.43.125.427.323.427m0-.101c-.112 0-.203-.098-.203-.325s.091-.328.203-.328c.11 0 .203.101.203.328 0 .226-.093.325-.203.325M125.5 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.198 0-.323.16-.323.43s.125.427.323.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.11 0 .203.101.203.328 0 .226-.093.325-.203.325M126.277 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.198 0-.323.16-.323.43s.125.427.323.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.109 0 .203.101.203.328 0 .226-.094.325-.203.325M127.054 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.199 0-.324.16-.324.43s.125.427.324.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.109 0 .202.101.202.328 0 .226-.093.325-.202.325M127.83 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.198 0-.323.16-.323.43s.125.427.323.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.11 0 .203.101.203.328 0 .226-.093.325-.203.325M128.607 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.198 0-.323.16-.323.43s.125.427.323.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.11 0 .203.101.203.328 0 .226-.093.325-.203.325M129.384 79.34c.197 0 .323-.156.323-.426s-.126-.43-.323-.43c-.199 0-.323.16-.323.43s.124.427.323.427m0-.101c-.113 0-.204-.098-.204-.325s.091-.328.204-.328c.109 0 .202.101.202.328 0 .226-.093.325-.202.325"})),ah||(ah=r.createElement("path",{fill:"#222",d:"M131.755 79.332h.14v-.99h-.11l-.258.08v.131l.228-.067zM132.322 79.332h.141v-.99h-.111l-.257.08v.131l.227-.067zM132.89 79.332h.14v-.99h-.11l-.258.08v.131l.228-.067zM133.457 79.332h.141v-.99h-.111l-.257.08v.131l.227-.067z"})),oh||(oh=r.createElement("path",{fill:"#FFF3F9",d:"M137.029 75.649h27.478v3.648h-27.478z"})),ch||(ch=r.createElement("path",{fill:"#222",d:"M139.67 76.792c-.001.104-.008.132-.02.133-.015 0-.037-.028-.053-.12a.806.806 0 0 0 .082-.219.019.019 0 0 1 .004-.006l-.051-.039a.76.76 0 0 1-.05.166 3.403 3.403 0 0 1-.011-.217H139.689v-.063a.234.234 0 0 1-.026.001l.026-.025a.446.446 0 0 0-.071-.062l-.035.031a.507.507 0 0 1 .062.056h-.075v-.018l.002-.025-.012-.001-.001-.02v-.025h.133v-.065c-.017.002-.033.002-.055.002h-.078v-.041l.001-.02a1.047 1.047 0 0 0-.073-.003.18.18 0 0 1 .001.023v.04h-.112v-.04l.001-.02a1.047 1.047 0 0 0-.073-.003.18.18 0 0 1 .001.023v.04h-.074l-.054-.001v.066l.054-.001h.074v.025a.177.177 0 0 1-.002.024h.074l-.001-.024v-.025h.112v.025a.177.177 0 0 1-.002.024h.019l.002.02v.02h-.321l.001.021v.238a.472.472 0 0 1-.042.23l-.002-.069v-.566l.002-.041h-.197a.167.167 0 0 1 .002.02v.303c0 .182-.022.314-.049.38.016.016.042.042.052.054a.884.884 0 0 0 .052-.28h.077v.176c0 .013-.005.018-.03.018-.015 0-.032-.003-.034-.003l.029.08c.059 0 .091-.023.097-.058a.83.83 0 0 1 .037.06c.047-.057.073-.163.073-.299v-.202h.255c.005.131.014.23.025.304a.303.303 0 0 1-.054.06v-.03h-.053v-.055h.047l-.001-.02v-.08l.001-.02h-.047v-.053h.054v-.055l-.031.001h-.164a.247.247 0 0 1 .001.028v.28l-.001.028h.166a.484.484 0 0 1-.118.063l.051.047a.476.476 0 0 0 .165-.118c.025.097.06.124.097.124.05 0 .069-.05.074-.144-.014-.012-.037-.041-.051-.058m-.659-.476h.071v.129h-.071zm.071.33h-.074a2.12 2.12 0 0 0 .002-.081v-.05h.072zm.259-.05h.043v.052h-.043zm.087.093v.04h-.087v-.04zm-.087.135v-.055h.043v.055zM140.57 76.79l.021-.07a.603.603 0 0 1-.243-.109h.143c.031 0 .055 0 .077.002v-.073l-.077.001h-.332a.718.718 0 0 0 .042-.075c.001-.003.004-.005.006-.007l-.071-.013v-.171l.001-.026h-.294a.18.18 0 0 1 .002.026v.166l-.002.026h.278a.303.303 0 0 1-.044.074h-.21l-.076-.001v.073c.022-.002.045-.002.076-.002h.138a.661.661 0 0 1-.239.11c.009.02.024.053.029.068l.057-.019v.203l-.001.028h.073v-.043h.142V77h.073l-.001-.028v-.223l.001-.028h-.18a.536.536 0 0 0 .145-.11h.154c.036.042.083.08.138.11h-.182l.001.028v.223l-.001.028h.073v-.043h.142V77h.073l-.001-.028v-.205zm-.356-.323h.295l-.001-.026v-.166l.001-.026h-.295a.18.18 0 0 1 .002.026v.166zm-.149-.065h-.148v-.088h.148zm.224-.088h.147v.088h-.147zm-.223.472v.106h-.142v-.106zm.363.106h-.142v-.106h.142zM140.845 76.845v-.173c.036-.011.067-.022.08-.027v-.078l-.08.028v-.148H140.929v-.071H140.845v-.13l.002-.03a1.133 1.133 0 0 0-.08-.004.392.392 0 0 1 .002.034v.13H140.666v.072l.037-.001h.066v.172l-.066.02-.042.008.014.082.036-.015.058-.017v.19c0 .017-.009.024-.041.024a.298.298 0 0 1-.052-.004l.037.088c.094 0 .134-.032.134-.081zm.144-.323h.389l-.001-.028v-.232l.001-.03h-.389a.25.25 0 0 1 .002.03v.232zm.077-.231h.236v.058h-.236zm.236.173h-.236v-.06h.236zm-.017.452a.49.49 0 0 1-.063-.004v-.107h.147a.48.48 0 0 1 .035.001v-.068h-.182v-.092h.22v-.071l-.055.001H141l-.056-.001v.072l.056-.001h.146v.248a.167.167 0 0 1-.111-.118.796.796 0 0 0 .018-.072l.005-.01-.072-.021a.532.532 0 0 1-.129.273l.056.055a.514.514 0 0 0 .09-.14c.05.09.149.126.262.126.071 0 .133-.002.18-.007l.017-.075c-.046.006-.109.01-.177.01M141.707 76.949v-.552c.023-.05.043-.106.06-.162l.005-.007-.076-.028a.987.987 0 0 1-.184.362.704.704 0 0 1 .039.083.762.762 0 0 0 .085-.123 12.304 12.304 0 0 0-.013.475h.086a.725.725 0 0 1-.002-.048m.56-.272h-.082v-.2h.125V76.4c-.018.002-.036.002-.059.002h-.066v-.151l.001-.03a1.285 1.285 0 0 0-.086-.004.39.39 0 0 1 .002.034v.151h-.138v-.151l.002-.03a1.343 1.343 0 0 0-.086-.004.393.393 0 0 1 .002.033v.152h-.052c-.023 0-.042 0-.059-.002v.078H141.882v.2h-.072c-.024 0-.043 0-.062-.002v.08c.019-.002.038-.002.062-.002h.457c.025 0 .044 0 .062.002v-.08c-.018.002-.037.002-.062.002m-.303 0v-.2h.138v.2zm-.231.25c.015.021.04.053.05.07a.671.671 0 0 0 .194-.166l-.059-.053a.483.483 0 0 1-.185.148m.417-.149-.059.053a.627.627 0 0 0 .191.171.566.566 0 0 1 .045-.073.472.472 0 0 1-.177-.151M142.494 76.448h.63c.03 0 .053 0 .075.002v-.067c-.022.002-.045.002-.075.002h-.144l.037-.069h.049l.065.001v-.067l-.065.001h-.218v-.03l.002-.018a1.556 1.556 0 0 0-.09-.004.2.2 0 0 1 .002.022v.03h-.218c-.026 0-.047 0-.065-.002v.068c.018-.002.039-.002.065-.002h.056a.486.486 0 0 1 .039.07h-.145c-.031 0-.053 0-.075-.002v.067c.022-.002.044-.002.075-.002m.191-.133h.249a.614.614 0 0 1-.039.07h-.173zm.109.416-.052.037a.581.581 0 0 1 .108.09c.018-.015.045-.036.059-.049a.725.725 0 0 0-.109-.078h.28l-.001-.027v-.185l.001-.027h-.543a.192.192 0 0 1 .002.026v.186l-.002.028zm-.176-.187H143v.043h-.382zm0 .136v-.046H143v.046zm.467.079-.061.034a.91.91 0 0 1 .123.164l.068-.045a.873.873 0 0 0-.13-.153m-.16.143c-.022.014-.049.017-.101.017-.069 0-.089 0-.101-.003-.009-.002-.016-.007-.016-.022v-.106l.002-.012-.086-.006.001.015v.109c0 .043.006.064.026.078.018.012.048.017.167.017.158 0 .202-.03.212-.12a3.61 3.61 0 0 1-.078-.04c-.001.042-.01.061-.026.073m-.526.007a.89.89 0 0 1 .063.057.497.497 0 0 0 .118-.157l.005-.01-.072-.025a.357.357 0 0 1-.114.135M143.382 76.611h.598l-.001-.033v-.31l.001-.033h-.598l.002.033v.31a.335.335 0 0 1-.002.033m.082-.306h.179v.083h-.179zm.255 0h.179v.083h-.179zm-.076.236h-.179v-.086h.179zm.255 0h-.179v-.086h.179zm-.237.073-.054.038c.032.026.089.08.12.122l.061-.048a.726.726 0 0 0-.127-.112m.281.066-.063.037c.038.046.102.137.134.207l.069-.047a1.044 1.044 0 0 0-.14-.197m-.147.21c-.018.014-.047.017-.095.017-.063 0-.082-.001-.094-.003-.011-.002-.017-.009-.017-.03v-.168l.001-.013-.083-.006a.087.087 0 0 1 .002.017v.173c0 .047.006.072.026.086.018.013.047.018.157.018.157 0 .197-.032.204-.149l-.078-.042c0 .059-.006.084-.023.1m-.513-.002a.51.51 0 0 1 .063.056.589.589 0 0 0 .117-.202l.007-.01-.074-.025a.478.478 0 0 1-.113.181M152.448 78.132h-.117a.722.722 0 0 0 .122-.118c.002 0 .004-.003.006-.004l-.057-.039a.64.64 0 0 1-.18.16h-.066v-.053h.08c.02 0 .035 0 .052.002v-.064h-.132v-.04l.001-.019h.309l-.001-.023v-.127l.001-.024h-.668l.002.023v.128a.164.164 0 0 1-.002.023h.282l.001.02v.04h-.218l-.052-.001v.064c.017-.002.033-.002.052-.002h.218v.054h-.264c-.03 0-.053 0-.074-.002v.067h.357a1.477 1.477 0 0 1-.37.088c.008.021.018.053.022.067.062-.01.12-.023.172-.037v.201l-.001.03h.081v-.033h.33v.033h.08l-.001-.03v-.23l.001-.029h-.321c.044-.018.085-.039.123-.06h.307v-.067c-.022.002-.045.002-.075.002m-.451-.227h-.121v-.07h.121zm.07 0v-.07h.125v.07zm.195-.07h.127v.07h-.127zm.072.475v.049h-.33v-.049zm0 .15h-.33v-.052h.33zM153.345 78.519v-.294l.001-.032h-.344c.114-.09.209-.197.269-.308l.011-.005a.625.625 0 0 0-.067-.05l-.009.01h-.222a.74.74 0 0 0 .038-.066l.007-.009-.088-.016a.62.62 0 0 1-.311.294c.016.02.04.053.049.07a.711.711 0 0 0 .128-.082c.047.02.119.058.168.091a1.01 1.01 0 0 1-.357.182c.016.021.04.055.048.072.076-.025.15-.06.219-.102v.245a.316.316 0 0 1-.002.032h.081v-.044h.303v.044h.079zm-.483-.536a.864.864 0 0 0 .07-.075h.236a.74.74 0 0 1-.131.16 1.399 1.399 0 0 0-.175-.085m.405.45h-.303v-.166h.303z"})),lh||(lh=r.createElement("circle",{cx:138.157,cy:76.636,r:.423,fill:"#333"})),sh||(sh=r.createElement("path",{stroke:"#222",strokeLinecap:"square",strokeWidth:.055,d:"m151.692 78.917 11.911.055"})),uh||(uh=r.createElement("g",{clipPath:"url(#step1-detail_svg__f)"},r.createElement("rect",{width:11.652,height:13.687,x:121.969,y:62.067,fill:"#fff",rx:1.665}),r.createElement("path",{fill:"#fff",d:"M121.969 62.067h11.652v13.878h-11.652z"}),r.createElement("g",{clipPath:"url(#step1-detail_svg__g)"},r.createElement("path",{fill:"#352323",d:"m131.431 67.02-3.544-2.092h-.038l-3.551 2.092a.04.04 0 0 0-.022.038c0 1.086.044 5.447.156 6.66.134 1.4 1.809 1.586 3.425 1.586 1.615 0 3.291-.186 3.425-1.586.119-1.213.156-5.574.156-6.66.015-.015.007-.03-.007-.038"}),r.createElement("path",{fill:"#FDE7DA",d:"m132.979 75.181-3.216-1.325c-.291-.134-.551-.417-.7-.744v-4.58h-2.397v4.587c-.149.32-.41.61-.7.745l-3.217 1.317c-.484.209-.96.79-1.057 1.28l1.772 3.053c.097-.49.261-.49.357 0h8.079c.096-.49.26-.49.357 0l1.772-3.052c-.089-.492-.566-1.072-1.05-1.28"}),r.createElement("path",{fill:"#F9B895",d:"M129.063 68.525v3.812c-.417.306-.849.484-1.199.484-.35 0-.782-.178-1.198-.484v-3.812z",opacity:.5}),r.createElement("path",{fill:"#FDE7DA",d:"M131.588 68.766c0-.395-.195-.747-.494-.976.022-.187.045-.38.067-.589.135-1.349-1.04-3.1-3.269-3.1-2.244 0-3.411 1.751-3.276 3.1.022.208.044.402.067.589-.299.23-.494.58-.494.975 0 .61.457 1.113 1.062 1.22.075.173.158.352.247.531.546 1.063 1.661 1.816 2.394 1.816.726 0 1.84-.753 2.394-1.816.09-.179.172-.351.247-.53.598-.108 1.055-.618 1.055-1.22"}),r.createElement("path",{fill:"#000",d:"M126.896 68.718a.26.26 0 0 0-.513-.06c0 .008 0 .015-.008.015 0 .015-.007.03-.007.045a.264.264 0 0 0 .26.26.208.208 0 0 0 .097-.022.281.281 0 0 0 .127-.12c.037-.029.044-.073.044-.118"}),r.createElement("path",{fill:"#352323",d:"M127.127 67.824c.015 0 .03-.007.037-.015.015-.022.008-.044-.007-.06a1.016 1.016 0 0 0-.581-.185 1.02 1.02 0 0 0-.581.186.04.04 0 0 0-.007.06.04.04 0 0 0 .06.007.896.896 0 0 1 1.057 0c0 .007.015.007.022.007"}),r.createElement("path",{fill:"#352323",fillRule:"evenodd",d:"m127.219 67.854-.005.005a.127.127 0 0 1-.087.035c-.004 0-.016 0-.028-.002a.084.084 0 0 1-.046-.026.824.824 0 0 0-.961.005.11.11 0 0 1-.159-.018.11.11 0 0 1 .023-.161c.182-.127.397-.198.62-.198.224 0 .439.071.621.198l.005.004.004.004a.115.115 0 0 1 .017.148zm-1.224-.104a.04.04 0 0 0-.007.06.04.04 0 0 0 .06.007.896.896 0 0 1 1.057 0c0 .007.015.007.022.007.01 0 .02-.003.027-.007a.034.034 0 0 0 .01-.008.033.033 0 0 0 .007-.014c.001-.006.002-.011.001-.016a.048.048 0 0 0-.015-.03 1.016 1.016 0 0 0-.581-.185 1.02 1.02 0 0 0-.581.186",clipRule:"evenodd"}),r.createElement("path",{fill:"#000",d:"M129.346 68.673c0-.007 0-.015-.008-.015a.256.256 0 0 0-.253-.193c-.141 0-.26.119-.26.26 0 .142.119.26.26.26a.264.264 0 0 0 .261-.26c.007-.022 0-.037 0-.052"}),r.createElement("path",{fill:"#C6A389",d:"M127.864 71.026c.231 0 .454-.03.64-.097.023-.008.038-.03.03-.052-.007-.022-.03-.037-.052-.03-.357.12-.864.12-1.228 0-.023-.007-.045.008-.052.03-.008.022.007.044.029.052.186.067.402.097.633.097"}),r.createElement("path",{fill:"#C6A389",fillRule:"evenodd",d:"M128.528 70.995c-.196.07-.428.1-.664.1-.236 0-.46-.03-.656-.1-.049-.017-.096-.073-.073-.14.016-.05.072-.097.141-.075.35.115.841.115 1.184 0 .068-.022.124.025.141.075.022.067-.025.123-.073.14m-.024-.066a1.924 1.924 0 0 1-.64.097c-.231 0-.447-.03-.633-.097-.022-.008-.037-.03-.029-.052.007-.022.029-.037.052-.03.364.12.871.12 1.228 0 .022-.007.045.008.052.03.008.022-.007.044-.03.052",clipRule:"evenodd"}),r.createElement("path",{fill:"#F9D0BA",d:"M128.065 69.812a1.11 1.11 0 0 1-.193.015c-.082 0-.157-.007-.194-.015"}),r.createElement("path",{fill:"#352323",fillRule:"evenodd",d:"m129.803 67.854-.005.005a.127.127 0 0 1-.087.035h-.001c-.009 0-.039 0-.066-.023a.827.827 0 0 0-.969 0 .11.11 0 0 1-.158-.018.11.11 0 0 1 .023-.161c.182-.127.396-.198.62-.198.224 0 .438.071.621.198l.005.004.004.004c.015.015.03.037.034.064a.107.107 0 0 1-.018.084z",clipRule:"evenodd"}),r.createElement("path",{fill:"#352323",d:"M126.919 63.998a2.526 2.526 0 0 1 2.375-.41c1.34.447 2.144 1.727 2.144 3.432v.015l-.789 1.958c-.007.015-.022.03-.037.03h-.008c-.022 0-.037-.022-.037-.045l-.045-1.034a15.7 15.7 0 0 1-2.285-.589c-1.005-.35-1.809-1.012-1.981-1.161l-.96 1.191-.156 1.593c0 .023-.015.038-.038.038-.022 0-.037-.008-.044-.03l-.782-1.921v-.015c-.015-1.407 1.072-3.008 2.643-3.052"})),r.createElement("path",{fill:"#F04771",d:"M133.717 82.677V75.9c-.297-.804-.701-1.101-1.467-1.497-1.21-.62-2.665-1.1-2.665-1.1-.396.784-1.137 1.048-1.752 1.048-.614 0-1.355-.264-1.751-1.048 0 0-1.455.48-2.665 1.1-.747.383-1.15.68-1.448 1.444v6.829z"}))),dh||(dh=r.createElement("ellipse",{cx:143.514,cy:65.082,fill:"#000",opacity:.1,rx:.704,ry:.693})),ph||(ph=r.createElement("ellipse",{cx:145.205,cy:65.082,fill:"#000",opacity:.1,rx:.704,ry:.693})),mh||(mh=r.createElement("circle",{cx:140.021,cy:63.049,r:.634,fill:"#000",opacity:.1})),hh||(hh=r.createElement("circle",{cx:126.314,cy:55.224,r:.846,fill:"#000",opacity:.1})),fh||(fh=r.createElement("circle",{cx:126.314,cy:58.749,r:.846,fill:"#000",opacity:.1})),gh||(gh=r.createElement("circle",{cx:134.209,cy:58.749,r:.846,fill:"#000",opacity:.1})),vh||(vh=r.createElement("circle",{cx:142.105,cy:58.749,r:.846,fill:"#000",opacity:.1})),bh||(bh=r.createElement("circle",{cx:130.262,cy:58.749,r:.846,fill:"#000",opacity:.1})),yh||(yh=r.createElement("circle",{cx:138.157,cy:58.749,r:.846,fill:"#000",opacity:.1})),jh||(jh=r.createElement("circle",{cx:146.052,cy:58.749,r:.846,fill:"#000",opacity:.1})),Oh||(Oh=r.createElement("circle",{cx:128.288,cy:55.224,r:.846,fill:"#000",opacity:.1})),wh||(wh=r.createElement("circle",{cx:128.288,cy:58.749,r:.846,fill:"#000",opacity:.1})),xh||(xh=r.createElement("circle",{cx:136.183,cy:58.749,r:.846,fill:"#000",opacity:.1})),Ph||(Ph=r.createElement("circle",{cx:144.079,cy:58.749,r:.846,fill:"#000",opacity:.1})),Eh||(Eh=r.createElement("circle",{cx:132.236,cy:58.749,r:.846,fill:"#000",opacity:.1})),_h||(_h=r.createElement("circle",{cx:140.131,cy:58.749,r:.846,fill:"#000",opacity:.1})),Sh||(Sh=r.createElement("circle",{cx:148.026,cy:58.749,r:.846,fill:"#000",opacity:.1})),Ch||(Ch=r.createElement("circle",{cx:131.39,cy:55.224,r:.846,fill:"#000",opacity:.1})),kh||(kh=r.createElement("circle",{cx:133.364,cy:55.224,r:.846,fill:"#000",opacity:.1})),Nh||(Nh=r.createElement("circle",{cx:142.699,cy:63.049,r:.634,fill:"#000",opacity:.1})),Ih||(Ih=r.createElement("circle",{cx:145.378,cy:63.049,r:.634,fill:"#000",opacity:.1})),Ah||(Ah=r.createElement("circle",{cx:155.569,cy:63.049,r:.634,fill:"#000",opacity:.1})),Dh||(Dh=r.createElement("circle",{cx:152.89,cy:63.049,r:.634,fill:"#000",opacity:.1})),zh||(zh=r.createElement("circle",{cx:151.48,cy:63.049,r:.634,fill:"#000",opacity:.1})),Th||(Th=r.createElement("circle",{cx:163.746,cy:59.666,r:.775,fill:"#000",opacity:.1})),Fh||(Fh=r.createElement("circle",{cx:158.248,cy:63.049,r:.634,fill:"#000",opacity:.1})),Mh||(Mh=r.createElement("path",{fill:"#000",d:"M122.802 55.536c.001.157-.015.208-.04.208-.064 0-.144-.107-.193-.317l.206-.004.079.001.001-.114a.913.913 0 0 1-.08.003l-.226.004a2.097 2.097 0 0 1-.019-.196 2.68 2.68 0 0 0 .229-.062l.029-.009-.085-.09a1.959 1.959 0 0 1-.506.112.87.87 0 0 0-.085-.027.966.966 0 0 1 .001.053v.614c-.023.005-.044.01-.06.012l-.066.008.018.12.056-.015c.097-.02.35-.088.396-.1-.001-.015.003-.076.005-.117a5.43 5.43 0 0 1-.234.063v-.25l.23-.004c.065.316.188.434.301.434.093 0 .127-.078.138-.22a1.399 1.399 0 0 1-.095-.107m-.364-.217-.21.004v-.152c.067-.007.13-.016.191-.027.005.063.011.122.019.175M124.238 55.824v-.334l.001-.041h-.367c.121-.098.221-.214.285-.335l.014-.006a.678.678 0 0 0-.093-.07l-.011.01h-.229a.771.771 0 0 0 .036-.06l.007-.012-.124-.022a.683.683 0 0 1-.347.323c.023.027.06.071.075.097a.789.789 0 0 0 .136-.087c.05.024.118.06.169.094a1.206 1.206 0 0 1-.386.188.718.718 0 0 1 .071.1c.078-.027.153-.062.224-.102v.257a.474.474 0 0 1-.002.04h.114v-.045h.313v.045h.115zm-.538-.607a.965.965 0 0 0 .068-.073h.244a.825.825 0 0 1-.132.162 1.904 1.904 0 0 0-.18-.089m.424.498h-.313v-.162h.313zM160.746 60.104h-.16v-.194h.119c.023 0 .042 0 .059.002v-.105h-.178v-.169h.141l.059.001v-.108c-.018.002-.037.002-.059.002h-.141v-.15a.66.66 0 0 1 .002-.046 2.21 2.21 0 0 0-.117-.004l.002.049v.15h-.09a.997.997 0 0 0 .018-.115c0-.003.003-.009.005-.013l-.111-.027a.989.989 0 0 1-.055.265 1.061 1.061 0 0 0-.048-.157l-.057.019v-.12c0-.013 0-.032.002-.046a2.17 2.17 0 0 0-.113-.004.782.782 0 0 1 .001.05v.781l-.002.068h.114a1.346 1.346 0 0 1-.002-.068v-.648c.014.045.033.115.039.17l.056-.02-.015.032a.672.672 0 0 1 .097.049.635.635 0 0 0 .045-.11h.116v.17h-.116l-.059-.001v.104h.175v.193h-.181c-.028 0-.05 0-.071-.002v.112c.021-.002.043-.002.071-.002h.454a.74.74 0 0 1 .071.002v-.112c-.02.002-.042.002-.071.002m-.849-.327.075.03a1.078 1.078 0 0 0 .036-.268l-.076-.018a.87.87 0 0 1-.035.256M162.185 60.035v-.654l.002-.04-.117-.005.002.044v.701c0 .023-.016.032-.067.032a.687.687 0 0 1-.093-.007c.017.036.047.096.058.123.156 0 .217-.044.217-.112zm-.396-.66h-.426l.002.034v.266a.357.357 0 0 1-.002.034h.101c-.005.207-.059.373-.152.444.026.023.071.06.092.08.071-.065.123-.18.148-.338h.126a.62.62 0 0 1-.015.18c-.013.027-.034.039-.075.039a.187.187 0 0 1-.06-.01c.012.04.032.1.037.121.113 0 .173-.031.197-.087.017-.045.023-.111.024-.314l.002-.032h-.224c.002-.027.004-.054.004-.083h.221l-.001-.034v-.266zm.086.608h.111a.784.784 0 0 1-.002-.05v-.49c0-.01 0-.024.002-.035a2.166 2.166 0 0 0-.111-.004.47.47 0 0 1 .002.039v.49a.754.754 0 0 1-.002.05m-.195-.373h-.208v-.135h.208zM122.199 59.468v-.628c.024-.054.047-.112.066-.172l.005-.01-.106-.035a1.068 1.068 0 0 1-.199.391c.016.034.042.089.051.12a.722.722 0 0 0 .082-.118 10.752 10.752 0 0 0-.016.513h.119a1.141 1.141 0 0 1-.002-.06m.61-.083h-.195v-.187h.159c.026 0 .048 0 .068.002v-.113c-.02.002-.042.002-.068.002h-.159v-.163h.174c.028 0 .051 0 .07.002v-.112c-.019.002-.042.002-.07.002h-.148l.057-.066a.992.992 0 0 0-.213-.125l-.071.08c.05.023.127.067.183.11h-.262l-.07-.001v.112c.02-.002.043-.002.07-.002h.16v.163h-.141c-.026 0-.049 0-.068-.002v.113c.019-.002.042-.002.068-.002h.141v.187h-.177c-.029 0-.055 0-.075-.002v.116c.02-.002.046-.002.075-.002h.492c.03 0 .054 0 .074.002v-.116c-.02.002-.044.002-.074.002M124.255 58.926h-.264v-.107a1.806 1.806 0 0 0 .303-.097c-.013-.016-.046-.063-.068-.095a1.3 1.3 0 0 1-.271.099 1.106 1.106 0 0 0-.073-.025l.001.054v.25c0 .209-.082.358-.198.432l.087.084c.131-.087.213-.27.219-.49h.099v.444a.754.754 0 0 1-.002.05h.116a.783.783 0 0 1-.002-.05v-.443h.104v-.107zm-.789-.16h.316l.055.001v-.1c-.016.002-.033.002-.055.002h-.316l-.055-.001v.1c.017-.002.035-.002.055-.002m.089.397h.25l-.001-.033v-.24l.001-.034h-.358l.002.033v.239c0 .154-.031.254-.076.314a.812.812 0 0 1 .082.087c.06-.069.095-.204.1-.366m0-.1v-.106h.144v.105z"})),Lh||(Lh=r.createElement("rect",{width:17.764,height:.564,x:144.501,y:76.302,fill:"#000",fillOpacity:.1,rx:.282})),Rh||(Rh=r.createElement("rect",{width:12.971,height:.564,x:137.734,y:77.641,fill:"#000",fillOpacity:.1,rx:.282})),Vh||(Vh=r.createElement("g",{clipPath:"url(#step1-detail_svg__h)"},r.createElement("path",{fill:"#000",d:"m162.422 55.3-.049-.156a2.038 2.038 0 0 1-.057-.256.872.872 0 0 1-.011-.145c0-.046.005-.091.021-.134a.136.136 0 0 1 .06-.075.108.108 0 0 1 .113.002.171.171 0 0 1 .068.075.415.415 0 0 1 .035.108c.015.066.023.133.026.2.003.062.004.125.005.187 0 .046-.003.093-.004.139v.007c.079-.009.16-.009.239-.001l.004-.036.017-.19c.004-.05.006-.099.008-.149v-.019c-.001-.01-.003-.01-.012-.01a.778.778 0 0 0-.041.006.232.232 0 0 1-.071.004.078.078 0 0 1-.065-.052.132.132 0 0 1 .011-.113.3.3 0 0 1 .083-.093.372.372 0 0 1 .138-.07.183.183 0 0 1 .114.005.164.164 0 0 1 .089.09c.018.038.025.079.026.12.002.068-.005.135-.016.202-.019.116-.047.23-.079.342l-.002.008.043.018c.068.03.128.072.176.13a.404.404 0 0 1-.081.581.612.612 0 0 1-.208.095 1.11 1.11 0 0 1-.392.02.722.722 0 0 1-.277-.09.4.4 0 0 1-.208-.344.396.396 0 0 1 .179-.344.569.569 0 0 1 .11-.058c.003 0 .005-.002.008-.003m.341-.01a.975.975 0 0 0-.229.025.613.613 0 0 0-.204.086.351.351 0 0 0-.041.561.508.508 0 0 0 .179.098.952.952 0 0 0 .509.018.63.63 0 0 0 .182-.073.367.367 0 0 0 .139-.147.36.36 0 0 0 .035-.196.333.333 0 0 0-.108-.222.504.504 0 0 0-.184-.104.883.883 0 0 0-.278-.045m.266-.01.002-.005a2.6 2.6 0 0 0 .087-.41.836.836 0 0 0 .006-.122.288.288 0 0 0-.02-.096.124.124 0 0 0-.071-.072.14.14 0 0 0-.084-.001.342.342 0 0 0-.138.077.22.22 0 0 0-.052.063.088.088 0 0 0-.008.076c.005.013.015.021.028.022.016 0 .032 0 .048-.002.022-.002.044-.007.066-.007.025-.001.041.013.046.036a.061.061 0 0 1 .002.013c0 .037.001.074-.002.11l-.023.271a.183.183 0 0 0-.002.023zm-.446-.023v-.007a2.975 2.975 0 0 0 0-.32 1.108 1.108 0 0 0-.023-.19.391.391 0 0 0-.027-.094.15.15 0 0 0-.053-.068c-.023-.015-.047-.018-.072-.004a.088.088 0 0 0-.036.043.26.26 0 0 0-.019.077.7.7 0 0 0 .006.171 1.6 1.6 0 0 0 .039.194c.016.063.036.125.055.188l.012.037z"}),r.createElement("path",{fill:"#fff",d:"M162.763 55.29c.088.001.185.014.278.046a.5.5 0 0 1 .183.104.36.36 0 0 1 .074.419.367.367 0 0 1-.139.145.63.63 0 0 1-.182.074.952.952 0 0 1-.509-.018.508.508 0 0 1-.179-.098.333.333 0 0 1-.118-.24.351.351 0 0 1 .159-.322.604.604 0 0 1 .204-.085.98.98 0 0 1 .229-.024m.301.442v-.278h-.121v.058H163v.22zm-.618 0h.064v-.278h-.12v.058h.056zm.305.314a.186.186 0 0 0 .121-.042.124.124 0 0 0 .05-.098c0-.014-.009-.023-.022-.024a.022.022 0 0 0-.023.022.086.086 0 0 1-.039.07.148.148 0 0 1-.101.025.133.133 0 0 1-.072-.027.088.088 0 0 1-.037-.068c0-.013-.011-.023-.024-.022-.013 0-.022.012-.021.025a.126.126 0 0 0 .042.09.184.184 0 0 0 .126.049m0-.287-.03.004a.03.03 0 0 0-.022.018c-.006.016-.004.031.008.044.023.024.071.023.092-.002.011-.012.012-.026.008-.04-.005-.013-.015-.019-.028-.021-.009-.002-.018-.002-.028-.003M163.028 55.28l-.114-.025.001-.022.024-.27c.003-.037.001-.074.002-.11a.061.061 0 0 0-.002-.014c-.005-.023-.021-.037-.046-.036-.022 0-.044.005-.066.007a.367.367 0 0 1-.048.002c-.014 0-.023-.01-.028-.022-.011-.027-.005-.052.008-.076a.336.336 0 0 1 .19-.14.14.14 0 0 1 .084.001.122.122 0 0 1 .07.072c.014.03.019.063.02.096a.716.716 0 0 1-.005.122 2.495 2.495 0 0 1-.09.416M162.582 55.257l-.117.027a1.392 1.392 0 0 1-.012-.037c-.019-.063-.039-.125-.056-.188a1.815 1.815 0 0 1-.038-.194.653.653 0 0 1-.006-.17.261.261 0 0 1 .019-.079.089.089 0 0 1 .036-.042c.024-.014.048-.01.071.004.026.016.042.04.054.068.013.03.02.062.027.094.013.063.021.127.023.19a3.861 3.861 0 0 1 0 .32z"}),r.createElement("path",{fill:"#000",d:"M163.064 55.732H163v-.22h-.057v-.058h.121zM162.446 55.732v-.22h-.056v-.058h.12v.278zM162.751 56.046a.184.184 0 0 1-.126-.048.126.126 0 0 1-.042-.091c-.001-.013.008-.024.021-.025.013 0 .024.009.024.022 0 .03.015.05.037.068a.133.133 0 0 0 .072.027.144.144 0 0 0 .1-.025.087.087 0 0 0 .04-.07c0-.013.011-.022.023-.022.013 0 .022.01.022.024a.127.127 0 0 1-.05.098.186.186 0 0 1-.121.042M162.751 55.76c.01 0 .019 0 .028.002.013.002.024.008.028.021.004.014.003.028-.008.04-.021.025-.069.026-.092.002a.04.04 0 0 1-.008-.044.029.029 0 0 1 .022-.017c.01-.003.021-.004.03-.005"})))),Bh||(Bh=r.createElement("rect",{width:59,height:51.79,x:114.675,y:69.264,fill:"#fff",rx:5})),Uh||(Uh=r.createElement("path",{fill:"#0095EE",fillRule:"evenodd",d:"M134.642 91.678c0-5.297 4.402-9.59 9.833-9.59a9.96 9.96 0 0 1 6.953 2.808 9.473 9.473 0 0 1 2.88 6.782c0 5.297-4.402 9.591-9.833 9.591s-9.833-4.294-9.833-9.591m1.377 0c0 4.555 3.786 8.248 8.456 8.248 4.668-.005 8.451-3.695 8.457-8.248 0-4.555-3.786-8.248-8.457-8.248-4.67 0-8.456 3.693-8.456 8.248m7.001 2.59 5.841-5.755v.01a.651.651 0 0 1 .618-.162.63.63 0 0 1 .452.441.615.615 0 0 1-.165.603l-6.294 6.186a.657.657 0 0 1-.452.182.636.636 0 0 1-.452-.182l-3.589-3.539a.605.605 0 0 1 0-.882.646.646 0 0 1 .904 0z",clipRule:"evenodd"})),Hh||(Hh=r.createElement("path",{fill:"#333",d:"m129.193 107.313.327.009-.009.141c-.021.363-.072.543-.207.714-.111.141-.255.246-.483.351a.754.754 0 0 0-.108-.18c-.063-.006-.105-.006-.144-.006h-.411v.15h-.294a3.32 3.32 0 0 0 .015-.291v-.45c0-.09-.003-.15-.012-.231.057.009.084.009.201.009h.498c.084 0 .129-.003.18-.009-.009.048-.009.09-.009.216v.477a1.05 1.05 0 0 0 .27-.174c.129-.117.198-.324.198-.588a.676.676 0 0 0-.012-.138m-1.035.462v.3h.306v-.3zm1.32-1.5h-.348c-.132 0-.213.003-.294.015v-.315c.09.015.165.018.315.018h.327v-.039c0-.09-.006-.159-.018-.225h.345a1.209 1.209 0 0 0-.018.228v.036h.423c.153 0 .231-.003.321-.018v.315a1.951 1.951 0 0 0-.294-.015h-.45v.213h.345c.126 0 .201-.003.285-.015v.3a1.845 1.845 0 0 0-.285-.015h-.951a1.87 1.87 0 0 0-.285.015v-.3c.084.012.159.015.285.015h.297zm-1.596-.177v-.288c.072.009.123.012.243.012h.366c.117 0 .168-.003.243-.012v.288a1.813 1.813 0 0 0-.243-.012h-.366c-.108 0-.174.003-.243.012m-.099.441v-.312c.072.012.129.015.24.015h.513c.117 0 .177-.003.24-.012v.309a1.356 1.356 0 0 0-.228-.012h-.525c-.105 0-.159.003-.24.012m.099.423v-.279c.06.006.093.009.189.009h.474c.096 0 .135-.003.186-.009v.279a1.498 1.498 0 0 0-.186-.009h-.474c-.093 0-.135.003-.189.009m0 .42v-.279c.06.006.093.009.189.009h.474c.096 0 .135-.003.186-.009v.279a1.52 1.52 0 0 0-.189-.009h-.471c-.09 0-.135.003-.189.009m2.649.141h-.321v-.321h-1.128v.321h-.303a1.74 1.74 0 0 0 .012-.222v-.177c0-.105-.003-.156-.012-.216.033.003.123.006.273.009h1.182c.141 0 .213-.003.294-.012-.006.06-.009.117-.009.213v.192c0 .09.003.153.012.213m-.852-.204h.339a1.064 1.064 0 0 0-.018.213v.576c0 .06.021.072.123.072.087 0 .123-.018.135-.072.012-.045.021-.174.024-.348.123.06.201.09.291.108-.024.315-.045.426-.096.498-.054.075-.156.105-.366.105-.336 0-.417-.048-.417-.246v-.693c0-.093-.003-.153-.015-.213m1.536-1.035-.015-.351c.069.012.144.015.303.015.18 0 .447-.012.558-.027a.227.227 0 0 0 .12-.036l.237.204a.448.448 0 0 0-.063.126c-.015.036-.198.588-.225.681.234.033.435.09.663.189.024-.153.03-.276.03-.555a.9.9 0 0 0-.012-.159l.378.015a.973.973 0 0 0-.018.201 4.998 4.998 0 0 1-.054.636c.096.048.228.117.321.171.081.048.093.051.138.072l-.135.396a3.063 3.063 0 0 0-.414-.279 1.417 1.417 0 0 1-.327.528 1.738 1.738 0 0 1-.453.339 1.09 1.09 0 0 0-.273-.27c.225-.108.342-.186.465-.315.12-.129.219-.291.267-.444a2.29 2.29 0 0 0-.675-.207c-.132.396-.21.588-.297.738-.111.192-.246.285-.411.285-.276 0-.48-.243-.48-.57 0-.276.135-.51.372-.657.156-.096.315-.135.567-.144.078-.237.114-.351.189-.627-.153.012-.225.015-.519.027a2.333 2.333 0 0 0-.237.018m.474.897c-.201.03-.306.078-.399.18a.422.422 0 0 0-.114.288c0 .123.066.222.147.222.057 0 .102-.054.171-.189.06-.12.132-.306.195-.501m3.39.969v.042c0 .156.006.249.018.324h-.351c.012-.096.018-.204.018-.324v-.279c-.3.09-.504.144-.639.171a1.68 1.68 0 0 0-.24.063l-.084-.342c.069-.003.12-.009.231-.03v-1.638a2.584 2.584 0 0 0-.201.012v-.324c.084.009.168.015.27.015h.915c.12 0 .186-.003.273-.015v.186c.054.003.117.006.192.006h.786c.081 0 .165-.006.243-.015a4.364 4.364 0 0 0-.021.189 3.532 3.532 0 0 1-.429 1.425c.168.231.306.357.579.528a1.687 1.687 0 0 0-.18.336c-.303-.219-.426-.336-.594-.567-.177.237-.318.366-.603.57a1.278 1.278 0 0 0-.183-.333m0-2.013v2.007c.291-.177.414-.288.6-.528a2.823 2.823 0 0 1-.222-.537c-.066-.222-.096-.381-.138-.759-.057.003-.078.006-.126.012v-.192c-.03-.003-.048-.003-.114-.003m1.077.18h-.531c.06.489.114.69.249.984.138-.273.213-.54.282-.984m-1.809-.18v.33h.417v-.33zm0 .597v.321h.417v-.321zm0 .594v.387c.198-.039.219-.042.417-.096v-.291zm3.012-1.536.381.021c-.036.102-.051.18-.108.579a3.784 3.784 0 0 0-.039.3h.009c.006-.018.006-.018.018-.066.03-.105.108-.252.189-.357.165-.204.351-.306.57-.306.204 0 .384.096.513.27.15.201.216.444.216.798 0 .579-.27 1.011-.774 1.233a2.558 2.558 0 0 1-.588.168 1.148 1.148 0 0 0-.177-.354c.3-.033.474-.078.657-.171.348-.177.507-.462.507-.918 0-.432-.144-.672-.402-.672-.114 0-.219.051-.324.159a1.438 1.438 0 0 0-.378.969v.063l-.36.006c.003-.018.003-.033.003-.039v-.057a7.911 7.911 0 0 1 .033-1.152l.045-.372c.006-.051.009-.063.009-.102m4.455.822.303-.15c.207.285.363.609.45.954l-.342.171c-.06-.315-.246-.756-.411-.975m-.882-.66-.006.039c-.015.087-.036.21-.066.372-.009.051-.009.051-.018.09.09-.003.132-.006.186-.006.198 0 .345.054.444.159.102.114.141.258.141.531 0 .516-.087.927-.231 1.092-.084.099-.174.135-.333.135a1.39 1.39 0 0 1-.462-.09c.003-.057.006-.102.006-.132 0-.078-.006-.138-.03-.255.162.072.333.12.438.12.087 0 .135-.057.18-.204.048-.156.078-.429.078-.684 0-.276-.069-.357-.3-.357-.063 0-.111.003-.18.009-.147.615-.282.978-.612 1.632l-.348-.192c.231-.315.462-.855.603-1.413-.045.006-.045.006-.141.024l-.273.045a1.232 1.232 0 0 0-.123.03l-.036-.354c.135-.003.291-.018.639-.063.057-.333.078-.504.078-.606v-.054l.39.039a.698.698 0 0 0-.024.093m.696.021.21-.105c.132.141.213.255.315.441l-.21.111a2.025 2.025 0 0 0-.315-.447m.882.141-.207.117a2.21 2.21 0 0 0-.306-.435l.201-.105c.135.138.219.252.312.423m1.47-.087v-.072c0-.087-.006-.156-.018-.219h.369a1.118 1.118 0 0 0-.015.219v.072h.831c.153 0 .231-.003.333-.012a1.551 1.551 0 0 0-.012.228v.246c0 .096.003.165.012.231h-.324v-.399h-1.953v.399h-.327c.009-.069.015-.135.015-.234v-.243c0-.099-.003-.159-.012-.228.096.009.18.012.327.012zm-.36 1.344h-.423c-.147 0-.237.006-.321.018v-.327c.081.015.168.018.321.018h1.965c.15 0 .234-.003.318-.018v.327a2.246 2.246 0 0 0-.318-.018h-.552v.684c0 .072.039.084.288.084.222 0 .291-.018.312-.081a.989.989 0 0 0 .027-.255v-.051c.129.057.183.072.309.093-.012.3-.048.432-.138.507-.084.072-.21.09-.594.09-.45 0-.537-.042-.537-.258v-.813h-.33c-.024.279-.057.402-.153.57-.147.258-.339.39-.822.576a1.47 1.47 0 0 0-.183-.309c.252-.075.342-.111.456-.174a.683.683 0 0 0 .354-.501c.009-.048.012-.078.021-.162m-.315-.513v-.321c.081.012.15.015.285.015h1.176c.135 0 .204-.003.288-.015v.321a1.888 1.888 0 0 0-.288-.015h-1.176c-.132 0-.204.003-.285.015m4.566-.663h-1.497a3.38 3.38 0 0 0-.411.021v-.357c.114.012.234.018.408.018h1.533c.159 0 .258-.006.327-.015l.204.231c-.057.057-.066.066-.12.114a4.514 4.514 0 0 1-.954.738v1.218c0 .219-.111.294-.444.294-.114 0-.153-.003-.423-.018a1.455 1.455 0 0 0-.087-.354c.198.033.336.045.471.045.105 0 .135-.015.135-.072v-1.122c0-.123-.006-.216-.015-.3h.267a2.6 2.6 0 0 0 .606-.441m1.416-.33.42.006a2.742 2.742 0 0 0-.036.405c-.012.279-.03.888-.03 1.101 0 .285.018.393.078.483.069.099.213.156.402.156.324 0 .585-.183.726-.513.066-.156.105-.297.138-.504.162.132.216.165.363.231-.12.405-.21.6-.357.765-.225.255-.522.381-.9.381a.978.978 0 0 1-.525-.132c-.207-.138-.294-.369-.294-.771 0-.156.006-.456.024-1.209.003-.09.003-.153.003-.195 0-.084-.003-.126-.012-.204m5.085 2.079-.204.351a2.024 2.024 0 0 0-.555-.411c-.066-.036-.09-.045-.162-.075v.033c0 .189-.054.318-.168.405-.114.087-.276.129-.495.129-.438 0-.69-.171-.69-.468 0-.327.297-.519.801-.519.072 0 .123.003.201.012 0-.036 0-.036-.003-.072v-.066c-.003-.042-.003-.042-.006-.162-.144.003-.237.006-.3.006-.183 0-.294-.003-.543-.021-.039-.003-.069-.003-.114-.003l.006-.324c.129.03.414.051.699.051.06 0 .162-.003.246-.006 0-.027 0-.129-.003-.3-.096.003-.144.003-.189.003-.147 0-.534-.015-.735-.03-.033-.003-.057-.003-.066-.003h-.048l.003-.333c.153.039.462.063.807.063.048 0 .15-.003.225-.006-.003-.3-.003-.303-.015-.378h.381c-.015.081-.018.12-.021.366.408-.024.669-.057.864-.114l.015.333c-.066.003-.066.003-.237.027a6.693 6.693 0 0 1-.645.06c.003.075.003.111.006.297.15-.009.15-.009.426-.039.189-.024.237-.03.372-.066l.009.33a3.16 3.16 0 0 0-.195.021c-.045.006-.18.021-.405.042a9.128 9.128 0 0 1-.204.012l.012.363c.264.078.498.195.822.423.051.033.066.045.108.069m-1.266-.231a1.053 1.053 0 0 0-.249-.027c-.243 0-.39.078-.39.207 0 .111.129.18.342.18.126 0 .219-.036.261-.096a.38.38 0 0 0 .036-.192zm2.181-1.848.42.006a2.742 2.742 0 0 0-.036.405c-.012.279-.03.888-.03 1.101 0 .285.018.393.078.483.069.099.213.156.402.156.324 0 .585-.183.726-.513.066-.156.105-.297.138-.504.162.132.216.165.363.231-.12.405-.21.6-.357.765-.225.255-.522.381-.9.381a.978.978 0 0 1-.525-.132c-.207-.138-.294-.369-.294-.771 0-.156.006-.456.024-1.209.003-.09.003-.153.003-.195 0-.084-.003-.126-.012-.204m2.667.753.006-.348c.108.018.228.027.402.027.036 0 .069 0 .138-.003.027-.144.057-.375.057-.459 0-.012 0-.03-.003-.054l.396.036c-.021.069-.021.069-.057.288l-.03.171a2.49 2.49 0 0 0 .513-.09l.015.345-.096.015a4.09 4.09 0 0 1-.492.063 10.171 10.171 0 0 1-.522 1.77l-.378-.147c.207-.381.438-1.08.537-1.614-.021.003-.033.003-.039.003h-.174c-.015 0-.045 0-.096-.003-.054-.003-.096-.003-.12-.003-.015 0-.03 0-.057.003m2.379.066.006.357a3.123 3.123 0 0 0-.378-.021c-.297 0-.495.021-.792.087l-.027-.33c.426-.081.57-.096.894-.096.081 0 .108 0 .297.003m-1.182.63.297.12c-.12.15-.156.225-.156.33 0 .153.15.231.45.231.219 0 .507-.048.681-.111l.027.369a1.914 1.914 0 0 0-.147.021 3.491 3.491 0 0 1-.558.048c-.267 0-.459-.039-.603-.12a.433.433 0 0 1-.213-.369c0-.159.057-.294.222-.519"})),Kh||(Kh=r.createElement("g",{fill:"#333",opacity:.8},r.createElement("path",{d:"M122.505 27.124a8.93 8.93 0 0 0-.11.13.736.736 0 0 0-.085.11c-.1.163-.22.34-.36.53-.14.19-.294.382-.46.575-.167.19-.34.371-.52.545-.18.17-.36.322-.54.455l-.605-.565c.146-.1.286-.212.42-.335a5.545 5.545 0 0 0 .69-.765c.096-.127.176-.247.24-.36H118.7c-.067 0-.142.003-.225.01a4.6 4.6 0 0 0-.23.015 1.96 1.96 0 0 0-.16.02v-.85l.175.025c.076.01.155.018.235.025.08.003.148.005.205.005h2.655c.23 0 .413-.022.55-.065zm-2.795 2.41a9.757 9.757 0 0 0-.245-.235 7.28 7.28 0 0 0-.285-.26 6.44 6.44 0 0 0-.285-.25 4.837 4.837 0 0 0-.26-.2l.64-.52c.073.053.155.117.245.19a31.764 31.764 0 0 1 .59.495 8.81 8.81 0 0 1 .655.625c.12.123.235.245.345.365.113.12.211.232.295.335l-.715.57a5.749 5.749 0 0 0-.28-.345c-.11-.13-.227-.263-.35-.4-.124-.137-.24-.26-.35-.37m3.21-1.29c.456-.117.865-.25 1.225-.4.36-.15.68-.31.96-.48.17-.104.345-.227.525-.37.18-.143.35-.29.51-.44.16-.153.291-.293.395-.42l.655.625a8.696 8.696 0 0 1-1.12.92 9.512 9.512 0 0 1-.6.39c-.194.11-.409.223-.645.34a9.925 9.925 0 0 1-1.53.6zm2.065-.49.87-.19v2.235a6.342 6.342 0 0 0 .02.53.949.949 0 0 0 .03.195h-.96a4.585 4.585 0 0 0 .035-.46c.003-.097.005-.185.005-.265zm4.807-.86c0-.087-.007-.19-.02-.31a1.66 1.66 0 0 0-.055-.325h.96a2.714 2.714 0 0 0-.035.33c-.007.127-.01.23-.01.31v.95c0 .27-.02.53-.06.78-.037.25-.107.491-.21.725a2.45 2.45 0 0 1-.44.655c-.19.206-.437.403-.74.59l-.755-.56c.28-.127.508-.27.685-.43.177-.16.315-.334.415-.52.1-.19.168-.388.205-.595.04-.21.06-.425.06-.645v-.665zm-1.81.44.29.03c.107.006.213.01.32.01H131.642c.133 0 .253-.003.36-.01l.25-.025v.83a3.527 3.527 0 0 0-.27-.015 6.034 6.034 0 0 0-.345-.01H128.612c-.117 0-.228.003-.335.01a37.52 37.52 0 0 0-.295.02zm5.84-.95c.087.06.188.135.305.225.117.086.237.181.36.285.127.1.245.2.355.3.113.097.207.185.28.265l-.62.635a4.755 4.755 0 0 0-.255-.255 7.595 7.595 0 0 0-.335-.305 8.676 8.676 0 0 0-.665-.535zm-.74 3.32a5.417 5.417 0 0 0 1.87-.61 4.958 4.958 0 0 0 1.465-1.285c.187-.244.335-.482.445-.715l.47.855c-.133.236-.298.47-.495.7a5.567 5.567 0 0 1-.665.645 6.006 6.006 0 0 1-1.335.835 5.37 5.37 0 0 1-.61.225c-.21.067-.42.117-.63.15zm8.435-3.48c.043.06.088.133.135.22.05.083.097.166.14.25.047.083.085.155.115.215l-.475.2c-.053-.104-.115-.22-.185-.35a2.865 2.865 0 0 0-.2-.345zm.615-.24a10.525 10.525 0 0 1 .395.68l-.47.2a6.583 6.583 0 0 0-.185-.35 3.32 3.32 0 0 0-.21-.34zm-3.665 2.695a7.263 7.263 0 0 0 .4-1.425c.03-.167.052-.333.065-.5l.885.185-.05.195a7.86 7.86 0 0 0-.055.215l-.03.165a7.591 7.591 0 0 1-.175.71c-.037.133-.075.267-.115.4a7.58 7.58 0 0 1-.33.88c-.083.18-.172.351-.265.515-.09.163-.177.305-.26.425l-.855-.36a5.37 5.37 0 0 0 .445-.685c.14-.254.253-.494.34-.72m2.47-.055a9.042 9.042 0 0 0-.165-.43 17.191 17.191 0 0 0-.385-.9 5.646 5.646 0 0 0-.175-.35l.81-.26c.053.1.113.221.18.365.07.14.138.29.205.45a22.138 22.138 0 0 1 .36.855c.04.107.085.235.135.385a14.74 14.74 0 0 1 .31.95c.05.157.092.3.125.43l-.905.295a16.811 16.811 0 0 0-.15-.625 12.58 12.58 0 0 0-.16-.6 8.015 8.015 0 0 0-.185-.565m2.07-.76.255.015a10.58 10.58 0 0 0 .61.02H146.527c.113 0 .225-.005.335-.015.113-.01.207-.017.28-.02v.955l-.28-.015a4.057 4.057 0 0 0-.335-.015h-2.655a17.052 17.052 0 0 0-.865.03zm7.3-1.655a10.98 10.98 0 0 0-.035.47c-.013.49-.053.928-.12 1.315a4.69 4.69 0 0 1-.285 1.035 3.192 3.192 0 0 1-.5.825 3.899 3.899 0 0 1-.745.685l-.705-.57c.117-.067.24-.145.37-.235.133-.094.257-.2.37-.32.167-.174.302-.359.405-.555.107-.197.188-.405.245-.625a4.24 4.24 0 0 0 .115-.715 9.26 9.26 0 0 0 .035-.825 3.15 3.15 0 0 0-.02-.33 2.686 2.686 0 0 0-.02-.155zm1.675 1.09-.025.15c-.007.056-.01.098-.01.125-.003.113-.01.255-.02.425-.007.167-.018.347-.035.54-.013.19-.032.38-.055.57-.02.19-.045.366-.075.53a2.14 2.14 0 0 1-.11.4.64.64 0 0 1-.25.315c-.11.076-.26.115-.45.115a6.63 6.63 0 0 1-.45-.015 22.95 22.95 0 0 1-.395-.03l-.095-.81c.117.023.235.041.355.055.123.013.232.02.325.02.087 0 .148-.015.185-.045a.313.313 0 0 0 .09-.14 1.37 1.37 0 0 0 .065-.23c.02-.097.037-.205.05-.325.017-.123.03-.252.04-.385.013-.134.022-.264.025-.39a6.7 6.7 0 0 0 .01-.36h-2.33c-.077 0-.185.002-.325.005-.137.003-.263.01-.38.02v-.79a6.77 6.77 0 0 0 .705.04h2.225a2.14 2.14 0 0 0 .415-.04zm1.025.565.255.015a10.58 10.58 0 0 0 .61.02H156.527c.113 0 .225-.005.335-.015.113-.01.207-.017.28-.02v.955l-.28-.015a4.057 4.057 0 0 0-.335-.015h-2.655a17.052 17.052 0 0 0-.865.03zm8.05-1.39c.05.073.103.155.16.245.057.09.11.18.16.27.053.087.098.168.135.245l-.515.225a4.957 4.957 0 0 0-.44-.775zm.685-.285c.053.07.108.148.165.235.06.087.117.173.17.26.053.086.098.166.135.24l-.5.245a4.43 4.43 0 0 0-.465-.75zm-2.81 3.65V26.984c0-.1-.005-.21-.015-.33a2.55 2.55 0 0 0-.045-.32h.945l-.035.305c-.01.11-.015.225-.015.345V29.839c0 .043.002.112.005.205.007.09.015.185.025.285l.025.265h-.95c.017-.107.03-.234.04-.38.013-.147.02-.272.02-.375m.655-2.22c.167.043.355.1.565.17a17.412 17.412 0 0 1 1.23.44c.187.073.337.138.45.195l-.345.845a5.918 5.918 0 0 0-.46-.215c-.163-.073-.33-.143-.5-.21a8.46 8.46 0 0 0-.495-.19c-.16-.06-.308-.113-.445-.16zm6.025-.79a21.82 21.82 0 0 1-.135.81 7.928 7.928 0 0 1-.225.9 4.604 4.604 0 0 1-.345.875 1.94 1.94 0 0 1-.45.585.81.81 0 0 1-.54.21.874.874 0 0 1-.56-.2 1.423 1.423 0 0 1-.39-.55 2.076 2.076 0 0 1-.14-.775c0-.297.06-.577.18-.84.12-.267.287-.502.5-.705a2.36 2.36 0 0 1 .75-.48c.287-.117.597-.175.93-.175.32 0 .607.051.86.155a1.871 1.871 0 0 1 1.075 1.07c.097.243.145.506.145.79 0 .35-.07.667-.21.95-.14.28-.352.515-.635.705-.283.186-.642.317-1.075.39l-.46-.72c.107-.014.197-.027.27-.04l.22-.05c.16-.04.305-.097.435-.17.13-.073.242-.163.335-.27.093-.107.165-.229.215-.365.05-.14.075-.292.075-.455 0-.194-.028-.369-.085-.525a1.062 1.062 0 0 0-.64-.665 1.506 1.506 0 0 0-.54-.09c-.26 0-.488.047-.685.14a1.57 1.57 0 0 0-.78.815 1.272 1.272 0 0 0-.05.82c.03.096.068.17.115.22a.23.23 0 0 0 .165.075c.067 0 .128-.034.185-.1a1.02 1.02 0 0 0 .17-.295c.057-.134.115-.297.175-.49.077-.237.142-.492.195-.765.053-.277.092-.547.115-.81zm-46.012 8.03h2.875v1.01h-.67v-.45h-1.565v.45h-.64zm1.53.755h.67v1.3c0 .08.003.13.01.15.006.017.023.025.05.025h.09c.023 0 .04-.014.05-.04a.666.666 0 0 0 .03-.18 9.99 9.99 0 0 0 .015-.405c.043.037.1.073.17.11.07.033.143.063.22.09.076.026.143.048.2.065a2.617 2.617 0 0 1-.095.6c-.047.143-.112.243-.195.3a.56.56 0 0 1-.32.085H121.735c-.167 0-.294-.025-.38-.075a.397.397 0 0 1-.18-.25 1.96 1.96 0 0 1-.045-.47zm-.9-.005h.67c-.007.26-.025.498-.055.715a2.234 2.234 0 0 1-.155.595 1.437 1.437 0 0 1-.325.475c-.144.14-.334.262-.57.365a1.465 1.465 0 0 0-.105-.205 2.523 2.523 0 0 0-.155-.215 1.17 1.17 0 0 0-.155-.17c.193-.073.345-.158.455-.255a.906.906 0 0 0 .25-.335c.053-.127.088-.27.105-.43.02-.16.033-.34.04-.54m-.55-2.29h2.75v.585h-2.75zm.165.79h2.435v.58h-2.435zm.81-1.125h.72v1.42h-.72zm-2.625 1.55h1.42v.54h-1.42zm.03-1.4h1.375v.54h-1.375zm-.03 2.09h1.42v.54h-1.42zm-.23-1.405h1.805v.565H117.8zm.56 2.11h1.105v1.545h-1.105v-.56h.515v-.425h-.515zm-.35 0h.585v1.735h-.585zm5.705-2.515.23.02c.086.003.156.005.21.005h.25l.27-.01.265-.01c.086-.007.16-.012.22-.015.07-.007.14-.017.21-.03.073-.017.135-.035.185-.055l.48.375-.11.12a.543.543 0 0 0-.08.11 4.379 4.379 0 0 0-.2.395c-.074.163-.15.34-.23.53l-.235.545-.155.36c-.05.123-.102.245-.155.365l-.155.335c-.05.103-.1.195-.15.275a1.184 1.184 0 0 1-.365.37.977.977 0 0 1-.5.12.826.826 0 0 1-.595-.23c-.16-.153-.24-.37-.24-.65 0-.207.046-.398.14-.575.093-.18.225-.337.395-.47.17-.133.37-.237.6-.31.233-.074.486-.11.76-.11.296 0 .581.035.855.105.276.066.533.151.77.255.236.103.45.212.64.325.19.11.35.208.48.295l-.35.845a5.598 5.598 0 0 0-1.11-.785 3.262 3.262 0 0 0-.67-.26 2.72 2.72 0 0 0-.74-.1c-.224 0-.415.035-.575.105a.9.9 0 0 0-.365.255.471.471 0 0 0-.125.305c0 .066.015.117.045.15.033.033.073.05.12.05a.19.19 0 0 0 .12-.04.715.715 0 0 0 .115-.13 2.29 2.29 0 0 0 .11-.195l.115-.245.12-.275a6.42 6.42 0 0 1 .125-.285c.056-.127.113-.259.17-.395.06-.14.116-.275.17-.405.056-.13.108-.242.155-.335-.05 0-.107.002-.17.005-.064 0-.13.002-.2.005a47.626 47.626 0 0 0-.39.02 4.38 4.38 0 0 0-.205.02 3.173 3.173 0 0 0-.225.025zm3.385 1.23c-.02.353-.057.68-.11.98-.05.296-.132.568-.245.815-.11.246-.264.471-.46.675-.194.2-.442.38-.745.54l-.65-.525c.316-.137.568-.292.755-.465a1.938 1.938 0 0 0 .6-1.075c.033-.17.055-.317.065-.44.006-.11.01-.217.01-.32 0-.104-.005-.195-.015-.275zm3.195-1.04h1.625v.71h-1.625zm-2.42-.35h2.57v.67h-2.57zm.7 1.04h1.15v.645h-1.15zm0 1.04h1.15v.645h-1.15zm3.15-1.73h.125l.125-.02.475.115a8.697 8.697 0 0 1-.32 1.795 4.431 4.431 0 0 1-.625 1.32c-.264.367-.59.672-.98.915a2.927 2.927 0 0 0-.22-.32 1.746 1.746 0 0 0-.255-.275c.333-.177.615-.428.845-.755.233-.327.418-.712.555-1.155.14-.447.231-.935.275-1.465zm-.77.72c.076.403.186.787.33 1.15.143.36.325.682.545.965.22.28.483.507.79.68-.054.043-.114.1-.18.17a4.306 4.306 0 0 0-.18.22 2.084 2.084 0 0 0-.14.21 3.245 3.245 0 0 1-.875-.805 4.516 4.516 0 0 1-.59-1.1 9.436 9.436 0 0 1-.395-1.355zm-2.76-.79h.69v3.285h-.69zm1.255 0h.7v4.21h-.7zm-1.7 3 .565-.06.665-.085c.236-.034.47-.065.7-.095l.04.66a66.817 66.817 0 0 1-1.835.305zm6.795-3.325c-.014.043-.029.1-.045.17l-.055.225a2.586 2.586 0 0 0-.085.445c.066-.08.14-.157.22-.23.08-.074.168-.14.265-.2a1.358 1.358 0 0 1 .685-.195c.24 0 .456.073.65.22.196.147.351.357.465.63.116.27.175.593.175.97 0 .356-.052.67-.155.94-.104.27-.254.502-.45.695a2.339 2.339 0 0 1-.705.475 4.035 4.035 0 0 1-.925.28l-.46-.705c.28-.044.535-.1.765-.17.23-.074.426-.172.59-.295.166-.123.293-.283.38-.48.09-.197.135-.444.135-.74a2.06 2.06 0 0 0-.08-.625.763.763 0 0 0-.215-.365.46.46 0 0 0-.315-.12.653.653 0 0 0-.405.145c-.127.096-.24.221-.34.375-.097.153-.174.32-.23.5-.054.176-.08.348-.08.515a3.965 3.965 0 0 0 .03.48l-.745.05a5.353 5.353 0 0 1-.065-.855c0-.117.003-.239.01-.365a14.26 14.26 0 0 1 .065-.8c.016-.144.035-.287.055-.43a5.907 5.907 0 0 0 .04-.575zM120.022 41.684l-.04.045-.032.042a2.955 2.955 0 0 1-.173.255 3.613 3.613 0 0 1-.225.28 3.8 3.8 0 0 1-.267.28c-.095.09-.195.173-.3.248l-.198-.178a2.47 2.47 0 0 0 .263-.21 3.44 3.44 0 0 0 .415-.46c.053-.073.096-.139.127-.197h-1.405a2.102 2.102 0 0 0-.2.007.596.596 0 0 0-.07.008v-.28a3.349 3.349 0 0 0 .178.017l.092.003H119.632a.639.639 0 0 0 .193-.023zm-1.237 1.19a8.064 8.064 0 0 0-.133-.123 3.035 3.035 0 0 0-.152-.137c-.054-.047-.104-.09-.153-.13a1.5 1.5 0 0 0-.125-.095l.205-.168c.032.022.07.052.115.09.047.037.097.078.15.123a5.818 5.818 0 0 1 .315.277l.168.17a7.778 7.778 0 0 1 .302.333l-.23.185a4.32 4.32 0 0 0-.295-.345 6.402 6.402 0 0 0-.167-.18m1.58-.543a3.889 3.889 0 0 0 1.09-.46 3.276 3.276 0 0 0 .695-.595l.21.2a4.077 4.077 0 0 1-1.108.798 5.49 5.49 0 0 1-.765.305zm1.045-.33.277-.072v1.242l.005.108c.004.033.008.059.013.077h-.31l.007-.077a.914.914 0 0 0 .005-.108l.003-.11zm2.398-.422a1.506 1.506 0 0 0-.027-.27h.315a1.682 1.682 0 0 0-.018.27v.512c0 .137-.011.266-.035.388a1.287 1.287 0 0 1-.117.345 1.167 1.167 0 0 1-.215.297c-.09.092-.202.178-.335.258l-.245-.183c.123-.058.228-.125.315-.2a1.014 1.014 0 0 0 .325-.555c.025-.11.037-.226.037-.35v-.352zm-.95.292a1.48 1.48 0 0 0 .253.015H124.698c.049 0 .095 0 .14-.002l.1-.01v.27a3.888 3.888 0 0 0-.242-.008h-1.58a3.813 3.813 0 0 0-.258.01zm2.85-.47a2.7 2.7 0 0 1 .155.113 8.938 8.938 0 0 1 .353.285c.055.046.099.088.132.125l-.197.202a2.97 2.97 0 0 0-.468-.412 2.322 2.322 0 0 0-.157-.118zm-.257 1.673a2.65 2.65 0 0 0 .982-.35 2.17 2.17 0 0 0 .368-.283c.113-.106.212-.216.297-.33.085-.113.153-.223.203-.33l.152.273c-.06.108-.134.216-.222.325a2.524 2.524 0 0 1-.655.58 2.986 2.986 0 0 1-.595.28c-.113.038-.234.069-.363.092zm4.105-1.778a3.93 3.93 0 0 1 .2.343l-.163.07a2.996 2.996 0 0 0-.095-.175 1.497 1.497 0 0 0-.105-.17zm.282-.107c.022.032.045.068.07.11a4.136 4.136 0 0 1 .138.23l-.163.072a2.737 2.737 0 0 0-.205-.345zm-1.695 1.312c.027-.068.053-.14.078-.217a3.327 3.327 0 0 0 .127-.485c.017-.082.03-.16.038-.235l.282.057-.017.073-.02.075a3.258 3.258 0 0 1-.1.42c-.02.07-.042.141-.065.215a3.255 3.255 0 0 1-.303.682c-.045.079-.09.15-.135.215l-.272-.115c.078-.103.152-.216.22-.34.068-.125.124-.24.167-.345m1.233-.077a5.026 5.026 0 0 0-.085-.208 6.852 6.852 0 0 0-.095-.22 4.293 4.293 0 0 0-.183-.377l.258-.085.085.167a10.303 10.303 0 0 1 .282.635c.024.06.049.128.075.203.029.075.056.152.083.232a5.308 5.308 0 0 1 .137.43l-.285.093a4.509 4.509 0 0 0-.077-.288 11.542 11.542 0 0 0-.195-.582m.992-.275.103.007.132.005.138.003H132.101a2.38 2.38 0 0 0 .28-.015v.31a47.195 47.195 0 0 1-.12-.008 2.446 2.446 0 0 0-.16-.005H130.741c-.068 0-.137.002-.205.005a3.25 3.25 0 0 0-.168.008zm3.553-.868-.008.105-.005.105c-.008.254-.03.476-.067.668a2.25 2.25 0 0 1-.155.505 1.526 1.526 0 0 1-.245.385c-.097.11-.21.21-.34.302l-.23-.187a1.288 1.288 0 0 0 .287-.21c.08-.075.15-.16.21-.253s.11-.197.15-.312c.042-.117.074-.248.095-.395a3.411 3.411 0 0 0 .03-.565.694.694 0 0 0-.015-.148zm.862.525-.01.068-.007.06-.008.197c-.003.082-.009.171-.017.268a5.421 5.421 0 0 1-.068.552.85.85 0 0 1-.057.195.257.257 0 0 1-.108.128.338.338 0 0 1-.182.042 4.538 4.538 0 0 1-.408-.017l-.03-.263c.065.009.129.016.19.023.064.005.121.007.173.007a.194.194 0 0 0 .09-.017.135.135 0 0 0 .052-.068.65.65 0 0 0 .045-.145 3.514 3.514 0 0 0 .055-.442c.007-.082.011-.158.013-.23.003-.074.005-.138.005-.193h-1.275a4.967 4.967 0 0 0-.305.01v-.26l.152.01c.054.004.105.005.153.005h1.2c.033 0 .064 0 .092-.002a.993.993 0 0 0 .08-.013zm.585.343.103.007.132.005.138.003H137.101a2.38 2.38 0 0 0 .28-.015v.31a47.195 47.195 0 0 1-.12-.008 2.446 2.446 0 0 0-.16-.005H135.741c-.068 0-.137.002-.205.005a3.25 3.25 0 0 0-.168.008zm3.925-.71a2.394 2.394 0 0 1 .228.378l-.175.077a2.721 2.721 0 0 0-.14-.263 1.583 1.583 0 0 0-.08-.12zm.315-.13c.024.03.05.067.078.11a4.682 4.682 0 0 1 .157.257l-.172.085a1.572 1.572 0 0 0-.073-.135 2.62 2.62 0 0 0-.157-.24zm-1.242 1.76v-1.445c0-.04-.003-.086-.008-.138a1.31 1.31 0 0 0-.015-.142h.308l-.013.137c-.005.05-.007.098-.007.143V42.419c.002.1.002.195.002.285V43.164l.008.117c.005.04.008.076.01.108h-.305c.005-.045.009-.098.012-.158.005-.06.008-.114.008-.162m.21-1.073c.082.024.172.053.272.088a7.909 7.909 0 0 1 .84.33l-.11.27a3.65 3.65 0 0 0-.237-.113 5.564 5.564 0 0 0-.535-.215 7.73 7.73 0 0 0-.23-.077zm2.99-.442a7.566 7.566 0 0 1-.065.407 3.35 3.35 0 0 1-.103.423c-.05.17-.106.314-.17.432a.88.88 0 0 1-.202.268.357.357 0 0 1-.233.092.368.368 0 0 1-.232-.085.626.626 0 0 1-.175-.242.92.92 0 0 1-.068-.365c0-.14.029-.273.085-.398a1.116 1.116 0 0 1 .595-.56 1.15 1.15 0 0 1 .438-.082c.15 0 .285.024.405.072a.882.882 0 0 1 .507.503 1 1 0 0 1 .068.367c0 .175-.037.331-.11.468a.87.87 0 0 1-.318.332c-.14.085-.311.143-.515.173l-.147-.235.12-.015.102-.02a.925.925 0 0 0 .228-.085.776.776 0 0 0 .195-.145.684.684 0 0 0 .182-.48c0-.1-.015-.193-.047-.278a.626.626 0 0 0-.368-.372.8.8 0 0 0-.305-.055.853.853 0 0 0-.805.52.702.702 0 0 0-.022.502.329.329 0 0 0 .087.138c.035.03.071.045.108.045.037 0 .074-.018.112-.055a.626.626 0 0 0 .115-.18 3.191 3.191 0 0 0 .213-.695c.027-.137.046-.27.057-.4zm2.237.382h1.033v.238h-1.033zm-1.057 1.18h2.262v.238h-2.262zm.922-1.927h.253v2.055h-.253zm2.588.36c.073.011.156.02.247.025.094.005.19.007.288.005.098-.002.192-.005.282-.01a3.34 3.34 0 0 0 .233-.02v.255a6.829 6.829 0 0 1-.243.017 7.632 7.632 0 0 1-.56 0 6.796 6.796 0 0 1-.245-.017zm.142 1.04-.025.117a.74.74 0 0 0-.007.105c0 .029.006.055.017.08a.189.189 0 0 0 .063.065c.03.019.07.034.12.045.052.01.115.015.19.015.113 0 .219-.005.317-.015.1-.011.202-.029.305-.052l.005.267a2.972 2.972 0 0 1-.632.05c-.212 0-.368-.034-.47-.102a.333.333 0 0 1-.15-.288c0-.045.003-.091.01-.14.007-.05.017-.105.032-.167zm-.577-1.22-.02.06-.02.072-.013.058a21.4 21.4 0 0 1-.03.152l-.032.193-.03.21-.023.205a2.438 2.438 0 0 0-.007.182l.002.133.013.135a3.45 3.45 0 0 0 .09-.218l.042-.1.125.1-.07.205a6.012 6.012 0 0 0-.067.215 2.45 2.45 0 0 0-.04.163l-.01.06c-.003.021-.004.04-.003.055v.042l.005.05-.227.015a2.34 2.34 0 0 1-.065-.342 3.694 3.694 0 0 1 .015-1.028 9.897 9.897 0 0 1 .065-.435c.005-.031.009-.066.012-.102.005-.037.009-.072.01-.105zm3.842.212a.516.516 0 0 0-.072.13 4.055 4.055 0 0 1-.303.563 2.36 2.36 0 0 1-.2.265 3.395 3.395 0 0 1-.305.307c-.11.1-.226.193-.35.278-.123.083-.25.156-.382.217l-.203-.212a2.743 2.743 0 0 0 .743-.455 3.13 3.13 0 0 0 .285-.278 2.105 2.105 0 0 0 .307-.445c.042-.078.072-.15.09-.215h-.917c-.032 0-.067.002-.105.005a1.645 1.645 0 0 0-.103.008c-.03.002-.051.002-.065.002v-.282l.075.007.105.008c.037.002.068.002.093.002h.927a.992.992 0 0 0 .218-.025zm-.542.793a5.311 5.311 0 0 1 .425.398 6.87 6.87 0 0 1 .35.384l-.22.195a4.318 4.318 0 0 0-.213-.262 6.335 6.335 0 0 0-.525-.535zm3.277-.69-.04.045a1.61 1.61 0 0 0-.033.042 4.157 4.157 0 0 1-.665.815c-.095.09-.195.173-.3.248l-.197-.178c.093-.065.181-.135.262-.21a3.219 3.219 0 0 0 .415-.46c.054-.073.096-.139.128-.197h-1.405a2.112 2.112 0 0 0-.2.007.551.551 0 0 0-.07.008v-.28a2.806 2.806 0 0 0 .177.017l.093.003H152.008a.636.636 0 0 0 .192-.023zm-1.238 1.19a5.181 5.181 0 0 0-.132-.123 7.233 7.233 0 0 0-.305-.267 1.686 1.686 0 0 0-.125-.095l.205-.168a8.63 8.63 0 0 1 .58.49 16.765 16.765 0 0 1 .335.348c.053.056.098.108.135.155l-.23.185a3.024 3.024 0 0 0-.128-.158 3.715 3.715 0 0 0-.167-.187 6.373 6.373 0 0 0-.168-.18m1.633-.725.102.007.133.005.137.003h1.36a2.433 2.433 0 0 0 .28-.015v.31a47.195 47.195 0 0 1-.12-.008 2.424 2.424 0 0 0-.16-.005H153.165c-.068 0-.136.002-.205.005a3.151 3.151 0 0 0-.167.008zm3.075.885v-1.445c0-.04-.002-.086-.005-.138a1.066 1.066 0 0 0-.018-.142h.308l-.013.137c-.003.052-.005.1-.005.143V43.034l.003.097c.001.039.004.078.007.118l.01.105h-.307a2.239 2.239 0 0 0 .02-.32m.21-1.073c.081.024.173.053.275.088.101.033.204.07.307.11a8.17 8.17 0 0 1 .533.22l-.113.272a5.564 5.564 0 0 0-.772-.33 7.73 7.73 0 0 0-.23-.077zm3.655-.36a.575.575 0 0 0-.025.07l-.02.075a3.88 3.88 0 0 1-.053.213c-.021.078-.048.159-.08.242a2.26 2.26 0 0 1-.105.245c-.04.079-.085.151-.135.218a1.961 1.961 0 0 1-.995.677l-.215-.235c.165-.04.308-.089.428-.147.12-.06.224-.128.312-.203.09-.076.169-.158.238-.245.058-.073.108-.155.15-.245.041-.09.076-.18.105-.27.028-.091.047-.175.057-.252h-1.227a4.379 4.379 0 0 0-.27.01v-.28a2.604 2.604 0 0 0 .18.017l.09.003h1.212l.075-.003a.646.646 0 0 0 .085-.015zm1.97.123a.578.578 0 0 0-.01.09v.095l.002.165.005.217.005.245.005.255.005.245a8.1 8.1 0 0 1 .003.21c0 .059-.02.105-.06.14a.224.224 0 0 1-.153.053 3.595 3.595 0 0 1-.255-.01 18.867 18.867 0 0 1-.117-.005l-.015-.228c.05.009.102.015.157.02.057.004.104.005.14.005.024 0 .04-.006.05-.02a.095.095 0 0 0 .015-.057l-.002-.17-.003-.218-.002-.237a11.129 11.129 0 0 0-.013-.61c-.001-.027-.004-.057-.007-.09a.91.91 0 0 0-.01-.095zm-1.16.352a1.218 1.218 0 0 0 .202.015h1.283a1.087 1.087 0 0 0 .182-.015v.245a1.303 1.303 0 0 0-.087-.002 1.779 1.779 0 0 0-.088-.003H160.75a2.29 2.29 0 0 0-.207.008zm-.085.963a2.873 2.873 0 0 0 .572-.372c.085-.074.16-.147.225-.218.065-.073.116-.142.153-.205h.127l.003.192c-.032.06-.08.126-.145.198a2.923 2.923 0 0 1-.485.43 2.162 2.162 0 0 1-.278.172zm2.675-1.638a4.228 4.228 0 0 1 .332.252c.062.05.12.1.175.146.055.047.099.088.133.125l-.198.202a1.972 1.972 0 0 0-.125-.12 3.476 3.476 0 0 0-.167-.147 3.808 3.808 0 0 0-.333-.263zm-.258 1.673c.14-.022.269-.05.388-.085a2.78 2.78 0 0 0 .595-.265 2.543 2.543 0 0 0 .665-.612c.085-.114.152-.224.202-.33l.153.272a2.663 2.663 0 0 1-.518.638c-.11.098-.23.187-.36.267a2.986 2.986 0 0 1-.595.28c-.113.038-.234.069-.362.092zm2.643-.903h1.4v.178h-1.16v1.127h-.24zm1.337 0h.243v1.055a.27.27 0 0 1-.028.138.156.156 0 0 1-.092.075.593.593 0 0 1-.173.03c-.07.003-.156.005-.257.005a.794.794 0 0 0-.078-.208l.138.005c.045.002.085.002.12 0h.07a.09.09 0 0 0 .045-.012c.008-.007.012-.019.012-.035zm-1.155.353h1.228v.17H165.7zm-.455-1.165h.748v.185h-.748zm-.062.482c.101-.013.223-.03.365-.052.143-.023.29-.046.44-.068l.01.175a48.898 48.898 0 0 1-.78.143zm.517 1.038h1.233v.17H165.7zm.148-1.728h.237v.95h-.237zm1.325.105.16.17a3.288 3.288 0 0 1-.238.083 6.066 6.066 0 0 1-.522.135.454.454 0 0 0-.028-.08.408.408 0 0 0-.037-.083 5.554 5.554 0 0 0 .475-.145 1.94 1.94 0 0 0 .19-.08m-.768-.105h.238v.643c0 .035.007.058.022.07.015.01.049.015.1.015h.34a.113.113 0 0 0 .063-.015c.015-.01.026-.03.032-.058a.746.746 0 0 0 .013-.132c.026.018.06.035.1.05a.807.807 0 0 0 .11.032.697.697 0 0 1-.045.198.19.19 0 0 1-.09.1.382.382 0 0 1-.16.027H166.735a.646.646 0 0 1-.202-.025.166.166 0 0 1-.1-.09.426.426 0 0 1-.028-.172zm2.038 1.11h.67v.188h-.67zm0 .43h.672v.188h-.672zm-.5.435h1.732v.218h-1.732zm-.148-1.317h2.008v1.665h-.24v-1.445h-1.538v1.445h-.23zm.543.142h.215v1.275h-.215zm.68 0h.215v1.268h-.215zm-.373-.537.278.06-.083.265c-.026.09-.052.167-.077.23l-.215-.058a3.355 3.355 0 0 0 .097-.498m-.957-.105h2.235v.225h-2.235zm-48.836 3.627h1.033v.238h-1.033zm-1.057 1.18h2.262v.238h-2.262zm.922-1.927h.253v2.055h-.253zm2.938.11h.742v.222h-.51v1.953h-.232zm-1.325.115h1.202v.207h-1.202zm-.06.695h1.295v.215h-1.295zm.545-.943h.23v.378h-.23zm-.335.535.197-.042c.027.06.05.127.07.2.02.072.034.134.04.187l-.207.048a1.618 1.618 0 0 0-.1-.392m.697-.055.225.05c-.026.072-.054.145-.082.218a1.932 1.932 0 0 1-.08.185l-.188-.048c.017-.036.033-.078.048-.125a3.32 3.32 0 0 0 .042-.147c.015-.05.027-.094.035-.133m-.667 1.485h.802v.208h-.802zm-.083-.61h1.01v.945h-.23v-.74h-.56v.75h-.22zm1.908-1.222h.045l.037-.008.175.108a13.131 13.131 0 0 1-.327.75c.078.076.137.15.177.22.042.07.07.136.085.2a.702.702 0 0 1-.005.395.258.258 0 0 1-.1.135.409.409 0 0 1-.167.06.928.928 0 0 1-.1.005h-.11a.762.762 0 0 0-.018-.118.392.392 0 0 0-.045-.117c.035.003.067.006.095.007a1.088 1.088 0 0 0 .133-.01.454.454 0 0 0 .047-.017.12.12 0 0 0 .05-.073.385.385 0 0 0 .015-.115.617.617 0 0 0-.062-.247.905.905 0 0 0-.233-.293 5.816 5.816 0 0 0 .248-.632l.06-.17zm1.52-.025a3.03 3.03 0 0 1-.118.41c-.028.07-.063.142-.105.215-.04.073-.081.14-.125.2a.684.684 0 0 1 .213-.065.658.658 0 0 1 .107-.01c.1 0 .184.029.253.087.068.057.102.14.102.248v.122l.003.153.002.157.003.135h-.238l.005-.11c.002-.043.003-.088.003-.135l.002-.135v-.115c-.001-.075-.024-.129-.067-.162a.244.244 0 0 0-.153-.05.528.528 0 0 0-.225.052.761.761 0 0 0-.19.128 2.315 2.315 0 0 0-.11.12l-.117.147-.215-.16c.115-.108.212-.211.292-.31.08-.098.146-.191.198-.28a1.653 1.653 0 0 0 .19-.462c.016-.072.026-.139.03-.2zm-.895.252a2.544 2.544 0 0 0 .43.028 9.475 9.475 0 0 0 .755-.033 4.09 4.09 0 0 0 .377-.05v.233a9.056 9.056 0 0 1-.885.07 15.55 15.55 0 0 1-.26.002h-.125a5.373 5.373 0 0 1-.147-.007 4.415 4.415 0 0 0-.145-.008zm1.942.65a1.91 1.91 0 0 0-.255.093c-.085.033-.184.073-.297.12-.112.046-.227.1-.345.162-.08.042-.149.084-.208.125a.606.606 0 0 0-.137.13.249.249 0 0 0-.048.148c0 .043.01.078.03.105a.2.2 0 0 0 .083.062c.036.014.08.024.13.03.051.005.109.008.172.008a4.077 4.077 0 0 0 .695-.065l-.007.252a8.215 8.215 0 0 1-.695.045c-.125 0-.238-.011-.338-.035a.491.491 0 0 1-.237-.12.326.326 0 0 1-.088-.242c0-.082.019-.155.055-.22a.736.736 0 0 1 .148-.18 1.42 1.42 0 0 1 .205-.148c.075-.045.149-.085.222-.122a5.909 5.909 0 0 1 .408-.193c.06-.025.116-.05.167-.075l.123-.052a5.6 5.6 0 0 0 .115-.058zm2.07-.75a2.203 2.203 0 0 0 .143.52c.04.092.091.184.152.275.064.092.143.181.238.268l-.163.225a2.26 2.26 0 0 1-.247-.333 2.853 2.853 0 0 1-.2-.402 5.446 5.446 0 0 1-.17-.483zm-1.6.13a2.515 2.515 0 0 0 .338-.015 6.752 6.752 0 0 0 .445-.067.982.982 0 0 0 .157-.043l.075.22a.643.643 0 0 0-.065.023.425.425 0 0 0-.065.027 1.462 1.462 0 0 0-.39.49 1.53 1.53 0 0 0-.1.26 1.077 1.077 0 0 0-.037.285.52.52 0 0 0 .037.21c.025.055.059.1.1.135a.44.44 0 0 0 .148.078.687.687 0 0 0 .177.022c.197 0 .348-.066.453-.197.106-.134.169-.32.187-.56a2.97 2.97 0 0 0-.072-.845l.23.4c.026.138.041.277.045.417.003.14-.009.273-.038.398a.998.998 0 0 1-.14.335.69.69 0 0 1-.262.23.885.885 0 0 1-.408.085.884.884 0 0 1-.277-.043.702.702 0 0 1-.225-.122.553.553 0 0 1-.153-.203.72.72 0 0 1-.052-.285c0-.11.011-.213.035-.31a1.527 1.527 0 0 1 .237-.517c.054-.077.109-.15.165-.218l-.13.018c-.048.005-.096.01-.142.017-.045.005-.082.01-.11.015a.872.872 0 0 0-.143.02zm1.83-.077c0 .041.014.077.043.107.03.029.066.043.107.043a.142.142 0 0 0 .105-.043.147.147 0 0 0 .045-.107.141.141 0 0 0-.045-.108.138.138 0 0 0-.105-.045.147.147 0 0 0-.107.045.143.143 0 0 0-.043.108m-.13 0c0-.053.013-.101.038-.143a.278.278 0 0 1 .1-.102.28.28 0 0 1 .142-.038c.052 0 .099.013.14.038.044.025.078.059.103.102a.273.273 0 0 1 0 .285.278.278 0 0 1-.103.1.264.264 0 0 1-.14.038.28.28 0 0 1-.242-.138.28.28 0 0 1-.038-.142m.985.76a4.799 4.799 0 0 0 .248-.062c.043-.016.099-.034.167-.056a5.236 5.236 0 0 1 .48-.122c.085-.015.165-.023.24-.023a.74.74 0 0 1 .33.07.533.533 0 0 1 .303.508.618.618 0 0 1-.08.315.703.703 0 0 1-.23.237c-.1.067-.222.12-.365.158-.142.04-.304.066-.485.077l-.105-.242c.138-.005.268-.018.39-.04.121-.022.228-.054.32-.098a.56.56 0 0 0 .217-.167.379.379 0 0 0 .08-.243.319.319 0 0 0-.05-.18.349.349 0 0 0-.137-.122.452.452 0 0 0-.208-.045c-.06 0-.127.007-.202.022a3.392 3.392 0 0 0-.463.138 9.676 9.676 0 0 0-.345.135zm3.258-.955c-.009.03-.018.067-.028.112l-.02.103-.042.21a7.538 7.538 0 0 1-.198.797 9.85 9.85 0 0 1-.21.615c-.035.094-.07.176-.105.248l-.272-.093c.036-.063.075-.14.115-.23.04-.091.079-.189.117-.292a8.738 8.738 0 0 0 .193-.598 10.036 10.036 0 0 0 .12-.537l.02-.133a1.73 1.73 0 0 0 .01-.225zm-.59.4c.096 0 .199-.005.307-.015a4.628 4.628 0 0 0 .658-.11v.247a4.374 4.374 0 0 1-.328.06 4.053 4.053 0 0 1-.937.043l-.005-.245.162.015c.049.003.096.005.143.005m.787.36a4.04 4.04 0 0 1 .225-.015 3.992 3.992 0 0 1 .463-.003c.075.002.147.007.217.015l-.007.24a5.111 5.111 0 0 0-.205-.022 2.368 2.368 0 0 0-.22-.01 3.752 3.752 0 0 0-.473.027zm.088.617a2.315 2.315 0 0 0-.023.115.643.643 0 0 0-.01.103c0 .028.005.056.015.082a.183.183 0 0 0 .058.068c.028.02.067.036.117.047a.932.932 0 0 0 .198.018 2.583 2.583 0 0 0 .5-.05l-.008.252a6.012 6.012 0 0 1-.495.035c-.203 0-.359-.032-.467-.097a.311.311 0 0 1-.16-.283c0-.053.004-.105.012-.157.009-.053.019-.105.03-.155zm1.945-1.385a3.632 3.632 0 0 0-.065.308l-.028.17a11.5 11.5 0 0 0-.015.14 1.027 1.027 0 0 1 .255-.333.79.79 0 0 1 .185-.117.515.515 0 0 1 .213-.045c.113 0 .214.036.302.107.09.07.161.17.213.3.051.13.077.285.077.465 0 .174-.026.325-.077.455a.915.915 0 0 1-.22.33c-.095.09-.209.164-.34.22a1.909 1.909 0 0 1-.435.13l-.15-.227c.136-.022.263-.052.38-.09.116-.04.218-.094.305-.163a.68.68 0 0 0 .2-.262.955.955 0 0 0 .072-.393c0-.13-.014-.243-.042-.34a.51.51 0 0 0-.125-.225.28.28 0 0 0-.203-.08.374.374 0 0 0-.22.075.84.84 0 0 0-.19.193c-.055.078-.1.162-.135.252a.998.998 0 0 0-.065.39c.002.045.007.098.015.158l-.245.017a8.114 8.114 0 0 1-.017-.175 2.379 2.379 0 0 1-.003-.422 8.16 8.16 0 0 1 .065-.613 1.14 1.14 0 0 0 .013-.125c.003-.04.006-.077.007-.112zm3.685.51a1.881 1.881 0 0 1-.215.118l-.15.077a7.633 7.633 0 0 0-.395.203 4.43 4.43 0 0 0-.19.115c-.11.073-.198.149-.263.227a.394.394 0 0 0-.097.258c0 .096.046.172.14.227.093.055.233.083.42.083.09 0 .184-.004.282-.01.099-.009.194-.02.285-.033.094-.013.174-.029.24-.047l-.002.285c-.065.01-.139.02-.223.03a5.767 5.767 0 0 1-.572.03c-.12 0-.232-.01-.335-.028a.856.856 0 0 1-.265-.09.46.46 0 0 1-.175-.165.487.487 0 0 1-.063-.255c0-.096.021-.185.063-.267a.896.896 0 0 1 .177-.23c.075-.072.162-.14.26-.205.062-.042.128-.083.198-.123a12.296 12.296 0 0 1 .542-.295l.108-.065a.622.622 0 0 0 .092-.067zm-1.263-.487a6.603 6.603 0 0 0 .263.6c.046.088.089.166.127.235l-.22.13a3.867 3.867 0 0 1-.135-.248 14.857 14.857 0 0 1-.282-.615zm2.33.667h1.26v.21h-1.26zm-.037 1.203h1.317v.21h-1.317zm-.108-.708h1.56v1.015h-.242v-.802h-1.085v.802h-.233zm.765-1.07c-.068.099-.156.201-.262.308a3.417 3.417 0 0 1-.763.562.903.903 0 0 0-.147-.19c.145-.071.285-.158.42-.26.135-.103.256-.211.362-.325a1.92 1.92 0 0 0 .258-.327h.242c.069.093.144.184.228.272.085.087.175.17.27.248.096.076.195.146.295.207.101.06.202.112.302.155a.771.771 0 0 0-.085.103 1.71 1.71 0 0 0-.072.107 3.586 3.586 0 0 1-.843-.625 2.146 2.146 0 0 1-.205-.235m2.56 1.67c.107-.016.207-.04.3-.072a.972.972 0 0 0 .25-.128.553.553 0 0 0 .17-.195.573.573 0 0 0 .058-.27.4.4 0 0 0-.113-.28.468.468 0 0 0-.337-.135.883.883 0 0 0-.45.123c-.14.08-.271.183-.393.31v-.278c.152-.141.304-.24.455-.297a1.21 1.21 0 0 1 .428-.088c.121 0 .233.027.335.08.101.054.182.13.242.228a.62.62 0 0 1 .093.342.803.803 0 0 1-.063.338.726.726 0 0 1-.182.257 1.017 1.017 0 0 1-.29.185 1.85 1.85 0 0 1-.388.118zm-.565-1.155a7.049 7.049 0 0 1-.53.07l-.025-.255.09.003.098-.005.132-.013.165-.02c.057-.008.109-.016.158-.025.05-.01.089-.02.117-.03l.085.105-.05.075a4.86 4.86 0 0 1-.057.088l-.048.08-.107.397-.105.155-.128.19-.135.195a5.2 5.2 0 0 1-.12.17l-.155-.217c.032-.038.069-.085.11-.14l.133-.175.135-.185a5.947 5.947 0 0 0 .21-.305l.007-.1zm-.027-.442a1.755 1.755 0 0 0-.01-.203l.292.01a2.063 2.063 0 0 0-.027.16l-.033.25-.03.3c-.008.105-.015.21-.02.313-.005.103-.007.199-.007.287v.208l.002.2a10.505 10.505 0 0 1 .015.295c.004.033.006.063.008.09h-.27l.005-.085.002-.08v-.218a6.84 6.84 0 0 0 .003-.205l.007-.252c0-.038.002-.088.005-.15l.013-.205a164.598 164.598 0 0 0 .027-.445l.013-.175zm3.667-.143-.005.055-.005.073-.002.07a4.067 4.067 0 0 0-.003.157 7.681 7.681 0 0 1-.005.293c-.001.066-.004.139-.007.217l-.013.22a1.355 1.355 0 0 1-.02.168c-.011.06-.033.1-.065.122a.255.255 0 0 1-.137.03 1.68 1.68 0 0 1-.115-.005l-.133-.015a2.565 2.565 0 0 1-.102-.017l.005-.218c.041.009.085.016.13.023.046.007.083.01.11.01a.12.12 0 0 0 .062-.013c.015-.008.024-.026.025-.052a.74.74 0 0 0 .013-.125l.01-.168a6.622 6.622 0 0 0 .007-.32v-.3a.421.421 0 0 0-.005-.067 1.815 1.815 0 0 0-.012-.138zm-.987.078a2.264 2.264 0 0 0-.013.227l-.002.193-.003.255v.505a3.337 3.337 0 0 0 .015.325.177.177 0 0 0 .05.102.262.262 0 0 0 .125.055c.059.012.138.018.238.018.086 0 .176-.003.27-.008a5.715 5.715 0 0 0 .475-.055l-.008.268a4.701 4.701 0 0 1-.722.042c-.152 0-.273-.009-.363-.027a.415.415 0 0 1-.202-.09.323.323 0 0 1-.09-.17 1.561 1.561 0 0 1-.028-.26l-.002-.148v-.992a1.497 1.497 0 0 0-.018-.24zm-.785.582c.036 0 .079 0 .127-.002l.155-.013.23-.022a43.98 43.98 0 0 1 .738-.068 20.644 20.644 0 0 1 .85-.065l.107-.01v.245a.343.343 0 0 0-.06 0h-.082a.95.95 0 0 0-.075.003c-.065 0-.145.003-.24.01s-.197.015-.305.025c-.109.008-.219.018-.333.03-.113.01-.222.02-.327.032-.104.01-.198.02-.283.03a5.928 5.928 0 0 0-.295.035 2.166 2.166 0 0 0-.1.013l-.08.012zm2.592-.405.135-.005a15.345 15.345 0 0 0 .538-.047 86.053 86.053 0 0 1 .907-.078l.235-.015c.074-.005.139-.008.195-.01v.253a5.597 5.597 0 0 0-.332.012.885.885 0 0 0-.153.025.684.684 0 0 0-.227.118.89.89 0 0 0-.288.408.707.707 0 0 0-.04.227c0 .09.016.169.048.237a.515.515 0 0 0 .13.175.793.793 0 0 0 .187.118c.072.03.148.052.228.067.081.015.164.025.247.028l-.092.265a1.353 1.353 0 0 1-.565-.145.79.79 0 0 1-.383-.395.77.77 0 0 1-.055-.298.94.94 0 0 1 .063-.347 1.038 1.038 0 0 1 .362-.465 10.326 10.326 0 0 1-.422.047 6.64 6.64 0 0 0-.253.03 6.89 6.89 0 0 0-.242.033c-.075.011-.14.024-.195.037zm4.02-.137a2.544 2.544 0 0 0-.193.155 11.83 11.83 0 0 1-.152.125l-.19.152-.19.155a3.134 3.134 0 0 0-.158.13.493.493 0 0 0-.095.1.07.07 0 0 0 0 .08c.018.025.052.06.1.103a50.887 50.887 0 0 1 .55.455l.203.177c.065.059.123.114.175.165l-.228.208a4.057 4.057 0 0 0-.19-.203 4.019 4.019 0 0 0-.157-.152c-.064-.058-.132-.12-.205-.183a18.277 18.277 0 0 0-.41-.35.561.561 0 0 1-.155-.182.169.169 0 0 1 .01-.16.712.712 0 0 1 .165-.178c.048-.04.105-.086.17-.137.065-.053.131-.11.2-.168.07-.058.135-.114.197-.167.063-.055.116-.103.158-.145l.092-.095a.524.524 0 0 0 .07-.093zm1.772-.123a2.84 2.84 0 0 0-.027.113l-.02.102-.043.21a19.455 19.455 0 0 1-.117.51 8.519 8.519 0 0 1-.083.288 7.86 7.86 0 0 1-.207.615c-.035.093-.07.176-.105.247l-.275-.092a2.15 2.15 0 0 0 .117-.23c.04-.092.079-.19.118-.293a7.696 7.696 0 0 0 .237-.78l.043-.187c.013-.06.024-.116.032-.168l.02-.13a.753.753 0 0 0 .01-.125.866.866 0 0 0 0-.102zm-.59.4c.097 0 .199-.005.308-.015a4.78 4.78 0 0 0 .657-.107v.245a4.255 4.255 0 0 1-.327.06 4.049 4.049 0 0 1-.938.043l-.005-.246c.062.007.116.012.163.015.046.004.094.005.142.005m.788.36c.068-.006.143-.011.225-.015a3.935 3.935 0 0 1 .462-.002c.075.002.148.007.218.015l-.008.24a3.244 3.244 0 0 0-.205-.02 2.368 2.368 0 0 0-.22-.01c-.082 0-.162.002-.24.007-.077.004-.154.01-.232.018zm.087.618c-.008.038-.016.076-.022.115a.545.545 0 0 0-.01.102c0 .029.005.056.015.083a.17.17 0 0 0 .057.067c.028.02.068.036.118.048a.916.916 0 0 0 .197.017 2.567 2.567 0 0 0 .5-.05l-.007.253c-.07.008-.147.016-.23.022-.082.009-.17.013-.265.013-.204 0-.36-.033-.468-.098a.311.311 0 0 1-.16-.282c0-.053.004-.106.013-.158a3.23 3.23 0 0 1 .027-.155zm.548-1.303a2.023 2.023 0 0 1 .142.233l.06.11-.165.072a1.086 1.086 0 0 0-.057-.112l-.073-.125a1.044 1.044 0 0 0-.07-.11zm.285-.107c.021.032.045.068.07.11l.077.125c.025.041.045.077.06.107l-.162.073a2.863 2.863 0 0 0-.205-.348zm1.607.207a2.447 2.447 0 0 0-.07-.212l.27-.033c.008.055.021.114.038.178.016.062.035.123.055.185l.057.175c.038.105.085.21.14.315a2.169 2.169 0 0 0 .278.4l-.125.18a1.14 1.14 0 0 0-.128-.023 7.055 7.055 0 0 0-.342-.037 8.362 8.362 0 0 1-.16-.015l.017-.208.143.013c.05.003.097.007.142.012l.11.01a4.186 4.186 0 0 1-.215-.385 2.295 2.295 0 0 1-.092-.22 7.038 7.038 0 0 1-.118-.335m-.912.16c.146.017.286.029.42.035a4.882 4.882 0 0 0 .7-.015c.07-.008.141-.018.215-.03.073-.013.145-.028.217-.045.073-.016.143-.035.208-.057l.03.25c-.057.015-.12.03-.188.045a6.849 6.849 0 0 1-.205.037l-.2.028a5.241 5.241 0 0 1-.54.03 7.688 7.688 0 0 1-.652-.025zm.437.82c-.038.06-.068.119-.09.175a.493.493 0 0 0-.03.17c0 .112.048.194.145.245a.935.935 0 0 0 .418.08 3.065 3.065 0 0 0 .655-.06l-.013.25a4.112 4.112 0 0 1-.277.038c-.109.013-.235.019-.38.017-.164 0-.305-.02-.425-.062a.596.596 0 0 1-.278-.178.449.449 0 0 1-.097-.292c0-.073.01-.145.032-.215.023-.07.054-.144.093-.223zm2.283-.97a.699.699 0 0 0-.013.085l-.01.1c-.002.034-.002.062-.002.085v.173l.005.195c.001.065.005.13.012.195.013.131.033.246.06.345a.674.674 0 0 0 .103.23c.041.055.09.082.145.082.031 0 .061-.015.09-.045a.51.51 0 0 0 .08-.12 2.12 2.12 0 0 0 .122-.335l.198.233a2.012 2.012 0 0 1-.16.34.583.583 0 0 1-.16.18.312.312 0 0 1-.175.055.396.396 0 0 1-.24-.085.69.69 0 0 1-.195-.285 1.915 1.915 0 0 1-.118-.528 4.773 4.773 0 0 1-.02-.237c-.003-.085-.006-.166-.007-.243v-.19a1.812 1.812 0 0 0-.02-.235zm1.28.063a1.966 1.966 0 0 1 .247.455c.035.09.066.181.093.275a2.42 2.42 0 0 1 .107.538l-.257.1a3.447 3.447 0 0 0-.14-.69 2.347 2.347 0 0 0-.13-.328 1.237 1.237 0 0 0-.168-.268zm1.107 1.085c.073 0 .139.018.198.055a.404.404 0 0 1 .14.14.376.376 0 0 1 .052.197.385.385 0 0 1-.39.39.382.382 0 0 1-.197-.052.385.385 0 0 1-.195-.337.376.376 0 0 1 .195-.338.369.369 0 0 1 .197-.055m0 .632a.232.232 0 0 0 .17-.07.23.23 0 0 0 .07-.17.229.229 0 0 0-.032-.12.23.23 0 0 0-.208-.12.233.233 0 0 0-.12.033.235.235 0 0 0-.087.087.242.242 0 0 0 .087.33c.037.02.077.03.12.03"}))),qh||(qh=r.createElement("path",{fill:"#FFE3D5",d:"m141.823 170.768 40.5-18.134c5.755 9.495 18.415 30.211 32.513 55.531l-48.625 21.579z"})),Gh||(Gh=r.createElement("path",{fill:"#FFE3D5",d:"M160.168 174.079a38.36 38.36 0 0 0 18.701-7.551l.456-.405.506-.355.862-.71.456-.455 1.622-1.521.355-.355.658-.658.609-.659.608-.71.557-.659.558-.709.557-.76.507-.659.76-1.166.456-.709.71-1.115c.087-.235.207-.456.354-.659l.507-1.013.355-.659.456-1.014.304-.659.507-1.267a1.831 1.831 0 0 1 0-.456c0-.608.405-1.165.557-1.773v-.456c0-.457 0-.913.406-1.369v-.659l.304-1.216v-1.976a2.482 2.482 0 0 1 0-.609v-1.925l7.834-53.21c.861-4.51-1.267-6.436-4.46-6.131a17.18 17.18 0 0 0-10.054 3.952c-2.839 2.365-5.06 5.535-5.707 9.173-1.6 8.998-5.051 25.974-6.49 33.742-15.825 1.727-29.06 14.248-27.334 22.457M107.592 121.231a8.97 8.97 0 0 1 8.97 8.97 9.02 9.02 0 0 1-8.97 9.021h-4.003a9.02 9.02 0 0 1-9.021-9.021 9.023 9.023 0 0 1 9.021-8.97zM107.592 101.366a8.97 8.97 0 0 1 8.97 8.97 9.021 9.021 0 0 1-8.97 9.021h-4.003a9.024 9.024 0 0 1-9.021-9.021 9.021 9.021 0 0 1 9.021-8.97zM107.592 81.5a8.97 8.97 0 0 1 8.97 8.97 9.02 9.02 0 0 1-8.97 9.02h-4.003a9.021 9.021 0 0 1-9.021-9.02 9.021 9.021 0 0 1 9.021-8.97z"})),Wh||(Wh=r.createElement("g",{filter:"url(#step1-detail_svg__i)"},r.createElement("path",{fill:"#fff",stroke:"#0017C1",strokeWidth:2,d:"M195.659 1.276a39.503 39.503 0 0 1 20.554 5.19l.6.35A38.753 38.753 0 0 1 231.318 22.1l.315.613a37.98 37.98 0 0 1 3.936 19.883l-.057.685a38.056 38.056 0 0 1-8.046 20.05h-.001c-5.515 6.972-13.296 11.844-22.023 13.811l-.846.18a39.55 39.55 0 0 1-26.164-3.71l-9.817 5.197-.006.004c-.886.462-2.008.71-2.867.052-.871-.668-.895-1.821-.651-2.785l2.645-10.675a38.296 38.296 0 0 1-9.3-18.225l-.131-.676a37.882 37.882 0 0 1 2.288-21.452l.27-.634a38.459 38.459 0 0 1 13.386-16.2l.574-.39a39.337 39.337 0 0 1 20.139-6.529z"}),r.createElement("path",{fill:"#0017C1",d:"M177.049 37.204c.192.032.404.056.636.072.232.016.448.024.648.024h3.924a9.103 9.103 0 0 0 1.296-.096v1.548a8.453 8.453 0 0 0-.648-.024c-.224-.008-.44-.012-.648-.012h-3.924c-.208 0-.428.004-.66.012-.232 0-.44.008-.624.024zm-1.392 3.072c.176.024.364.044.564.06.208.008.404.012.588.012h7.86c.128 0 .3-.004.516-.012.224-.016.416-.036.576-.06v1.56a4.894 4.894 0 0 0-.528-.024 14.801 14.801 0 0 0-.564-.012H176.809c-.176 0-.372.004-.588.012-.208.008-.396.02-.564.036zm6.144.84c0 .776-.068 1.476-.204 2.1a6.834 6.834 0 0 1-.588 1.668 4.153 4.153 0 0 1-.576.84c-.24.288-.516.56-.828.816a5.15 5.15 0 0 1-1.008.648l-1.404-1.02a4.54 4.54 0 0 0 1.224-.708c.392-.32.708-.656.948-1.008.304-.456.508-.964.612-1.524.104-.56.156-1.164.156-1.812zm2.472-4.74c.104.144.212.316.324.516.12.2.232.4.336.6.112.2.208.376.288.528l-.96.42c-.128-.248-.28-.528-.456-.84a8.097 8.097 0 0 0-.492-.828zm1.416-.54c.104.152.216.332.336.54.12.2.236.4.348.6.12.192.216.356.288.492l-.96.42c-.12-.256-.272-.54-.456-.852a9.012 9.012 0 0 0-.504-.804zm9.864 1.212c.112.168.232.364.36.588.136.216.268.436.396.66.128.216.24.42.336.612l-1.044.444c-.12-.256-.232-.484-.336-.684a7.242 7.242 0 0 0-.336-.6c-.112-.2-.24-.4-.384-.6zm1.644-.576c.128.152.26.336.396.552.136.216.268.432.396.648.128.216.24.412.336.588l-1.02.456a12.082 12.082 0 0 0-.372-.672 9.84 9.84 0 0 0-.756-1.152zm-6.864.348c.2.104.424.232.672.384.248.152.5.312.756.48.256.16.5.316.732.468.232.144.424.272.576.384l-.888 1.32a91.577 91.577 0 0 0-.6-.396 22.89 22.89 0 0 0-.72-.468c-.248-.16-.496-.312-.744-.456-.24-.152-.456-.284-.648-.396zm-2.22 8.52c.448-.08.904-.18 1.368-.3.464-.12.924-.264 1.38-.432.456-.176.9-.384 1.332-.624a13.2 13.2 0 0 0 1.896-1.296c.592-.48 1.124-.988 1.596-1.524a9.404 9.404 0 0 0 1.176-1.68l.924 1.632c-.552.832-1.24 1.62-2.064 2.364a15.836 15.836 0 0 1-2.7 1.956c-.408.224-.856.44-1.344.648-.488.2-.968.372-1.44.516-.464.144-.872.248-1.224.312zm.372-5.784c.2.104.428.232.684.384.256.152.512.308.768.468.256.152.496.304.72.456.232.144.424.272.576.384l-.876 1.344c-.176-.12-.38-.256-.612-.408a22.89 22.89 0 0 0-.72-.468c-.248-.16-.496-.312-.744-.456-.24-.152-.46-.28-.66-.384zm15.222 1.092c.368.208.768.456 1.2.744.44.28.884.572 1.332.876.448.304.868.6 1.26.888.4.288.736.544 1.008.768l-1.14 1.356a20.04 20.04 0 0 0-.984-.828c-.384-.32-.8-.644-1.248-.972a42.22 42.22 0 0 0-1.332-.96c-.432-.304-.82-.564-1.164-.78zm5.64-2.04a3.533 3.533 0 0 0-.216.396 3.592 3.592 0 0 0-.18.456c-.12.368-.284.78-.492 1.236-.2.448-.44.908-.72 1.38-.28.464-.6.92-.96 1.368a12.866 12.866 0 0 1-2.052 2.004c-.792.632-1.764 1.168-2.916 1.608l-1.392-1.212c.84-.256 1.568-.56 2.184-.912a9.36 9.36 0 0 0 1.596-1.128c.456-.4.852-.8 1.188-1.2a8.19 8.19 0 0 0 .768-1.044c.248-.392.46-.78.636-1.164.184-.392.312-.74.384-1.044h-4.056l.552-1.368h3.408c.192 0 .38-.012.564-.036a2.81 2.81 0 0 0 .48-.096zm-3.96-1.848a12.29 12.29 0 0 0-.432.672l-.312.552c-.272.48-.616.992-1.032 1.536a15.84 15.84 0 0 1-1.404 1.572 11.93 11.93 0 0 1-1.632 1.368l-1.296-.996c.704-.44 1.3-.9 1.788-1.38.496-.488.908-.956 1.236-1.404.328-.456.592-.86.792-1.212.096-.144.196-.336.3-.576a4.81 4.81 0 0 0 .252-.672zM216.595 46c.024-.12.044-.256.06-.408.024-.16.036-.32.036-.48v-6.996c0-.272-.016-.508-.048-.708-.024-.2-.04-.308-.048-.324h1.788a6.035 6.035 0 0 0-.084 1.044v6.276c.328-.144.668-.34 1.02-.588a8.442 8.442 0 0 0 1.032-.864 7.25 7.25 0 0 0 .912-1.08l.924 1.32a8.818 8.818 0 0 1-1.2 1.272c-.464.416-.944.796-1.44 1.14-.496.344-.972.632-1.428.864a3.843 3.843 0 0 0-.312.192c-.08.064-.148.12-.204.168zm-5.556-.18c.528-.368.96-.812 1.296-1.332a6.43 6.43 0 0 0 .744-1.536c.088-.264.152-.588.192-.972.048-.392.084-.808.108-1.248.024-.448.036-.888.036-1.32.008-.44.012-.844.012-1.212 0-.24-.012-.444-.036-.612a4.268 4.268 0 0 0-.072-.492h1.764c-.008.016-.02.084-.036.204-.008.112-.02.248-.036.408a9.147 9.147 0 0 0-.012.48c0 .352-.004.764-.012 1.236-.008.464-.024.94-.048 1.428s-.06.952-.108 1.392c-.048.432-.112.8-.192 1.104a7.11 7.11 0 0 1-2.136 3.444zm-34.187 5.216h1.296c-.056.48-.14.964-.252 1.452-.104.48-.264.944-.48 1.392-.216.44-.504.856-.864 1.248-.352.384-.808.72-1.368 1.008a2.467 2.467 0 0 0-.348-.552c-.16-.2-.312-.356-.456-.468.48-.232.872-.504 1.176-.816.304-.312.544-.648.72-1.008.176-.36.304-.732.384-1.116.088-.384.152-.764.192-1.14m-2.076 2.052.672-.996c.4.112.808.256 1.224.432.424.176.824.36 1.2.552.384.192.708.372.972.54l-.684 1.116a7.008 7.008 0 0 0-.96-.588 13.953 13.953 0 0 0-1.2-.588 9.308 9.308 0 0 0-1.224-.468m4.824-2.556h1.344v.108c0 .064-.004.14-.012.228 0 .08-.004.144-.012.192-.032.912-.072 1.66-.12 2.244a10.417 10.417 0 0 1-.18 1.344c-.064.312-.148.532-.252.66a1.14 1.14 0 0 1-.372.324c-.12.064-.264.108-.432.132a3.198 3.198 0 0 1-.564.06c-.232 0-.48-.004-.744-.012a2.69 2.69 0 0 0-.12-.66 2.782 2.782 0 0 0-.24-.636c.208.024.396.04.564.048h.396a.416.416 0 0 0 .36-.144c.056-.08.108-.244.156-.492.048-.256.088-.64.12-1.152.04-.512.076-1.188.108-2.028zm-3.504 6.48h1.32v2.616c0 .168.016.276.048.324.032.04.104.06.216.06h.612c.08 0 .14-.028.18-.084.04-.056.072-.172.096-.348.024-.184.04-.46.048-.828.08.064.188.132.324.204.144.064.288.124.432.18.152.048.288.092.408.132-.04.52-.112.924-.216 1.212-.096.296-.236.496-.42.6-.176.112-.408.168-.696.168h-.996c-.368 0-.652-.052-.852-.156a.776.776 0 0 1-.396-.492c-.072-.232-.108-.548-.108-.948zm-1.224.468 1.14.3c-.032.352-.084.708-.156 1.068-.072.36-.168.7-.288 1.02-.12.312-.28.588-.48.828l-1.056-.636c.168-.208.308-.448.42-.72.112-.28.2-.58.264-.9.072-.32.124-.64.156-.96m1.5-1.296.828-.84c.256.128.52.28.792.456.272.168.528.348.768.54.248.184.448.36.6.528l-.9.936a3.58 3.58 0 0 0-.552-.552 8.215 8.215 0 0 0-.744-.564 9.204 9.204 0 0 0-.792-.504m2.64 1.488 1.164-.468c.216.304.412.632.588.984s.328.704.456 1.056c.128.344.22.656.276.936l-1.272.528a4.372 4.372 0 0 0-.228-.948c-.12-.352-.264-.712-.432-1.08a7.492 7.492 0 0 0-.552-1.008m-4.068-7.14h5.268v1.2h-5.268zm-4.368 3.216h3.516v1.092h-3.516zm.048-3.3h3.444v1.08h-3.444zm-.048 4.944h3.516v1.08h-3.516zm-.54-3.336h4.38v1.14h-4.38zm1.164 4.992h2.916v3.66H171.2v-1.14h1.716v-1.38H171.2zm-.648 0h1.188v4.128h-1.188zm16.344-6.36h6.216v1.356h-6.216zm-.336 8.88h6.78v1.356h-6.78zm3.828-4.668h2.652v1.356h-2.652zm-.84-3.648h1.416v9.12h-1.416zm-2.256 2.616h1.344v6.312h-1.344zm-4.68-.036h3.468v1.092h-3.468zm.072-3.384h3.408v1.08h-3.408zm-.072 5.064h3.468v1.092h-3.468zm-.576-3.408h4.476v1.14h-4.476zm1.248 5.112h2.88v3.648h-2.88v-1.14h1.656v-1.368h-1.656zm-.708 0h1.212v4.116h-1.212zm22.56-5.076c-.064.08-.144.184-.24.312-.096.12-.172.224-.228.312-.184.312-.428.672-.732 1.08-.304.4-.64.8-1.008 1.2a7.747 7.747 0 0 1-1.14 1.008l-1.248-.996c.24-.144.476-.312.708-.504.232-.192.444-.392.636-.6.2-.216.372-.42.516-.612a3.44 3.44 0 0 0 .348-.516H196.496c-.248 0-.484.008-.708.024a53.92 53.92 0 0 0-.756.06V51.24c.232.032.472.06.72.084.248.024.496.036.744.036h6.468a8.368 8.368 0 0 0 .876-.048c.16-.016.276-.036.348-.06zm-4.896 1.62c0 .592-.012 1.164-.036 1.716a9.359 9.359 0 0 1-.204 1.596 5.435 5.435 0 0 1-.516 1.44 4.998 4.998 0 0 1-.972 1.296c-.416.408-.948.784-1.596 1.128l-1.404-1.14c.192-.064.396-.148.612-.252.216-.112.432-.248.648-.408a4.14 4.14 0 0 0 .924-.84 3.4 3.4 0 0 0 .552-.96c.128-.352.216-.732.264-1.14a11.87 11.87 0 0 0 .06-1.884 3.486 3.486 0 0 0-.072-.552zm14.084-2.292a.677.677 0 0 0 .684.684.692.692 0 0 0 .492-.192.67.67 0 0 0 .204-.492.67.67 0 0 0-.204-.492.67.67 0 0 0-.492-.204.657.657 0 0 0-.48.204.67.67 0 0 0-.204.492m-.744 0c0-.264.064-.504.192-.72.136-.224.312-.4.528-.528.216-.128.452-.192.708-.192.264 0 .504.064.72.192.224.128.4.304.528.528.128.216.192.456.192.72 0 .256-.064.492-.192.708a1.517 1.517 0 0 1-.528.528 1.386 1.386 0 0 1-.72.192c-.256 0-.492-.064-.708-.192a1.664 1.664 0 0 1-.528-.528 1.364 1.364 0 0 1-.192-.708m1.452.948a2.005 2.005 0 0 0-.144.408c-.04.152-.08.292-.12.42-.064.296-.148.628-.252.996-.104.36-.228.736-.372 1.128-.144.392-.316.78-.516 1.164a7.347 7.347 0 0 1-.66 1.08c-.36.48-.78.928-1.26 1.344a9.928 9.928 0 0 1-1.608 1.128c-.592.336-1.244.62-1.956.852l-1.308-1.44c.8-.192 1.488-.428 2.064-.708a7.1 7.1 0 0 0 1.5-.96c.432-.36.812-.744 1.14-1.152.264-.336.488-.7.672-1.092.192-.392.348-.784.468-1.176.128-.4.216-.772.264-1.116h-5.58c-.28 0-.552.004-.816.012a8.75 8.75 0 0 0-.612.036v-1.692a11.801 11.801 0 0 0 1.428.096h5.556c.12 0 .264-.004.432-.012.176-.008.344-.036.504-.084zm10.28-1.464c-.008.168-.02.352-.036.552-.008.192-.012.408-.012.648V54.528c0 .64-.032 1.2-.096 1.68-.056.48-.144.9-.264 1.26-.12.36-.268.68-.444.96a5.386 5.386 0 0 1-.588.78 5.093 5.093 0 0 1-.912.78 7 7 0 0 1-1.044.564c-.344.16-.664.288-.96.384l-1.26-1.32c.6-.136 1.14-.324 1.62-.564a4.556 4.556 0 0 0 1.272-.948c.208-.232.376-.464.504-.696.128-.232.224-.488.288-.768.072-.288.12-.612.144-.972.032-.36.048-.772.048-1.236V52.152c0-.24-.008-.456-.024-.648a5.463 5.463 0 0 0-.048-.552zm-5.568.096-.024.432c-.008.136-.012.3-.012.492v4.056c0 .152.004.328.012.528s.016.372.024.516h-1.74l.036-.48c.016-.208.024-.4.024-.576V51.972a9.886 9.886 0 0 0-.048-.924z"}),r.createElement("path",{fill:"#0017C1",fillRule:"evenodd",d:"M195.485 10.036a1.836 1.836 0 0 1 2.382 0l2.104 1.794c.295.25.66.402 1.046.432l2.756.22a1.835 1.835 0 0 1 1.684 1.685l.22 2.756c.031.386.183.751.433 1.045l1.794 2.105a1.836 1.836 0 0 1 0 2.382l-1.794 2.105c-.25.294-.402.66-.433 1.045l-.22 2.756a1.835 1.835 0 0 1-1.684 1.685l-2.756.22a1.84 1.84 0 0 0-1.046.433l-2.104 1.793a1.836 1.836 0 0 1-2.382 0L193.38 30.7a1.837 1.837 0 0 0-1.045-.433l-2.756-.22a1.837 1.837 0 0 1-1.685-1.685l-.22-2.756a1.836 1.836 0 0 0-.433-1.045l-1.793-2.105a1.836 1.836 0 0 1 0-2.382l1.793-2.105c.251-.294.402-.66.433-1.045l.22-2.756a1.837 1.837 0 0 1 1.685-1.685l2.756-.22c.385-.03.751-.182 1.045-.432zm3.18 13.299c0-1.07-.87-1.917-1.939-1.917h-.126c-1.044-.025-1.914.846-1.914 1.917v2.214c0 .085.069.153.154.153h3.672a.153.153 0 0 0 .153-.153zm-.612-5.285a1.377 1.377 0 1 1-2.755 0 1.377 1.377 0 0 1 2.755 0",clipRule:"evenodd"})))),$h||($h=r.createElement("defs",null,r.createElement("clipPath",{id:"step1-detail_svg__b"},r.createElement("path",{fill:"#fff",d:"M23.143 21.366H162.88v87.176H23.143z"})),r.createElement("clipPath",{id:"step1-detail_svg__c"},r.createElement("rect",{width:35.319,height:41.486,x:27.067,y:51.079,fill:"#fff",rx:5.053})),r.createElement("clipPath",{id:"step1-detail_svg__d"},r.createElement("path",{fill:"#fff",d:"M26.225 55.29h37.47v49.312h-37.47z"})),r.createElement("clipPath",{id:"step1-detail_svg__e"},r.createElement("path",{fill:"#fff",d:"M120.675 52.264h46.103v28.814h-46.103z"})),r.createElement("clipPath",{id:"step1-detail_svg__f"},r.createElement("rect",{width:11.652,height:13.687,x:121.969,y:62.067,fill:"#fff",rx:1.665})),r.createElement("clipPath",{id:"step1-detail_svg__g"},r.createElement("path",{fill:"#fff",d:"M121.692 63.454h12.344V79.7h-12.344z"})),r.createElement("clipPath",{id:"step1-detail_svg__h"},r.createElement("path",{fill:"#fff",d:"M162.125 54.52h1.255v1.63h-1.255z"})),r.createElement("filter",{id:"step1-detail_svg__i",width:83,height:83.002,x:156.676,y:.264,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",{dx:3,dy:3}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_9089_15313"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_9089_15313",result:"shape"})))))};var Qh,Xh,Zh,ef,tf,nf,rf,af,of,cf,lf;function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf.apply(null,arguments)}const uf=function(e){return r.createElement("svg",sf({xmlns:"http://www.w3.org/2000/svg",width:136,height:90,fill:"none"},e),r.createElement("mask",{id:"step1_svg__a",width:136,height:90,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Qh||(Qh=r.createElement("path",{fill:"#D9D9D9",d:"M.75 0h135v90H.75z"}))),r.createElement("g",{mask:"url(#step1_svg__a)"},Xh||(Xh=r.createElement("g",{clipPath:"url(#step1_svg__b)"},r.createElement("path",{fill:"#F0CFE0",d:"M80.623 25H10.377C7.685 25 5.5 27.168 5.5 29.84v40.691c0 2.688 2.185 4.856 4.877 4.856h70.23c2.693 0 4.878-2.168 4.878-4.84V29.84c.015-2.672-2.17-4.84-4.862-4.84"}),r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M34.917 44.85c0-1.68-1.385-3.054-3.077-3.054H16.27c-1.692 0-3.076 1.374-3.076 3.053V64.5c0 1.68 1.384 3.054 3.076 3.054h15.57c1.692 0 3.077-1.374 3.077-3.054z",clipRule:"evenodd"}),r.createElement("path",{fill:"#ECF6FF",d:"M77.563 51.705H42.3v15.147h35.262z"}),r.createElement("path",{fill:"#D8D8D8",fillRule:"evenodd",d:"M13.194 33.123h21.723v2.168H13.194zm28.569 6.306h36.292v2.168H41.763zm36.292 6.32H41.763v2.169h36.292zM41.747 67.402h36.37v-16.23h-36.37zm35.277-1.084h-34.17V52.255h34.17z",clipRule:"evenodd"}),r.createElement("path",{fill:"#FDE7DA",fillRule:"evenodd",d:"M29.716 51.797c.184.183.353.382.476.61.17.306.247.657.216 1.024 0 .488-.17.931-.446 1.313-.354.488-.862.855-1.477.962a9.371 9.371 0 0 1-.446.992 7.058 7.058 0 0 1-2.154 2.504c-.039.026-.075.051-.109.076-.048.034-.093.066-.137.092-.008 0-.012.004-.016.008s-.008.007-.015.007c-.677.443-1.354.703-1.908.703-.554 0-1.23-.26-1.908-.703-.007 0-.011-.003-.015-.007s-.008-.008-.015-.008a6.263 6.263 0 0 0-.07-.045c-.062-.04-.12-.078-.177-.123-.83-.61-1.63-1.466-2.153-2.504-.14-.277-.259-.554-.373-.822l-.073-.17c-.462-.077-.862-.321-1.185-.626-.446-.428-.739-.993-.739-1.65 0-.671.308-1.267.77-1.694l.569 2.03.384-1.267.693-2.29 1.646-1.756a20.51 20.51 0 0 0 7.662 3.985l.097.02c.186.04.38.08.564.133l.246-.855-.015-.015zm-5.984 9.16c.554 0 1.246-.274 1.938-.717a.934.934 0 0 1 .277-.153v3.588c-.092.046-.169.092-.246.138a.055.055 0 0 0-.023.008.054.054 0 0 1-.023.007.933.933 0 0 1-.092.038c-.031.012-.062.023-.093.038a4.17 4.17 0 0 1-1.723.367 4.428 4.428 0 0 1-1.723-.367c-.03-.015-.061-.026-.092-.038a.914.914 0 0 1-.092-.038c-.008 0-.016-.004-.023-.008a.055.055 0 0 0-.024-.007c-.067-.022-.126-.06-.182-.097a1.834 1.834 0 0 0-.064-.04v-3.589c.093.061.17.107.246.153.677.443 1.37.718 1.939.718",clipRule:"evenodd"}),r.createElement("path",{fill:"#F9B895",fillRule:"evenodd",d:"M21.64 59.262c.048.034.093.066.138.093v.015c.008 0 .011.004.015.008.004.003.008.007.015.007v-.015c.677.443 1.354.703 1.908.703.57 0 1.246-.26 1.908-.703 0 .021.007.043.014.065.008.027.017.055.017.088v.702c-.677.443-1.37.718-1.939.718-.554 0-1.246-.275-1.938-.718a1.322 1.322 0 0 1-.246-.153v-.885c.038.025.074.05.108.075m4.03.963V59.355l.07-.045c.062-.04.12-.078.177-.123v.886c-.093.06-.17.106-.247.152m0-.87v.167c0-.021-.007-.042-.014-.065-.008-.026-.017-.054-.017-.087.008 0 .012-.003.015-.007.004-.004.008-.008.016-.008",clipRule:"evenodd"}),r.createElement("path",{fill:"#050101",fillRule:"evenodd",d:"M29.454 48.056c.016.015.016.015.016.03.523.932.846 2 .846 3.146 0 .397-.046.794-.123 1.175a2.625 2.625 0 0 0-.477-.61l-.092-.061-.247.855-.323 1.175-.384-1.267c-2.846-.779-5.4-2.23-7.6-4.046l-1.646 1.756-.693 2.29-.384 1.267-.57-2.03-.215-.733a5.168 5.168 0 0 1-.046-.687c0-1.466.57-2.795 1.477-3.833l-.016-.015c.008-.008.02-.015.031-.023.012-.008.023-.015.03-.023a6.27 6.27 0 0 1 4.678-2.092c2.6 0 4.815 1.542 5.738 3.726m-1.01 7.82a14.36 14.36 0 0 1-.374.822c-.523 1.038-1.323 1.893-2.154 2.504v4.474a3.6 3.6 0 0 0 1.077-.977c.123-.168.23-.352.339-.55l.769.305c.03-.046.061-.091.077-.137 0 0 .754.244 1.877.702v-8.336l-.062.076c-.338.473-.861.84-1.477.947a86.34 86.34 0 0 0-.073.17m-9.067.822a9.365 9.365 0 0 1-.446-.992c-.462-.077-.862-.32-1.185-.626v7.787c.923-.367 1.523-.565 1.523-.565.016.03.035.057.054.084.02.026.039.053.054.084l.739-.336c.107.198.215.382.338.55.308.427.677.748 1.077.977v-4.474a7.139 7.139 0 0 1-2.154-2.489",clipRule:"evenodd"}),r.createElement("path",{fill:"#fff",d:"M27.33 62.149a4.766 4.766 0 0 1-.338.55 3.598 3.598 0 0 1-1.077.976c-.076.046-.153.107-.246.138-.015 0-.03.015-.046.015-.061.03-.123.046-.184.076-.57.245-1.17.367-1.724.367a4.171 4.171 0 0 1-1.723-.367c-.061-.03-.123-.045-.184-.076-.016 0-.031-.015-.046-.015a3.509 3.509 0 0 0-.247-.138c-.4-.244-.769-.55-1.076-.977a4.766 4.766 0 0 1-.339-.55l-.738.336c.107.184.215.382.353.55.247.336.554.626.877.87.293.23.585.428.923.596v3.054h4.37V64.5a5.28 5.28 0 0 0 .923-.596c.323-.26.63-.55.877-.87.138-.183.261-.382.384-.595z"}),r.createElement("path",{fill:"#F04771",fillRule:"evenodd",d:"M19.427 62.57c.092.158.187.322.304.464.246.321.554.611.892.886.293.229.585.427.924.595v3.054H16.27c-.108 0-.2-.015-.293-.03a3.074 3.074 0 0 1-2.477-1.71 3.05 3.05 0 0 1-.246-.749c.4-.275.846-.534 1.4-.809a33.91 33.91 0 0 1 3.093-1.39c.922-.366 1.523-.564 1.523-.564.015.03.034.057.053.084.02.026.039.053.054.084zm10.612.45c.785.305 1.738.717 2.754 1.236.83.413 1.446.779 1.923 1.268a3.28 3.28 0 0 1-.37.733 3.069 3.069 0 0 1-2.522 1.313H25.9v-3.054c.339-.168.631-.367.924-.596.323-.244.63-.534.877-.87a4.32 4.32 0 0 0 .384-.595c.015-.046.046-.092.077-.138 0 0 .754.245 1.877.703",clipRule:"evenodd"}))),Zh||(Zh=r.createElement("rect",{width:55.249,height:102.541,fill:"#727272",rx:5.304,transform:"matrix(-1 0 0 1 130.75 14)"})),r.createElement("mask",{id:"step1_svg__c",width:49,height:89,x:79,y:17,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ef||(ef=r.createElement("rect",{width:48.177,height:88.398,x:79.037,y:17.536,fill:"#D9D9D9",rx:3.536}))),r.createElement("g",{mask:"url(#step1_svg__c)"},tf||(tf=r.createElement("rect",{width:48,height:88,x:79.037,y:17.735,fill:"#F8F8F8",rx:3})),r.createElement("mask",{id:"step1_svg__d",width:49,height:88,x:78,y:18,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},nf||(nf=r.createElement("rect",{width:48,height:88,x:78.753,y:18,fill:"#fff",rx:3}))),rf||(rf=r.createElement("path",{fill:"#0017C1",fillRule:"evenodd",d:"M101.391 43.168a2.098 2.098 0 0 1 2.722 0l2.406 2.05c.336.286.754.46 1.194.494l3.15.252a2.099 2.099 0 0 1 1.925 1.925l.252 3.15a2.1 2.1 0 0 0 .494 1.194l2.05 2.406a2.1 2.1 0 0 1 0 2.722l-2.05 2.406a2.1 2.1 0 0 0-.494 1.194l-.252 3.15a2.099 2.099 0 0 1-1.925 1.925l-3.15.252c-.44.035-.858.208-1.194.494l-2.406 2.05a2.098 2.098 0 0 1-2.722 0l-2.406-2.05a2.099 2.099 0 0 0-1.194-.494l-3.15-.252a2.099 2.099 0 0 1-1.925-1.925l-.251-3.15a2.1 2.1 0 0 0-.495-1.194l-2.05-2.406a2.099 2.099 0 0 1 0-2.722l2.05-2.406a2.1 2.1 0 0 0 .495-1.194l.25-3.15a2.099 2.099 0 0 1 1.926-1.925l3.15-.252c.44-.035.858-.208 1.195-.494zm3.635 15.198c0-1.223-.995-2.19-2.216-2.19h-.144c-1.193-.029-2.188.967-2.188 2.19v2.531c0 .097.079.175.176.175h4.197a.175.175 0 0 0 .175-.175zm-.7-6.039a1.574 1.574 0 1 1-3.148 0 1.574 1.574 0 0 1 3.148 0",clipRule:"evenodd"}))),af||(af=r.createElement("rect",{width:55.249,height:102.541,fill:"#727272",rx:5.304,transform:"matrix(-1 0 0 1 130.998 14.139)"})),r.createElement("mask",{id:"step1_svg__e",width:49,height:90,x:79,y:17,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},of||(of=r.createElement("rect",{width:48.177,height:88.398,x:79.285,y:17.675,fill:"#D9D9D9",rx:3.536}))),cf||(cf=r.createElement("g",{mask:"url(#step1_svg__e)"},r.createElement("rect",{width:48,height:88,x:79.285,y:17.874,fill:"#F8F8F8",rx:3}),r.createElement("path",{fill:"#0017C1",fillRule:"evenodd",d:"M102.388 43.307a2.098 2.098 0 0 1 2.722 0l2.406 2.05c.336.286.754.46 1.194.494l3.15.252a2.098 2.098 0 0 1 1.925 1.925l.252 3.15a2.1 2.1 0 0 0 .494 1.194l2.05 2.406a2.098 2.098 0 0 1 0 2.722l-2.05 2.406a2.1 2.1 0 0 0-.494 1.194l-.252 3.15a2.098 2.098 0 0 1-1.925 1.925l-3.15.252c-.44.035-.858.208-1.194.494l-2.406 2.05a2.098 2.098 0 0 1-2.722 0l-2.405-2.05a2.1 2.1 0 0 0-1.195-.495l-3.15-.25a2.099 2.099 0 0 1-1.925-1.926l-.251-3.15a2.099 2.099 0 0 0-.495-1.194l-2.05-2.406a2.099 2.099 0 0 1 0-2.722l2.05-2.406c.286-.336.46-.754.495-1.194l.25-3.15a2.099 2.099 0 0 1 1.926-1.925l3.15-.252a2.1 2.1 0 0 0 1.195-.494zm3.635 15.198c0-1.223-.995-2.19-2.216-2.19h-.144c-1.193-.029-2.188.967-2.188 2.19v2.531c0 .097.079.175.176.175h4.197a.175.175 0 0 0 .175-.175zm-.7-6.039a1.574 1.574 0 1 1-3.148 0 1.574 1.574 0 0 1 3.148 0",clipRule:"evenodd"})))),lf||(lf=r.createElement("defs",null,r.createElement("clipPath",{id:"step1_svg__b"},r.createElement("path",{fill:"#fff",d:"M5.5 25h80v50.387h-80z"})))))};var df,pf,mf,hf,ff,gf,vf,bf,yf,jf,Of,wf,xf,Pf,Ef,_f,Sf,Cf,kf,Nf,If,Af,Df,zf,Tf,Ff,Mf,Lf,Rf,Vf,Bf,Uf,Hf,Kf,qf,Gf,Wf;function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(null,arguments)}const Yf=function(e){return r.createElement("svg",$f({xmlns:"http://www.w3.org/2000/svg",width:241,height:161,fill:"none"},e),r.createElement("mask",{id:"step2-detail_svg__a",width:241,height:161,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},df||(df=r.createElement("path",{fill:"#D9D9D9",d:"M.675.264h239.651v159.767H.675z"}))),r.createElement("g",{mask:"url(#step2-detail_svg__a)"},pf||(pf=r.createElement("path",{fill:"#FFE3D5",d:"M145.664 130.555a8.935 8.935 0 0 1 3.74 5.758 8.915 8.915 0 0 1-1.459 6.709 8.973 8.973 0 0 1-12.518 2.281l-39.833-27.569a8.97 8.97 0 0 1-2.28-12.518 9.075 9.075 0 0 1 12.517-2.28z"})),mf||(mf=r.createElement("path",{fill:"#FFE3D5",d:"M145.664 110.691a8.918 8.918 0 0 1 2.281 12.467 8.97 8.97 0 0 1-12.518 2.28L95.594 97.869a8.968 8.968 0 0 1-2.28-12.517 9.072 9.072 0 0 1 12.517-2.28zM145.664 150.423a8.922 8.922 0 0 1 2.281 12.467 8.973 8.973 0 0 1-12.518 2.281l-39.833-27.569a8.97 8.97 0 0 1-2.28-12.518 9.075 9.075 0 0 1 12.517-2.28z"})),hf||(hf=r.createElement("path",{fill:"#FFE3D5",d:"M108.618 137.246a41.354 41.354 0 0 0 44.648 37.705c22.704-1.926 8.514-41.607 6.588-64.362-1.926-22.754 9.173-19.916-13.531-17.99a41.308 41.308 0 0 0-28.106 14.509 41.319 41.319 0 0 0-9.599 30.138"})),ff||(ff=r.createElement("path",{fill:"#FFE3D5",d:"M127.903 109.369 91.111 53.622a9.071 9.071 0 0 1 2.635-12.467 9.022 9.022 0 0 1 12.568 2.332l1.521 2.28 38.616 58.889"})),gf||(gf=r.createElement("rect",{width:73,height:133,x:107.675,y:5.264,fill:"#727272",rx:5})),vf||(vf=r.createElement("rect",{width:63,height:115,x:112.675,y:10.264,fill:"#222",rx:3})),bf||(bf=r.createElement("path",{fill:"#969696",d:"M114.675 24.264a2 2 0 0 1 2-2h55a2 2 0 0 1 2 2z"})),yf||(yf=r.createElement("path",{fill:"#fff",d:"M175.675 122.264a3 3 0 0 1-3 3h-57a3 3 0 0 1-3-3v-88h63z"})),jf||(jf=r.createElement("rect",{width:51.833,height:9.833,x:118.758,y:85.347,stroke:"#FF333F",strokeWidth:.167,rx:1.917})),Of||(Of=r.createElement("g",{clipPath:"url(#step2-detail_svg__b)"},r.createElement("path",{fill:"#FF333F",d:"m130.914 90.346.003.59a.893.893 0 0 1-.024.256c-.027.105-.135.174-.276.174a.934.934 0 0 1-.567-.213.44.44 0 0 1-.165-.34c0-.14.093-.3.258-.443.108-.093.24-.171.438-.255l-.003-.462c-.024 0-.024 0-.123.006-.045.003-.087.003-.162.003l-.165-.003c-.039-.003-.066-.003-.075-.003-.012 0-.036 0-.063.003l-.003-.336c.084.018.204.027.363.027.03 0 .063 0 .105-.003.072-.003.087-.003.12-.003v-.198c0-.171-.003-.25-.018-.345h.375a1.842 1.842 0 0 0-.018.327v.192c.225-.027.426-.066.579-.114l.012.336-.318.054a3.142 3.142 0 0 1-.273.039v.39a2.08 2.08 0 0 1 .612-.084c.501 0 .858.306.858.732 0 .39-.291.684-.681.684-.243 0-.414-.117-.492-.333-.039-.102-.051-.201-.051-.384.153-.042.204-.063.333-.132-.006.057-.006.084-.006.132 0 .126.012.207.042.264.033.063.105.102.189.102.177 0 .303-.141.303-.333 0-.258-.21-.426-.531-.426-.18 0-.363.033-.576.099m-.336.546v-.438c-.225.12-.357.252-.357.36 0 .05.03.096.099.138a.36.36 0 0 0 .192.066c.051 0 .066-.027.066-.126m1.938-1.266-.276.222a2.562 2.562 0 0 0-.6-.648l.282-.19c.261.202.435.382.594.616m.726.234v1.269c0 .18.006.29.018.369h-.351c.012-.09.018-.186.018-.372V89.16c0-.16-.003-.243-.012-.34.093.01.162.013.306.013h.531c.156 0 .225-.003.306-.012a3.97 3.97 0 0 0-.009.282v.495c0 .135.003.204.009.27a3.678 3.678 0 0 0-.276-.01zm0-.78v.156h.513v-.156zm0 .387v.159h.513v-.16zm2.193-.31v1.972c0 .165-.027.243-.105.29-.06.037-.141.049-.315.049-.048 0-.081 0-.279-.012a1.047 1.047 0 0 0-.084-.318c.126.015.27.027.369.027.084 0 .099-.012.099-.078V89.86h-.579c-.099 0-.207.003-.273.009.003-.081.006-.141.006-.27v-.495a3.85 3.85 0 0 0-.009-.282 2.7 2.7 0 0 0 .306.012h.57c.144 0 .216-.003.309-.012a2.642 2.642 0 0 0-.015.336m-.864-.077v.156h.549v-.156zm0 .387v.159h.549v-.16zm.189.807v.54c0 .087.003.147.009.204a2.148 2.148 0 0 0-.213-.01h-.669v.202h-.318c.009-.084.015-.177.015-.291v-.642a2.17 2.17 0 0 0-.009-.21c.066.006.135.009.222.009h.741c.093 0 .168-.003.231-.01a1.98 1.98 0 0 0-.009.208m-.873.069v.393h.57v-.393zm2.109-1.284h.411a3.488 3.488 0 0 0-.024.456c0 .26.024.62.057.804.051.312.147.504.243.504.045 0 .087-.045.123-.13.072-.161.126-.341.159-.542.105.12.153.165.3.273-.156.585-.33.828-.585.828-.201 0-.363-.147-.483-.435-.123-.3-.177-.735-.189-1.566-.003-.105-.003-.126-.012-.192m1.515.285.315-.15c.378.453.588.954.675 1.614l-.372.14a3.041 3.041 0 0 0-.192-.866 2.619 2.619 0 0 0-.426-.738m1.893.6v-.207c-.195.12-.273.162-.48.252a1.162 1.162 0 0 0-.174-.306c.279-.108.534-.252.765-.432.207-.165.348-.315.471-.501h.357c.129.192.264.327.504.507.234.177.459.297.765.41a1.615 1.615 0 0 0-.165.33 2.916 2.916 0 0 1-.489-.263v.21a2.184 2.184 0 0 0-.27-.012h-1.026c-.096 0-.18.003-.258.012m.261-.324h1.122a2.74 2.74 0 0 1-.618-.585 2.1 2.1 0 0 1-.588.585zm-.147 1.872h-.357c.012-.096.018-.186.018-.318v-.7c0-.122-.006-.21-.015-.296.066.009.138.012.258.012h1.5c.12 0 .192-.003.261-.012a2.045 2.045 0 0 0-.015.297v.702c0 .138.003.222.018.315h-.357v-.153h-1.311zm0-1.011v.564h1.311v-.564zm2.466.417-.174-.345c.069-.048.186-.15.543-.48l.012-.432c-.363.027-.363.027-.456.045l-.021-.34c.048.004.072.007.099.007.054 0 .219-.01.387-.021.006-.078.009-.117.009-.225 0-.057.003-.1.003-.126v-.03a.741.741 0 0 0-.012-.132l.387.003c-.018.078-.018.08-.03.288l-.009.14v.055c.021-.006.027-.006.042-.015l.114.123a1.27 1.27 0 0 0-.171.195c-.006.129-.009.195-.012.204l.006-.003a.529.529 0 0 1 .072-.057c.327-.237.57-.33.864-.33.216 0 .435.093.585.246a.88.88 0 0 1 .231.618c0 .378-.18.696-.477.849-.153.075-.33.114-.534.114-.153 0-.294-.021-.447-.066 0-.16-.009-.225-.057-.39.168.072.354.11.534.11.36 0 .612-.254.612-.62 0-.321-.198-.522-.513-.522-.249 0-.543.153-.873.453l-.003.312c0 .429.009.765.024.897h-.39c.015-.09.018-.177.018-.48v-.267c0-.084 0-.117.006-.177h-.006a.963.963 0 0 1-.132.14 1.818 1.818 0 0 0-.231.259m5.262-.027.024.402-.135.015a9.692 9.692 0 0 1-.813.045c-.561 0-.804-.108-.894-.396-.042-.135-.054-.303-.054-.82l.003-.29c-.42.03-.42.03-.555.054l-.024-.351c.042.003.072.003.087.003.027 0 .192-.01.489-.027.003-.048.003-.075.003-.093 0-.318-.003-.402-.021-.51h.402c-.018.11-.018.11-.027.585l.867-.042c0-.477 0-.477-.018-.594h.375a1.367 1.367 0 0 0-.015.207v.375c.483-.015.483-.015.582-.027l.006.357c-.069-.01-.096-.01-.171-.01-.105 0-.276.004-.417.004-.003.303-.03.528-.078.636-.066.15-.189.225-.366.225a.983.983 0 0 1-.429-.102c.003-.06.003-.078.003-.12 0-.081-.006-.138-.021-.246.162.093.303.147.393.147.078 0 .111-.04.129-.156.015-.087.024-.207.027-.375-.456.018-.456.018-.873.042v.08l-.003.175v.063c0 .156.009.483.015.543.024.252.153.315.642.315.39 0 .672-.036.867-.114m1.503-1.116.006-.345c.141.036.297.048.543.048.105 0 .171 0 .276-.006 0-.177-.003-.327-.003-.45a.84.84 0 0 0-.009-.144l.375-.01a2.935 2.935 0 0 0-.021.442v.138c.156-.018.288-.042.405-.072l.066-.024.024-.006.012.339c-.03.003-.033.003-.087.015a4.957 4.957 0 0 1-.417.066v.066c0 .168 0 .174.03.678.216.102.291.144.471.273a.57.57 0 0 0 .084.05l-.144.364a1.124 1.124 0 0 0-.225-.192 26.989 26.989 0 0 1-.189-.123v.042a.525.525 0 0 1-.024.168c-.069.177-.279.282-.57.282-.393 0-.633-.186-.633-.492 0-.291.255-.495.618-.495.111 0 .186.012.267.042-.009-.075-.012-.222-.024-.64-.12.004-.192.007-.27.007-.111 0-.231-.003-.372-.015-.042 0-.075-.003-.09-.003-.027-.003-.045-.003-.051-.003-.015-.003-.024-.003-.03-.003-.003 0-.009 0-.018.003m.861.96a.628.628 0 0 0-.246-.048c-.192 0-.312.075-.312.198 0 .11.108.186.276.186.111 0 .198-.033.243-.093.027-.036.039-.081.039-.162zm-1.173.639-.36.02c-.003-.03-.003-.047-.015-.116a5.69 5.69 0 0 1-.024-1.75c.015-.09.015-.09.081-.428a1.61 1.61 0 0 0 .033-.222v-.012l.405.042c-.123.26-.237.984-.24 1.506l-.003.156v.048c0 .024 0 .03-.003.063h.003c.015-.033.015-.033.036-.087.006-.021.021-.054.036-.102l.057-.135c.006-.01.009-.018.036-.093l.249.11c-.177.349-.297.72-.297.919 0 .02 0 .024.006.08m2.877-1.995.027-.357c.231.054.498.075.9.075.381 0 .594-.015.792-.057l.012.336c-.18.08-.504.282-.801.498l-.261-.207c.156-.1.303-.19.441-.267a3.198 3.198 0 0 1-.45.024 4.73 4.73 0 0 1-.549-.036c-.06-.006-.069-.01-.111-.01m.222.678.261.198c-.189.156-.273.282-.273.41 0 .196.219.28.726.28.357 0 .75-.054.942-.126l.033.41c-.051.004-.069.004-.132.013-.36.05-.552.066-.81.066-.327 0-.591-.033-.75-.1-.258-.098-.384-.266-.384-.5 0-.228.117-.426.387-.651m2.445-.46.006-.35c.138.036.339.05.648.05.057-.24.078-.365.084-.494l.402.033c-.018.054-.018.054-.048.174-.054.225-.054.225-.072.282.228-.006.567-.03.765-.054.222-.027.279-.04.384-.07l.018.364a1.951 1.951 0 0 0-.174.015c-.435.048-.699.069-1.074.078a3.99 3.99 0 0 1-.237.609v.006c.201-.13.462-.195.756-.195.528 0 .843.228.843.609 0 .444-.429.732-1.086.732a2.74 2.74 0 0 1-.765-.105c0-.171-.003-.231-.03-.381.27.096.522.144.774.144.435 0 .717-.153.717-.393 0-.186-.18-.288-.504-.288-.222 0-.453.054-.645.147a.509.509 0 0 0-.219.174l-.363-.126c.045-.072.096-.165.141-.27.099-.228.21-.52.252-.666a7.627 7.627 0 0 1-.453-.021c-.042-.003-.072-.003-.096-.003zm3.555-.458.174-.303c.207.114.78.285 1.119.333l-.123.345c-.513-.117-.828-.216-1.17-.375m-.24.264.375.02a6.348 6.348 0 0 0-.135.739c-.006.042-.006.042-.015.087l.006.006c.174-.168.546-.285.909-.285.51 0 .846.252.846.636a.73.73 0 0 1-.309.579c-.195.14-.444.204-.792.204-.258 0-.423-.021-.765-.105a1.331 1.331 0 0 0-.045-.387c.294.102.552.15.807.15.423 0 .717-.177.717-.432 0-.201-.189-.321-.507-.321-.267 0-.546.08-.747.219a.653.653 0 0 0-.135.129l-.378-.012c.009-.054.009-.066.024-.18.024-.186.072-.52.126-.873.012-.072.015-.108.018-.174"}))),wf||(wf=r.createElement("path",{fill:"#FF0211",fillRule:"evenodd",d:"m145.612 78.294 10.233-5.12a2.13 2.13 0 0 0 1.18-1.907V59.32a2.13 2.13 0 0 0-1.18-1.906l-10.233-5.122a2.15 2.15 0 0 0-1.922 0l-10.235 5.122a2.133 2.133 0 0 0-1.18 1.906v11.948c0 .807.457 1.544 1.18 1.906l10.235 5.12a2.138 2.138 0 0 0 1.922 0",clipRule:"evenodd"})),xf||(xf=r.createElement("path",{fill:"#4DC9FF",fillRule:"evenodd",d:"M158.732 59.461a5.546 5.546 0 1 1-11.094 0 5.548 5.548 0 0 1 11.094 0",clipRule:"evenodd"})),Pf||(Pf=r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"m135.681 69.598-1.083-.545v-3.21c0-.94.528-1.876 1.62-1.757 1.021.11 1.809 1.017 2.054 1.611.382-.336.731-.405 1.235-.338.559.079 2.662.88 2.662 3.728v3.78l-1.189-.597v-3.545c0-1.036-.636-1.906-1.493-2.005-.351-.041-.657.243-.666.853-.012.609 0 3.603 0 3.603l-1.091-.547v-3.355c0-1.482-.957-1.948-1.375-1.993-.236-.026-.674.114-.674.871z",clipRule:"evenodd"})),Ef||(Ef=r.createElement("mask",{id:"step2-detail_svg__c",fill:"#fff"},r.createElement("path",{d:"M112.675 26.264a2 2 0 0 1 2-2h59a2 2 0 0 1 2 2v8h-63z"}))),_f||(_f=r.createElement("path",{fill:"#F0F0F0",d:"M112.675 26.264a2 2 0 0 1 2-2h59a2 2 0 0 1 2 2v8h-63z"})),Sf||(Sf=r.createElement("path",{fill:"#E6E6E6",d:"M112.675 24.264h63zm63 10.2h-63v-.4h63zm-63-.2v-10zm63-10v10z",mask:"url(#step2-detail_svg__c)"})),Cf||(Cf=r.createElement("g",{clipPath:"url(#step2-detail_svg__d)"},r.createElement("path",{fill:"#333",d:"M128.891 28.976h-.288v-.45a.929.929 0 0 0-1.857 0v.45h-.288a.118.118 0 0 0-.084.036.122.122 0 0 0-.033.086v1.716a.117.117 0 0 0 .117.117h2.433a.116.116 0 0 0 .117-.117v-1.717a.12.12 0 0 0-.007-.046.114.114 0 0 0-.064-.066.115.115 0 0 0-.046-.01m-1.911-.45a.696.696 0 1 1 1.39 0v.45h-1.39z"}))),kf||(kf=r.createElement("path",{fill:"#333",d:"M130.764 30.827h-.522c.018-.135.024-.246.024-.42v-1.6c0-.191-.006-.305-.024-.42h.519a2.586 2.586 0 0 0-.024.42v.364c0 .027-.003.063-.006.12a.808.808 0 0 1 .63-.276c.399 0 .621.228.621.636v.756c0 .183.006.297.024.42h-.525a3.02 3.02 0 0 0 .024-.42v-.642c0-.156-.024-.231-.096-.282a.273.273 0 0 0-.174-.048c-.183 0-.354.123-.495.363v.609c0 .162.006.273.024.42m3.3-.76h-1.32c.015.142.042.217.102.292.081.099.198.15.342.15.21 0 .354-.1.417-.282l.435.129a.83.83 0 0 1-.192.29c-.159.16-.387.244-.66.244-.27 0-.495-.081-.651-.237-.171-.168-.264-.423-.264-.714 0-.57.357-.948.897-.948.393 0 .678.192.807.537.054.147.069.243.081.468 0 .012 0 .015.006.072m-1.311-.347h.831a.448.448 0 0 0-.084-.21.395.395 0 0 0-.324-.144c-.222 0-.366.12-.423.354m1.579-1.332h.525c-.015.12-.021.228-.021.42v1.599c0 .17.006.279.021.42h-.525c.018-.132.024-.222.024-.42v-1.6c0-.194-.006-.302-.024-.42m1.386 3.003h-.513c.015-.135.024-.258.024-.432v-1.473c0-.186-.006-.297-.024-.435h.489v.102a.97.97 0 0 1-.006.09.827.827 0 0 1 .618-.24c.252 0 .453.075.6.222.159.156.24.387.24.687 0 .303-.084.543-.249.705a.82.82 0 0 1-.594.225 1.02 1.02 0 0 1-.414-.087.651.651 0 0 1-.201-.153c.003.033.003.033.003.078.003.02.006.036.006.08v.196c0 .198.006.306.021.435m.486-.93c.285 0 .459-.207.459-.55 0-.326-.174-.524-.459-.524-.288 0-.498.228-.498.534 0 .315.207.54.498.54m1.21-.153h.519v.519h-.519zm.972-1.92h.522v.414h-.522zm-.003.663h.528a2.756 2.756 0 0 0-.024.42v1.37c0 .184-.054.313-.174.409a.762.762 0 0 1-.48.144.865.865 0 0 1-.447-.108.515.515 0 0 1-.177-.16l.429-.221c.048.096.108.135.198.135.114 0 .171-.063.171-.186V29.47c0-.19-.006-.3-.024-.42m1.401 2.34h-.513c.015-.135.024-.258.024-.432v-1.473c0-.186-.006-.297-.024-.435h.489v.102a.97.97 0 0 1-.006.09.827.827 0 0 1 .618-.24c.252 0 .453.075.6.222.159.156.24.387.24.687 0 .303-.084.543-.249.705a.82.82 0 0 1-.594.225 1.02 1.02 0 0 1-.414-.087.651.651 0 0 1-.201-.153c.003.033.003.033.003.078.003.02.006.036.006.08v.196c0 .198.006.306.021.435m.486-.93c.285 0 .459-.207.459-.55 0-.326-.174-.524-.459-.524-.288 0-.498.228-.498.534 0 .315.207.54.498.54m1.21-.153h.519v.519h-.519zm1.38.519h-.516c.018-.132.024-.246.024-.42v-.936c0-.207-.006-.31-.024-.42h.495v.114l-.003.054c0 .03 0 .03-.003.042a.683.683 0 0 1 .567-.252c.168 0 .3.045.396.132a.48.48 0 0 1 .111.14.727.727 0 0 1 .6-.272c.216 0 .387.069.492.2.09.112.129.25.129.457v.74c0 .178.006.289.021.42h-.522c.018-.134.024-.23.024-.42v-.647c0-.126-.015-.19-.051-.243-.039-.057-.111-.09-.198-.09a.37.37 0 0 0-.279.123.585.585 0 0 0-.141.249v.609c0 .174.006.282.021.42h-.522c.018-.13.024-.237.024-.42v-.648c0-.123-.018-.192-.06-.246a.223.223 0 0 0-.183-.084.401.401 0 0 0-.282.132.673.673 0 0 0-.141.237v.609c0 .174.006.279.021.42m4.353-.76h-1.32c.015.142.042.217.102.292.081.099.198.15.342.15.21 0 .354-.1.417-.282l.435.129a.83.83 0 0 1-.192.29c-.159.16-.387.244-.66.244-.27 0-.495-.081-.651-.237-.171-.168-.264-.423-.264-.714 0-.57.357-.948.897-.948.393 0 .678.192.807.537.054.147.069.243.081.468 0 .012 0 .015.006.072m-1.311-.347h.831a.448.448 0 0 0-.084-.21.395.395 0 0 0-.324-.144c-.222 0-.366.12-.423.354m2.94-.67-.123.463a.746.746 0 0 0-.279-.051c-.159 0-.276.045-.36.14-.063.076-.09.145-.105.286v.519c0 .18.006.29.021.42h-.516a3.02 3.02 0 0 0 .024-.42v-.936a2.61 2.61 0 0 0-.024-.42h.495v.246c.126-.19.318-.28.585-.28.09 0 .153.007.282.034m1.865.523-.453.099a.443.443 0 0 0-.081-.177.344.344 0 0 0-.285-.13c-.273 0-.435.214-.435.568s.171.576.444.576a.365.365 0 0 0 .315-.153.356.356 0 0 0 .06-.147l.456.08a.925.925 0 0 1-.129.274c-.153.216-.399.327-.72.327-.267 0-.498-.084-.651-.24-.165-.168-.258-.426-.258-.711s.096-.54.264-.708c.159-.16.381-.243.645-.243.321 0 .573.123.723.354a.927.927 0 0 1 .105.23m1.441 1.254v-.156a.84.84 0 0 1-.576.189c-.213 0-.366-.045-.474-.141a.495.495 0 0 1-.171-.39c0-.291.204-.495.576-.58.174-.035.264-.044.645-.056v-.12c0-.147-.102-.22-.306-.22a.513.513 0 0 0-.282.07c-.054.039-.081.08-.114.165l-.474-.078c.063-.174.12-.255.225-.336.15-.117.366-.174.648-.174.294 0 .495.06.627.186.102.096.141.213.141.429v.813c0 .174.006.264.021.399zm0-.7v-.113c-.273.009-.399.024-.534.066-.138.042-.21.123-.21.237 0 .126.09.195.252.195a.612.612 0 0 0 .369-.13.31.31 0 0 0 .123-.254m2.196-1.076-.123.462a.746.746 0 0 0-.279-.051c-.159 0-.276.045-.36.14-.063.076-.09.145-.105.286v.519c0 .18.006.29.021.42h-.516a3.02 3.02 0 0 0 .024-.42v-.936a2.61 2.61 0 0 0-.024-.42h.495v.246c.126-.19.318-.28.585-.28.09 0 .153.007.282.034m.209-.663h.522v.414h-.522zm-.006.663h.531a2.58 2.58 0 0 0-.024.423v.93c0 .177.006.297.024.423h-.531a3.02 3.02 0 0 0 .024-.42v-.936c0-.183-.006-.297-.024-.42m.873 1.257h.519v.519h-.519zm2.526-.735-.453.099a.443.443 0 0 0-.081-.177.344.344 0 0 0-.285-.13c-.273 0-.435.214-.435.568s.171.576.444.576a.365.365 0 0 0 .315-.153.356.356 0 0 0 .06-.147l.456.08a.925.925 0 0 1-.129.274c-.153.216-.399.327-.72.327-.267 0-.498-.084-.651-.24-.165-.168-.258-.426-.258-.711s.096-.54.264-.708c.159-.16.381-.243.645-.243.321 0 .573.123.723.354a.927.927 0 0 1 .105.23m1.144 1.314c-.573 0-.936-.37-.936-.948 0-.58.366-.948.939-.948s.936.366.936.942-.372.954-.939.954m.006-1.518c-.288 0-.465.213-.465.564 0 .354.174.57.462.57.288 0 .459-.21.459-.561 0-.36-.168-.573-.456-.573m1.723 1.458h-.516c.018-.132.024-.246.024-.42v-.936c0-.207-.006-.31-.024-.42h.495v.114l-.003.054c0 .03 0 .03-.003.042a.683.683 0 0 1 .567-.252c.168 0 .3.045.396.132a.48.48 0 0 1 .111.14.727.727 0 0 1 .6-.272c.216 0 .387.069.492.2.09.112.129.25.129.457v.74c0 .178.006.289.021.42h-.522c.018-.134.024-.23.024-.42v-.647c0-.126-.015-.19-.051-.243-.039-.057-.111-.09-.198-.09a.37.37 0 0 0-.279.123.585.585 0 0 0-.141.249v.609c0 .174.006.282.021.42h-.522c.018-.13.024-.237.024-.42v-.648c0-.123-.018-.192-.06-.246a.223.223 0 0 0-.183-.084.401.401 0 0 0-.282.132.673.673 0 0 0-.141.237v.609c0 .174.006.279.021.42"})),Nf||(Nf=r.createElement("rect",{width:20.746,height:3.458,x:133.675,y:12.264,fill:"#727272",rx:1.729})),If||(If=r.createElement("path",{fill:"#fff",d:"M118.962 15.424c.455 0 .725-.355.725-.957 0-.227-.044-.418-.127-.565a.633.633 0 0 0-.588-.353c-.389 0-.663.262-.663.628 0 .344.247.594.588.594a.494.494 0 0 0 .463-.267H119.381c0 .409-.155.652-.416.652-.154 0-.273-.084-.313-.219h-.319c.054.294.302.487.629.487m.011-.906a.338.338 0 0 1-.351-.35c0-.2.153-.352.353-.352a.35.35 0 0 1 .353.356c0 .2-.15.345-.355.345M120.209 15.407a.19.19 0 0 0 .198-.196.189.189 0 0 0-.198-.196.19.19 0 0 0-.198.196.19.19 0 0 0 .198.195m0-.93a.189.189 0 0 0 .198-.194.189.189 0 0 0-.198-.195.19.19 0 0 0-.198.196.19.19 0 0 0 .198.194M121.566 15.38h.306v-.333h.241v-.27h-.241v-1.183h-.451c-.315.475-.567.873-.728 1.169v.284h.873zm-.577-.614c.208-.366.394-.66.565-.912h.017v.931h-.582zM122.794 15.38h.32v-1.786h-.318l-.467.327v.307l.444-.312h.021z"})),Af||(Af=r.createElement("path",{fill:"#D1D1D6",fillRule:"evenodd",d:"M163.123 13.916h.169c.094 0 .169.076.169.169v1.014a.169.169 0 0 1-.169.17h-.169a.17.17 0 0 1-.169-.17v-1.014a.17.17 0 0 1 .169-.17M162.363 14.254h.169a.17.17 0 0 1 .169.17v.675a.17.17 0 0 1-.169.17h-.169a.169.169 0 0 1-.169-.17v-.676c0-.093.075-.169.169-.169M161.602 14.508h.169a.17.17 0 0 1 .169.169v.422a.17.17 0 0 1-.169.17h-.169a.17.17 0 0 1-.169-.17v-.422a.17.17 0 0 1 .169-.17",clipRule:"evenodd"})),Df||(Df=r.createElement("path",{fill:"#EBEBF5",fillOpacity:.3,fillRule:"evenodd",d:"M163.884 13.578h.169a.17.17 0 0 1 .169.169v1.352a.17.17 0 0 1-.169.17h-.169a.17.17 0 0 1-.169-.17v-1.352a.17.17 0 0 1 .169-.17",clipRule:"evenodd"})),zf||(zf=r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M163.123 13.916h.169c.094 0 .169.076.169.169v1.014a.169.169 0 0 1-.169.17h-.169a.17.17 0 0 1-.169-.17v-1.014a.17.17 0 0 1 .169-.17M162.363 14.254h.169a.17.17 0 0 1 .169.17v.675a.17.17 0 0 1-.169.17h-.169a.169.169 0 0 1-.169-.17v-.676c0-.093.075-.169.169-.169M161.602 14.508h.169a.17.17 0 0 1 .169.169v.422a.17.17 0 0 1-.169.17h-.169a.17.17 0 0 1-.169-.17v-.422a.17.17 0 0 1 .169-.17",clipRule:"evenodd"})),Tf||(Tf=r.createElement("path",{fill:"#fff",d:"M166.527 14.751a.6.6 0 0 1 .305.083l.038.021a.05.05 0 0 1 .01.08l-.32.319a.05.05 0 0 1-.071 0l-.318-.318a.05.05 0 0 1 .009-.078l.037-.022a.606.606 0 0 1 .31-.085M166.527 14.164c.269 0 .527.09.737.255l.03.023a.05.05 0 0 1 .004.075l-.191.19a.05.05 0 0 1-.066.005l-.023-.017a.82.82 0 0 0-.985.002l-.024.018a.05.05 0 0 1-.066-.005l-.191-.19a.05.05 0 0 1 .005-.075l.029-.024a1.19 1.19 0 0 1 .741-.257"})),Ff||(Ff=r.createElement("path",{fill:"#fff",d:"M166.527 13.578c.426 0 .834.15 1.157.426l.028.024a.05.05 0 0 1 .003.074l-.191.19a.05.05 0 0 1-.068.002l-.023-.02a1.409 1.409 0 0 0-.906-.327c-.335 0-.655.116-.909.33l-.024.02a.05.05 0 0 1-.068-.003l-.19-.19a.05.05 0 0 1 .002-.074l.028-.023a1.775 1.775 0 0 1 1.161-.43"})),Mf||(Mf=r.createElement("path",{fill:"#EBEBF5",fillOpacity:.3,d:"M172.59 14.085a.17.17 0 0 1 .169.169v.338a.17.17 0 0 1-.169.17z"})),Lf||(Lf=r.createElement("path",{fill:"#EBEBF5",fillOpacity:.3,fillRule:"evenodd",d:"M169.04 13.409h2.874c.28 0 .507.227.507.507v1.014c0 .28-.227.507-.507.507h-2.874a.507.507 0 0 1-.507-.507v-1.014c0-.28.227-.507.507-.507m0 .169a.338.338 0 0 0-.338.338v1.014c0 .187.151.338.338.338h2.874a.338.338 0 0 0 .338-.338v-1.014a.338.338 0 0 0-.338-.338z",clipRule:"evenodd"})),Rf||(Rf=r.createElement("rect",{width:3.212,height:1.352,x:168.871,y:13.733,fill:"#fff",rx:.169})),Vf||(Vf=r.createElement("path",{fill:"#FFE3D5",d:"m138.947 170.768 40.5-18.133c5.754 9.494 18.414 30.21 32.512 55.53l-48.625 21.579z"})),Bf||(Bf=r.createElement("path",{fill:"#FFE3D5",d:"M157.292 174.08a38.368 38.368 0 0 0 18.7-7.552l.456-.405.507-.355.861-.709.457-.456 1.621-1.521.355-.354.659-.659.608-.659.608-.71.558-.659.557-.709.557-.76.507-.659.76-1.165.457-.71.709-1.115a2.76 2.76 0 0 1 .355-.659l.507-1.013.354-.659.456-1.014.304-.659.507-1.267a1.823 1.823 0 0 1 0-.455c0-.609.406-1.166.558-1.774v-.456c0-.456 0-.913.405-1.369v-.659l.304-1.216v-1.976a2.576 2.576 0 0 1 0-.608v-1.926l7.834-53.21c.862-4.51-1.267-6.435-4.459-6.131a17.18 17.18 0 0 0-10.055 3.952c-2.839 2.365-5.059 5.535-5.706 9.173-1.601 8.998-5.052 25.974-6.491 33.742-15.824 1.727-29.06 14.248-27.333 22.458M104.716 121.231a8.969 8.969 0 0 1 8.97 8.97 9.02 9.02 0 0 1-8.97 9.021h-4.004a9.02 9.02 0 0 1-9.02-9.021 9.023 9.023 0 0 1 9.02-8.97zM104.716 101.366a8.969 8.969 0 0 1 8.97 8.97 9.02 9.02 0 0 1-8.97 9.021h-4.004a9.02 9.02 0 0 1-9.02-9.021 9.02 9.02 0 0 1 9.02-8.97zM104.716 81.5a8.968 8.968 0 0 1 8.97 8.97 9.02 9.02 0 0 1-8.97 9.02h-4.004a9.021 9.021 0 0 1-9.02-9.02 9.02 9.02 0 0 1 9.02-8.97z"})),r.createElement("g",{filter:"url(#step2-detail_svg__e)"},Uf||(Uf=r.createElement("path",{fill:"#fff",stroke:"#FECD29",strokeWidth:2,d:"M16.687 43.333a41.53 41.53 0 0 1 5.457-21.61l.369-.63A40.746 40.746 0 0 1 38.578 5.845l.646-.331a39.927 39.927 0 0 1 20.9-4.138l.72.06a39.998 39.998 0 0 1 21.078 8.459c7.33 5.798 12.451 13.978 14.52 23.152l.19.89a41.579 41.579 0 0 1-3.914 27.53l5.483 10.36.003.004c.484.928.734 2.083.06 2.962-.684.89-1.868.923-2.877.667l-11.264-2.792a40.259 40.259 0 0 1-19.18 9.797l-.71.138a39.83 39.83 0 0 1-22.552-2.406l-.665-.284a40.43 40.43 0 0 1-17.033-14.072l-.409-.604a41.354 41.354 0 0 1-6.863-21.172z"})),r.createElement("mask",{id:"step2-detail_svg__f",width:57,height:38,x:29,y:23,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},Hf||(Hf=r.createElement("path",{fill:"#fff",d:"m82.293 23.157-49.405-.086a2.988 2.988 0 0 0-3 2.977l-.055 31.374a2.988 2.988 0 0 0 2.99 2.987l49.405.086a2.988 2.988 0 0 0 3-2.977l.054-31.374a2.988 2.988 0 0 0-2.989-2.987"}))),r.createElement("g",{mask:"url(#step2-detail_svg__f)"},Kf||(Kf=r.createElement("path",{fill:"#FECD29",d:"m85.287 23.162-55.393-.096-.066 37.338 55.394.096z"})),r.createElement("path",{fill:"#FECD29",d:"m85.287 23.162-55.393-.096-.066 37.338 55.394.096z",opacity:.3,style:{mixBlendMode:"multiply"}}),r.createElement("path",{fill:"#FECD29",d:"M57.559 40.857 31.133 59.48l53.53.652z",opacity:.59,style:{mixBlendMode:"multiply"}}),qf||(qf=r.createElement("path",{fill:"#FECD29",d:"M57.559 41.788 29.826 60.406l55.394.1z"})),r.createElement("path",{fill:"#FECD29",d:"M54.591 48.123 32.662 32.246c-.81-.578-1.729-1.64-1.887-2.62l-.51-5.258 54.837.098-.695 4.69c-.16.985-.898 2.61-1.715 3.184l-22.19 15.793a5.114 5.114 0 0 1-5.91-.013z",opacity:.59,style:{mixBlendMode:"multiply"}}),Gf||(Gf=r.createElement("path",{fill:"#FECD29",d:"M54.595 46.822 32.293 30.945a3.72 3.72 0 0 1-1.516-2.434l-.881-5.444 55.394.1-.881 5.434a3.7 3.7 0 0 1-1.53 2.441L60.507 46.835a5.114 5.114 0 0 1-5.912-.013"}))))),Wf||(Wf=r.createElement("defs",null,r.createElement("clipPath",{id:"step2-detail_svg__b"},r.createElement("path",{fill:"#fff",d:"M129.675 88.264h30v4h-30z"})),r.createElement("clipPath",{id:"step2-detail_svg__d"},r.createElement("path",{fill:"#fff",d:"M125.675 27.264h4v4h-4z"})),r.createElement("filter",{id:"step2-detail_svg__e",width:87.002,height:87,x:15.675,y:.264,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",{dx:3,dy:3}),r.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_9089_15324"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_9089_15324",result:"shape"})))))};var Jf,Qf,Xf,Zf,eg,tg,ng,rg,ig,ag,og,cg,lg,sg,ug,dg,pg,mg;function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(null,arguments)}const fg=function(e){return r.createElement("svg",hg({xmlns:"http://www.w3.org/2000/svg",width:136,height:90,fill:"none"},e),r.createElement("mask",{id:"step2_svg__a",width:136,height:90,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Jf||(Jf=r.createElement("path",{fill:"#D9D9D9",d:"M.25 0h135v90H.25z"}))),r.createElement("g",{mask:"url(#step2_svg__a)"},Qf||(Qf=r.createElement("path",{fill:"#E8F4FF",fillRule:"evenodd",d:"M65.94 67.757c6.987-6.97 11.31-16.609 11.31-27.257C77.25 19.237 60.013 2 38.75 2S.25 19.237.25 40.5 17.487 79 38.75 79a38.32 38.32 0 0 0 19.67-5.398l8.351 2.877c1.352.46 2.076-.265 1.611-1.611l.006-.006z",clipRule:"evenodd"})),r.createElement("mask",{id:"step2_svg__b",width:78,height:77,x:0,y:2,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},Xf||(Xf=r.createElement("path",{fill:"#EAE9E6",d:"M77.25 40.5c0 21.263-17.237 38.5-38.5 38.5S.25 61.763.25 40.5 17.487 2 38.75 2s38.5 17.237 38.5 38.5"}))),r.createElement("g",{mask:"url(#step2_svg__b)"},r.createElement("mask",{id:"step2_svg__c",width:47,height:33,x:15,y:24,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},Zf||(Zf=r.createElement("path",{fill:"#fff",d:"m59.245 24.432-40.935-.073c-1.37-.002-2.483 1.125-2.486 2.519L15.78 53.42c-.003 1.393 1.106 2.525 2.476 2.527l40.936.073c1.37.002 2.483-1.125 2.485-2.519l.046-26.542c.002-1.393-1.107-2.525-2.477-2.527"}))),r.createElement("g",{mask:"url(#step2_svg__c)"},eg||(eg=r.createElement("path",{fill:"#FECD29",d:"m61.726 24.436-45.897-.081-.055 31.588 45.898.081z"})),r.createElement("path",{fill:"#FECD29",d:"m61.726 24.436-45.897-.081-.055 31.588 45.898.081z",opacity:.3,style:{mixBlendMode:"multiply"}}),r.createElement("path",{fill:"#FECD29",d:"M38.75 39.406 16.854 55.162l44.354.552z",opacity:.59,style:{mixBlendMode:"multiply"}}),tg||(tg=r.createElement("path",{fill:"#FECD29",d:"m38.75 40.194-22.978 15.75 45.897.085z"})),r.createElement("path",{fill:"#FECD29",d:"m36.291 45.553-18.17-13.432c-.671-.489-1.432-1.388-1.563-2.215l-.423-4.45 45.436.083-.576 3.968c-.131.834-.744 2.208-1.42 2.694l-18.386 13.36a4.166 4.166 0 0 1-4.898-.01z",opacity:.59,style:{mixBlendMode:"multiply"}}),ng||(ng=r.createElement("path",{fill:"#FECD29",d:"M36.294 44.452 17.817 31.021a3.157 3.157 0 0 1-1.256-2.06l-.73-4.605 45.897.085-.73 4.597a3.137 3.137 0 0 1-1.267 2.065l-18.54 13.36a4.166 4.166 0 0 1-4.897-.01"})))),rg||(rg=r.createElement("rect",{width:55.249,height:102.541,fill:"#727272",rx:5.304,transform:"matrix(-1 0 0 1 130.248 14)"})),r.createElement("mask",{id:"step2_svg__d",width:49,height:89,x:78,y:17,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},ig||(ig=r.createElement("rect",{width:48.177,height:88.398,x:78.536,y:17.536,fill:"#D9D9D9",rx:3.536}))),r.createElement("g",{mask:"url(#step2_svg__d)"},ag||(ag=r.createElement("rect",{width:48,height:88,x:78.536,y:17.735,fill:"#F8F8F8",rx:3})),r.createElement("mask",{id:"step2_svg__e",width:49,height:88,x:78,y:18,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},og||(og=r.createElement("rect",{width:48,height:88,x:78.25,y:18,fill:"#fff",rx:3}))),cg||(cg=r.createElement("path",{fill:"#0017C1",fillRule:"evenodd",d:"M100.888 43.168a2.1 2.1 0 0 1 2.723 0l2.405 2.05c.336.286.754.46 1.195.494l3.15.252a2.099 2.099 0 0 1 1.925 1.925l.251 3.15c.035.44.208.858.495 1.194l2.05 2.406a2.1 2.1 0 0 1 0 2.722l-2.05 2.406c-.287.336-.46.754-.495 1.194l-.251 3.15a2.099 2.099 0 0 1-1.925 1.925l-3.15.252a2.098 2.098 0 0 0-1.195.494l-2.405 2.05a2.1 2.1 0 0 1-2.723 0l-2.405-2.05a2.1 2.1 0 0 0-1.194-.494l-3.15-.252a2.099 2.099 0 0 1-1.926-1.925l-.251-3.15a2.099 2.099 0 0 0-.495-1.194l-2.05-2.406a2.099 2.099 0 0 1 0-2.722l2.05-2.406c.287-.336.46-.754.495-1.194l.251-3.15a2.099 2.099 0 0 1 1.926-1.925l3.15-.252c.44-.035.858-.208 1.194-.494zm3.635 15.198c0-1.223-.994-2.19-2.216-2.19h-.144c-1.193-.029-2.187.967-2.187 2.19v2.531c0 .097.079.175.175.175h4.197a.175.175 0 0 0 .175-.175zm-.699-6.039a1.574 1.574 0 1 1-3.148 0 1.574 1.574 0 0 1 3.148 0",clipRule:"evenodd"}))),lg||(lg=r.createElement("rect",{width:55.249,height:102.541,fill:"#727272",rx:5.304,transform:"matrix(-1 0 0 1 130.498 14.139)"})),r.createElement("mask",{id:"step2_svg__f",width:49,height:90,x:78,y:17,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},sg||(sg=r.createElement("rect",{width:48.177,height:88.398,x:78.786,y:17.675,fill:"#D9D9D9",rx:3.536}))),r.createElement("g",{mask:"url(#step2_svg__f)"},ug||(ug=r.createElement("rect",{width:48,height:88,x:78.785,y:17.874,fill:"#F8F8F8",rx:3})),dg||(dg=r.createElement("circle",{cx:102.834,cy:57.103,r:20.5,fill:"#F8F8F8"})),r.createElement("mask",{id:"step2_svg__g",width:42,height:42,x:82,y:36,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},pg||(pg=r.createElement("circle",{cx:102.834,cy:57.103,r:20.5,fill:"#D9D9D9"}))),mg||(mg=r.createElement("g",{mask:"url(#step2_svg__g)"},r.createElement("path",{fill:"#BE7F5A",d:"M95.795 44.896 96 46.44c.035.261.023.544-.026.628-.049.085.12.17.377.189l1.945.143a.49.49 0 0 0 .513-.443l.175-1.777M99.211 54.234a2.278 2.278 0 1 0 0-4.555 2.278 2.278 0 0 0 0 4.555M106.159 54.235a2.277 2.277 0 1 0 0-4.555 2.277 2.277 0 0 0 0 4.554"}),r.createElement("path",{fill:"#FAC8AA",d:"m109.485 75.524.6-8c.181-.9 4.167-5.63 4.167-5.63-.194-.994-1.154-2.147-2.129-2.566l-5.236-2.382c-1.463-.835-1.991-2.007-1.991-4.92v-5.158h-4.37v5.158c0 2.913-.529 4.085-1.992 4.92l-5.236 2.382c-.975.419-1.934 1.572-2.128 2.566 0 0 3.985 4.73 4.167 5.63l.6 8h13.545z"}),r.createElement("path",{fill:"#FAC8AA",d:"M114.326 62.526a3.094 3.094 0 1 1-6.189 0 3.094 3.094 0 1 1 6.189 0M94.192 65.62a3.095 3.095 0 1 0 0-6.189 3.095 3.095 0 0 0 0 6.19"}),r.createElement("path",{fill:"#4E4E4E",d:"M113.642 78.39a2.944 2.944 0 1 0 0-5.888 2.944 2.944 0 0 0 0 5.889M111.363 65.956a3.386 3.386 0 1 0 0-6.772 3.386 3.386 0 0 0 0 6.772"}),r.createElement("path",{fill:"#4E4E4E",d:"m108.027 63.148 2.715 12.808 5.799-1.02-1.841-12.948zM92.134 78.39a2.945 2.945 0 1 0 0-5.889 2.945 2.945 0 0 0 0 5.89M94.413 65.956a3.386 3.386 0 1 0 0-6.772 3.386 3.386 0 0 0 0 6.772"}),r.createElement("path",{fill:"#4E4E4E",d:"m97.75 63.148-2.718 12.808-5.796-1.02 1.84-12.948z"}),r.createElement("path",{fill:"#4E4E4E",d:"M102.885 89.14c7.22 0 9.592-1.654 9.592-1.654l-.572-21.387s2.27-5.457 1.589-6.253c-.861-1.01-6.051-3.296-6.051-3.296s-.827 2.584-4.558 2.584c-3.732 0-4.559-2.584-4.559-2.584s-5.19 2.286-6.05 3.296c-.682.796 1.588 6.253 1.588 6.253l-.572 21.387s2.37 1.654 9.593 1.654"}),r.createElement("path",{fill:"#4E4E4E",d:"m111.905 66.1.572 21.386s-1.449 1.01-5.528 1.452zM111.041 60.303c.354-.286.348-.743-.012-1.02l-2.923-2.23c-.361-.276-.79-.823-.949-1.212-.158-.389-.637-.575-1.06-.404l-2.438.973c-.423.168-1.116.168-1.539 0l-2.438-.973c-.423-.168-.898.012-1.06.404-.162.392-.588.94-.948 1.213l-2.923 2.23c-.36.276-.367.736-.013 1.019l7.51 6.03c.354.285.936.285 1.29 0l7.509-6.03z"}),r.createElement("path",{fill:"#4E4E4E",d:"M107.977 88.807c3.299-.482 4.502-1.321 4.502-1.321l-.572-21.387"}),r.createElement("path",{fill:"#EA9B7D",d:"M100.207 54.908c.222-.72.322-1.641.322-2.882v-5.158h4.37v5.158c0 1.24.097 2.163.322 2.882-.835.556-1.716.888-2.504.888s-1.669-.332-2.504-.888z"}),r.createElement("path",{fill:"#323232",d:"M111.67 66.565c.013-.344.054-.344.094-.003l2.807 20.022c.038.275-.143.647-.406.825 0 0-2.492 1.694-11.538 1.694 0 0 6.927-2.363 7.777-7.83.851-5.468 1.27-14.708 1.27-14.708z"}),r.createElement("path",{fill:"#4E4E4E",d:"M91.9 78.434a2.96 2.96 0 1 0 0-5.92 2.96 2.96 0 0 0 0 5.92M113.511 78.435a2.96 2.96 0 1 0 0-5.92 2.96 2.96 0 0 0 0 5.92"}),r.createElement("path",{fill:"#FAC8AA",d:"M114.174 74.902a.854.854 0 0 1 .807.618l.253 1.023c.088.347-.025.862-.247 1.14l-.281.357c-.222.281-.697.51-1.057.51h-2.447a.834.834 0 0 1-.782-.638l-.162-.794c-.072-.35.115-.797.412-.994l1.266-.832a2.7 2.7 0 0 1 1.194-.372l1.041-.022zM91.246 74.902a.854.854 0 0 0-.807.618l-.253 1.023c-.088.347.025.862.247 1.14l.281.357c.222.281.697.51 1.057.51h2.448c.359 0 .709-.288.78-.638l.163-.794c.072-.35-.115-.797-.412-.994l-1.266-.832a2.7 2.7 0 0 0-1.194-.372l-1.041-.022z"}),r.createElement("path",{fill:"#B4B4B4",d:"M112.327 64.967H93.09a.625.625 0 0 0-.625.625v10.976c0 .345.28.625.625.625h19.237c.346 0 .626-.28.626-.625V65.592a.625.625 0 0 0-.626-.625"}),r.createElement("path",{fill:"#A2A2A2",d:"M112.954 70.531v6.037a.627.627 0 0 1-.625.625H96.696"}),r.createElement("path",{fill:"#F0F0F0",d:"M102.709 72.732a1.65 1.65 0 1 0 0-3.301 1.65 1.65 0 0 0 0 3.301"}),r.createElement("path",{fill:"#7F7F7F",d:"M112.952 77.193v.728a.627.627 0 0 1-.625.625H93.09a.627.627 0 0 1-.625-.625v-.728"}),r.createElement("path",{fill:"#FAC8AA",d:"M102.711 54.858c1.338 0 3.392-1.447 4.405-3.482.084-.172.813-1.676 1.194-3.18.378-1.49.409-2.985.428-3.182.25-2.591-1.91-5.952-6.027-5.952s-6.276 3.36-6.026 5.952c.018.197.05 1.688.428 3.183.378 1.494 1.106 3.004 1.194 3.179 1.013 2.032 3.063 3.482 4.404 3.482"}),r.createElement("path",{fill:"#FAC8AA",d:"M107.937 49.419a1.588 1.588 0 1 0 0-3.176 1.588 1.588 0 0 0 0 3.176M97.487 49.419a1.588 1.588 0 1 0 0-3.176 1.588 1.588 0 0 0 0 3.176"}),r.createElement("path",{fill:"#EA9B7D",stroke:"#EA9B7D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.241,d:"M103.842 51.724c0 .529-.48.958-1.071.958-.592 0-1.071-.43-1.071-.958 0-.005 2.142-.007 2.142 0"}),r.createElement("path",{stroke:"#EA9B7D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.228,d:"M103.04 50.179a1.35 1.35 0 0 1-.331.034c-.144 0-.263-.01-.332-.028"}),r.createElement("path",{fill:"#222",d:"M100.841 47.866a.468.468 0 1 1-.465-.472.47.47 0 0 1 .462.471z"}),r.createElement("path",{stroke:"#BE7F5A",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.228,d:"M101.143 45.865a1.714 1.714 0 0 0-.998-.332 1.685 1.685 0 0 0-1 .316"}),r.createElement("path",{fill:"#222",d:"M104.584 47.866a.468.468 0 1 0 .466-.472.465.465 0 0 0-.462.471z"}),r.createElement("path",{stroke:"#BE7F5A",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:.228,d:"M104.284 45.865a1.709 1.709 0 0 1 1.997-.016"}),r.createElement("path",{fill:"#BE7F5A",d:"M107.786 47.893c.053.375.231.404.397.063l.381-.788c.166-.34.328-.85.363-1.135.034-.284-.178-.712-.469-.953l-.685-.563c-.293-.24-.487-.131-.434.244l.447 3.13zM96.598 46.396l3.385-5.727-1.397.272-.879 1.05-.415.547-.573 1.748z"}),r.createElement("path",{fill:"#BE7F5A",d:"M97.438 47.887c-.025.378-.156.397-.294.044l-.653-1.688a3.112 3.112 0 0 1-.15-1.322l.19-1.3c.054-.376.335-.482.622-.235l.02.015c.287.244.502.754.477 1.132l-.215 3.354zM101.739 39.281a6.764 6.764 0 0 0-4.598 2.148 20.768 20.768 0 0 0 11.647 5.883c.094-.516.137-1.05.109-1.6a6.801 6.801 0 0 0-7.158-6.43"}),r.createElement("path",{fill:"#BE7F5A",d:"M108.883 46.452c.134-.515.213-1.05.213-1.606 0-3.57-2.951-6.465-6.593-6.465s-6.593 2.895-6.593 6.465c0 .253.3.51.332.756l3.37-5.298 2.891 1.7 6.377 4.448z"}),r.createElement("path",{fill:"#4E4E4E",fillRule:"evenodd",d:"m106.835 52.96 1.536-4.302.214.077-1.59 4.452h-3.519v-.228z",clipRule:"evenodd"}),r.createElement("path",{fill:"#4E4E4E",d:"M97.315 46.073c-.045-.375-.388-.65-.754-.561-1.792.43-2.182 1.63-1.962 3.477.21 1.77.961 2.39 2.528 2.725.44.094.825-.285.772-.73zM108.097 46.073c.044-.375.387-.65.754-.561 1.792.43 2.182 1.63 1.962 3.477-.211 1.77-.962 2.39-2.529 2.725-.439.094-.825-.285-.772-.73zM103.318 52.761h2.188v.625h-2.188z"}),r.createElement("path",{fill:"#4E4E4E",fillRule:"evenodd",d:"M102.538 39.547a6.493 6.493 0 0 0-6.493 6.493h-.455a6.948 6.948 0 1 1 13.897 0h-.456a6.493 6.493 0 0 0-6.493-6.493",clipRule:"evenodd"}))))))};var gg,vg,bg,yg,jg,Og,wg,xg,Pg,Eg,_g,Sg,Cg,kg,Ng,Ig,Ag,Dg,zg,Tg;function Fg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Mg=j.Ay.div(gg||(gg=Fg(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  --primary-fill-color: #0017c1;\n  --primary-border-color: #0017c1;\n  --primary-text-color: #ffffff;\n\n  --primary-hover-fill-color: #00118f;\n  --primary-hover-border-color: #00118f;\n\n  --primary-active-fill-color: #000071;\n  --primary-active-border-color: #000071;\n\n  --secondary-text-color: #0017c1;\n  --secondary-border-color: #0017c1;\n\n  --secondary-hover-border-color: #00118f;\n  --secondary-hover-fill-color: #c5d7fb;\n  --secondary-hover-text-color: #00118f;\n\n  --secondary-active-border-color: #000071;\n  --secondary-active-fill-color: #9db7f9;\n  --secondary-active-text-color: #000071;\n\n  @media (prefers-color-scheme: dark) {\n    --primary-border-color: #264af4;\n    --primary-fill-color: #0017c1;\n    --primary-text-color: #ffffff;\n\n    --primary-hover-fill-color: #00118f;\n    --primary-hover-border-color: #264af4;\n\n    --primary-active-fill-color: #000071;\n    --primary-active-border-color: #264af4;\n\n    --secondary-text-color: #7096f8;\n    --secondary-border-color: #7096f8;\n\n    --secondary-hover-border-color: #7096f8;\n    --secondary-hover-fill-color: transparent;\n    --secondary-hover-text-color: #c5d7fb;\n\n    --secondary-active-border-color: #7096f8;\n    --secondary-active-fill-color: transparent;\n    --secondary-active-text-color: #9db7f9;\n  }\n"]))),Lg=(0,j.Ay)(La._)(vg||(vg=Fg(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  text-align: center;\n  gap: 7px;\n"]))),Rg=j.Ay.div(bg||(bg=Fg(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n  margin: ",";\n  align-items: ",";\n  text-align: ",";\n"])),(e=>e.$gap||0),(e=>e.$margin||"0"),(e=>e.$align||"center"),(e=>e.$align||"center")),Vg=(0,j.Ay)(Rg)(yg||(yg=Fg(["\n  background-color: #edf1ff;\n  padding: 30px 20px;\n"]))),Bg=(0,j.Ay)("div")(jg||(jg=Fg(["\n  justify-self: flex-start;\n  display: flex;\n  align-items: baseline;\n  gap: 4px;\n"]))),Ug=j.Ay.span(Og||(Og=Fg(["\n  font-size: ","px;\n  font-weight: ",";\n  ","\n  ","\n"])),(e=>e.$size),(e=>e.$weight),(e=>e.$lineHeight&&"line-height: ".concat(e.$lineHeight,";")),(e=>e.$color&&"color: ".concat(e.$color,";"))),Hg=(0,j.Ay)(Ug)(wg||(wg=Fg(["\n  text-emphasis-style: circle;\n"]))),Kg=j.Ay.div(xg||(xg=Fg(["\n  display: flex;\n  width: 100%;\n"]))),qg=j.Ay.div(Pg||(Pg=Fg(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 50%;\n  background-color: ",";\n  padding: 10px;\n  gap: 16px;\n  padding-top: 20px;\n\n  & svg {\n    width: 100%;\n    padding: 0 10px;\n  }\n\n  & > span {\n    background-color: #333333;\n    color: #ffffff;\n    padding: 5px 18px;\n    border-radius: 20px;\n    letter-spacing: 2px;\n    font-weight: 700;\n    font-size: 0.8em;\n  }\n\n  & > div {\n    text-align: center;\n    color: #333333;\n    --arrow-size: 8px;\n\n    & > h3 {\n      font-size: 0.9em;\n      font-weight: 700;\n    }\n\n    & > h2 {\n      font-size: 1.1em;\n      font-weight: 700;\n    }\n\n    & > p {\n      font-weight: 400;\n      font-size: 0.8em;\n    }\n  }\n"])),(e=>e.$bgColor)),Gg=j.Ay.div(Eg||(Eg=Fg(["\n  width: 0;\n  height: 0;\n  margin-top: auto;\n  border-left: var(--arrow-size) solid transparent;\n  border-right: var(--arrow-size) solid transparent;\n  border-top: var(--arrow-size) solid ",";\n"])),(e=>e.$accentColor)),Wg=j.Ay.span(_g||(_g=Fg(["\n  background-color: #333333;\n  color: #ffffff;\n  padding: 5px 18px;\n  border-radius: 20px;\n  letter-spacing: 2px;\n  font-weight: 700;\n  font-size: 1.2em;\n  width: fit-content;\n"]))),$g=j.Ay.p(Sg||(Sg=Fg(["\n  font-size: 18px;\n  font-weight: 700;\n  letter-spacing: 1px;\n"]))),Yg=j.Ay.p(Cg||(Cg=Fg(["\n  font-size: 27px;\n  font-weight: 700;\n  letter-spacing: 1px;\n"]))),Jg=j.Ay.p(kg||(kg=Fg(["\n  font-size: ","px;\n  font-weight: ",";\n"])),(e=>e.$fontSize?e.$fontSize:"16"),(e=>e.$bold?700:400)),Qg=j.Ay.div(Ng||(Ng=Fg(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  margin: 4px 0;\n\n  & > span {\n    background-color: var(--primary-border-color);\n    border-radius: 50%;\n    padding: 5px;\n    color: var(--primary-text-color);\n    width: 25px;\n    height: 25px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"]))),Xg=(0,j.Ay)(Wt)(Ig||(Ig=Fg(["\n  & > a {\n    border-radius: 8px !important;\n    position: relative;\n\n    ","\n    ","\n\n    & > .merIcon {\n      position: absolute;\n      right: 0;\n      padding-right: inherit;\n    }\n\n    &:hover,\n    &:active {\n      cursor: pointer;\n      text-decoration: underline;\n    }\n  }\n"])),(e=>e.$fill&&"background-color: ".concat(e.$fill," !important;")),(e=>e.$text&&"color: ".concat(e.$text," !important;"))),Zg=(0,j.Ay)(Xg)(Ag||(Ag=Fg(["\n  & > a {\n    border-color: var(--primary-border-color) !important;\n    background-color: var(--primary-fill-color) !important;\n    color: var(--primary-text-color) !important;\n\n    & > .merIcon {\n      fill: var(--primary-text-color) !important;\n    }\n\n    &:hover {\n      border-color: var(--primary-hover-border-color) !important;\n      background-color: var(--primary-hover-fill-color) !important;\n    }\n\n    &:active {\n      border-color: var(--primary-active-border-color) !important;\n      background-color: var(--primary-active-fill-color) !important;\n    }\n  }\n"]))),ev=(0,j.Ay)(Xg)(Dg||(Dg=Fg(["\n  & > a {\n    border-color: var(--secondary-border-color) !important;\n    color: var(--secondary-text-color) !important;\n\n    & > .merIcon {\n      fill: var(--secondary-text-color) !important;\n    }\n\n    &:hover {\n      border-color: var(--secondary-hover-border-color) !important;\n      background-color: var(--secondary-hover-fill-color) !important;\n      color: var(--secondary-hover-text-color) !important;\n\n      & > .merIcon {\n        fill: var(--secondary-hover-text-color) !important;\n      }\n    }\n\n    &:active {\n      border-color: var(--secondary-active-border-color) !important;\n      background-color: var(--secondary-active-fill-color) !important;\n      color: var(--secondary-active-text-color) !important;\n\n      & > .merIcon {\n        fill: var(--secondary-active-text-color) !important;\n      }\n    }\n  }\n"]))),tv=j.Ay.div(zg||(zg=Fg(["\n  display: inline-flex;\n  position: absolute;\n  left: 0;\n  padding-left: inherit;\n"]))),nv=j.Ay.iframe(Tg||(Tg=Fg(["\n  aspect-ratio: 16 / 9;\n  width: 100% !important;\n"]))),rv=e=>{let{startVerificationFlowLink:t,helpCentreLink:n,downloadAppLink:r,identificationCode:i}=e;const{ready:a}=(0,c.B)(["vcfOrchestrator"]),o="idp:verification:vcf:identity_verification:digital_identification_app_service:start";return ep(o),a?(0,h.jsx)(X,{"location-0":o,children:(0,h.jsxs)(Mg,{"data-testid":"digital-identification-identity-verification-ui",children:[(0,h.jsx)(Rg,{$align:"center",children:(0,h.jsx)(Ug,{$size:22,$weight:700,children:""})}),(0,h.jsxs)(Lg,{children:[(0,h.jsx)(Ug,{$size:30,$weight:400,$lineHeight:"220%",children:"\\"}),(0,h.jsxs)(Bg,{children:[(0,h.jsx)(Ug,{$size:40,$weight:590,children:"2"}),(0,h.jsx)(Ug,{$size:20,$weight:700,children:""}),(0,h.jsx)(Ug,{$size:25,$weight:700,children:""}),(0,h.jsx)(Hg,{$size:25,$weight:700,children:""})]}),(0,h.jsx)(Ug,{$size:30,$weight:400,$lineHeight:"220%",children:"/"})]}),(0,h.jsxs)(Kg,{children:[(0,h.jsxs)(qg,{$bgColor:"#EDF1FF",children:[(0,h.jsx)(uf,{viewBox:"0 0 136 90"}),(0,h.jsx)("span",{children:" 1"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{children:""}),(0,h.jsx)("h2",{children:""}),(0,h.jsx)("p",{children:"10"})]}),(0,h.jsx)(Gg,{$accentColor:"#0017C1"})]}),(0,h.jsxs)(qg,{$bgColor:"#E4F5E2",children:[(0,h.jsx)(fg,{viewBox:"0 0 136 90"}),(0,h.jsx)("span",{children:" 2"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{children:""}),(0,h.jsx)("h2",{children:""}),(0,h.jsx)("p",{children:"2"})]}),(0,h.jsx)(Gg,{$accentColor:"#00AC00"})]})]}),(0,h.jsxs)(Rg,{$gap:16,$margin:"32px 0 0 0",children:[(0,h.jsx)(Wg,{children:"1"}),(0,h.jsxs)(Rg,{$gap:4,children:[(0,h.jsx)($g,{children:""}),(0,h.jsx)(Yg,{children:""}),(0,h.jsx)(Jg,{children:"10"}),(0,h.jsx)(Jg,{children:""}),(0,h.jsx)(Rg,{$margin:"30px 0",children:(0,h.jsx)(Jh,{})})]}),(0,h.jsxs)(Rg,{$align:"left",$gap:7,children:[(0,h.jsx)(Jg,{$bold:!0,children:""}),(0,h.jsx)(Jg,{children:""})]}),(0,h.jsx)(ev,{intent:"secondary",fluid:!0,loading:!r,"location-1":"download_button",children:(0,h.jsxs)("a",{href:r,children:[" ",(0,h.jsx)(Cm.R,{})]})}),(0,h.jsxs)(Rg,{$align:"left",$gap:7,children:[(0,h.jsx)(Jg,{$bold:!0,children:""}),(0,h.jsxs)(Jg,{children:[(0,h.jsxs)(Qg,{children:[(0,h.jsx)("span",{children:"1"})," "," ",i&&"(  : ".concat(i," )")]}),(0,h.jsxs)(Qg,{children:[(0,h.jsx)("span",{children:"2"})," "]}),(0,h.jsxs)(Qg,{children:[(0,h.jsx)("span",{children:"3"})," "]}),(0,h.jsxs)(Qg,{children:[(0,h.jsx)("span",{children:"4"})," "]})]})]}),(0,h.jsx)(Zg,{intent:"primary",fluid:!0,loading:!r,"location-1":"identification_button",children:(0,h.jsxs)("a",{"data-testid":"digital-identity-start-verification-flow",href:t,children:[(0,h.jsx)(tv,{children:(0,h.jsx)(Nm,{})})," ",(0,h.jsx)(Cm.R,{})]})}),(0,h.jsxs)(Vg,{$margin:"5px 0",$gap:10,children:[(0,h.jsx)(Ug,{$size:20,$weight:700,$color:"#333333",children:"\\  /"}),(0,h.jsx)(nv,{src:"https://www.youtube-nocookie.com/embed/zHZboN-RFZY?si=qzBhabqaY2FFyZVG",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})]})]}),(0,h.jsxs)(Rg,{$gap:8,$margin:"32px 0 0 0",children:[(0,h.jsx)(Wg,{children:"2"}),(0,h.jsxs)(Rg,{$gap:4,$margin:"4px 0 0 0",children:[(0,h.jsx)($g,{children:""}),(0,h.jsx)(Yg,{children:""}),(0,h.jsx)(Jg,{children:"2"}),(0,h.jsx)(Jg,{children:""}),(0,h.jsx)(Rg,{$margin:"30px 0",children:(0,h.jsx)(Yf,{})}),(0,h.jsx)(Xg,{$fill:"#00AC00",$text:"#ffffff",fluid:!0,"location-1":"help_center",children:(0,h.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:""})}),(0,h.jsx)(Rg,{$align:"left",$margin:"5px 0",children:(0,h.jsx)(Jg,{$fontSize:11,children:" "})})]})]})]})}):(0,h.jsx)(Fi,{})},iv=()=>{const[e]=ut("/jp/v1/iv/options",{withDPoP:!0}),[t]=ut("/jp/v1/challenge/initiate_resumption",{withDPoP:!0}),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(void 0),c=m.t7.loginInquiries(ve.sw.Japanese),{vcfState:{challengeId:l}}=Sa(),{onError:s}=qu(),u=(0,r.useCallback)((async()=>{var n,r,a,c,u;const d=await e({protocol:wu.Qz.IDENTITY_VERIFICATION_PROTOCOL_DIGITAL_IDENTIFICATION_APP_SERVICE});if(d.error||null===(n=d.data)||void 0===n||!n.sessionId)return void s(Oa.DigitalIdentityVerificationIVOptions,d);o(null===(r=d.data)||void 0===r||null===(r=r.options)||void 0===r||null===(r=r.digitalIdentificationAppServiceOptions)||void 0===r?void 0:r.identificationCode);const p=await t({challengeId:l,allowCrossDevice:!0,resumptionClientMetadata:wa.DigitalIdentification});if(p.error||null===(a=p.data)||void 0===a||!a.resumeToken)return void s(Oa.DigitalIdentityVerificationChallengeResumptionInitiate,p);const m=be(),h=new URL("/jp/v1/rp/digital_identification_app_service/sign","https://auth.mercari.com"),f=new URLSearchParams,g="https://login.jp.mercari.com";f.append("success_callback_url","".concat(g,"/recovery")),f.append("error_callback_url","".concat(g,"/recovery")),f.append("iv_session_id",null===(c=d.data)||void 0===c?void 0:c.sessionId),f.append("challenge_resume_token",null===(u=p.data)||void 0===u?void 0:u.resumeToken),m&&f.append("flow_session_id",m),i("".concat(h.toString(),"?").concat(f.toString()))}),[l,t,e,s]);return(0,r.useEffect)((()=>{u()}),[u]),(0,h.jsx)(rv,{startVerificationFlowLink:n,helpCentreLink:c,downloadAppLink:n,identificationCode:a})},av=()=>{const[e,{loading:t}]=ut("/jp/v1/iv/verify",{withDPoP:!0}),[n,{loading:i}]=ut("/jp/v1/identity_verification/poip/verify",{withDPoP:!0}),[a,o]=(0,r.useState)(!1),{urlSearchParams:l}=U(),{iv_session_id:s}=l,{t:u,ready:p}=(0,c.B)(["vcfOrchestrator"]),{vcfState:{challengeId:f}}=Sa(),{onError:g,onComplete:v}=qu(),{resetVcfState:b}=Sa(),y=(0,r.useCallback)((async()=>{var r,c,u,d;if(l.error)return;if(t||i||a)return;if(!s)return void g(Oa.DigitalIdentityVerificationIVSessionIDNoSessionId);const p=await e({sessionId:s,protocol:wu.Qz.IDENTITY_VERIFICATION_PROTOCOL_DIGITAL_IDENTIFICATION_APP_SERVICE});if(p.error||null===(r=p.data)||void 0===r||!r.poip)return void g(Oa.DigitalIdentityVerificationIVVerify,p);const m=await n({challengeId:f,poip:null===(c=p.data)||void 0===c?void 0:c.poip});var h,b;if(m.error||null===(u=m.data)||void 0===u||!u.poa)return 403===(null===(h=m.error)||void 0===h?void 0:h.status)&&null!==(b=m.error)&&void 0!==b&&b.errors.some((e=>{var t;return"7"===(null===(t=e.code)||void 0===t?void 0:t.toString())}))?void o(!0):void g(Oa.DigitalIdentityVerificationPOIPVerify,m);v({poa:null===(d=m.data)||void 0===d?void 0:d.poa})}),[f,e,t,s,v,g,n,i,l.error,a]);if((0,r.useEffect)((()=>{y()}),[y]),l.error){const e="idp:verification:vcf:identity_verification:digital_identification_app_service:error";return Ee.log(To(e)),p?(0,h.jsx)(X,{"location-1":e,children:(0,h.jsx)(d.h,{action:(0,h.jsx)(Wt,{"location-1":"try_again",fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-t-16",children:(0,h.jsx)(Ra,{to:"/recovery",search:"?",onClick:b,children:u("vcfOrchestrator:digitalRecovery.verify.error.button")})}),title:(0,h.jsx)("p",{children:u("vcfOrchestrator:digitalRecovery.verify.error.title")}),body:(0,h.jsx)(La._,{children:u("vcfOrchestrator:digitalRecovery.verify.error.description")})})}):(0,h.jsx)(Fi,{})}if(a){const e="idp:verification:vcf:identity_verification:identity_mismatch";return Ee.log(To(e)),p?(0,h.jsx)(X,{"location-1":e,children:(0,h.jsx)(d.h,{action:(0,h.jsx)(Wt,{"location-1":"help_center",fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-t-16",children:(0,h.jsx)(Mt,{href:m.t7.loginInquiries(ve.AT.Japanese),children:u("vcfOrchestrator:digitalRecovery.verify.idMismatchError.button")})}),title:(0,h.jsx)("p",{children:u("vcfOrchestrator:digitalRecovery.verify.idMismatchError.title")}),body:(0,h.jsx)(La._,{children:u("vcfOrchestrator:digitalRecovery.verify.idMismatchError.description")})})}):(0,h.jsx)(Fi,{})}return(0,h.jsx)(Fi,{})};var ov,cv=n(4886),lv=n(805),sv=n(9948);const uv=j.Ay.div(ov||(ov=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-left: auto;\n  margin-top: ",";\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n"])),Ka.i.spacing[16]),dv=e=>{let{links:t}=e;return(0,h.jsx)(uv,{children:t.map((e=>(0,h.jsx)(te._,{className:"mer-spacing-y-8",children:(0,h.jsxs)(Mt,{href:e.url,onClick:()=>e.logEvent&&Ee.log(e.logEvent),children:[e.title,e.icon]})},e.url)))})},pv=e=>{let{links:t}=e;return(0,h.jsx)(uv,{children:t.map((e=>{var t;return(0,h.jsx)(sv.H,{as:Mt,marginBlock:"spacing8",href:e.url,onClick:()=>e.logEvent&&Ee.log(e.logEvent),icon:null!==(t=e.icon)&&void 0!==t?t:(0,h.jsx)(wr.k34,{size:"xSmall"}),iconPlacement:"end",children:e.title},e.url)}))})},mv=e=>{let{handleResendEmail:t,time:n}=e;const{t:i}=(0,c.B)(["vcfOrchestrator"]),[a,o]=(0,r.useState)({limit:0,remaining:0});(0,r.useEffect)((()=>{o({limit:n,remaining:n});const e=setInterval((()=>{o((t=>{let{limit:n,remaining:r}=t;return r>0?{remaining:r-1,limit:n}:(clearInterval(e),{limit:0,remaining:0})}))}),1e3);return()=>clearInterval(e)}),[n]);const l=(0,r.useCallback)((()=>{a.remaining>0||t()}),[a.remaining,t]);return(0,h.jsx)(Wt,{"location-1":"start","location-2":"resend_email",fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-y-24",disabled:a.remaining>0,onClick:l,children:(0,h.jsx)("button",{children:a.remaining>0?i("vcfOrchestrator:emailRecovery.buttonWithTimer",{timeRemaining:a.remaining}):i("vcfOrchestrator:emailRecovery.button")})})};var hv;function fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fv(Object(n),!0).forEach((function(t){vv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bv=j.Ay.div(hv||(hv=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n"]))),yv=()=>{var e;const{t,ready:n,i18n:{language:i}}=(0,c.B)(["vcfOrchestrator"]),[a,{loading:o}]=bm(),[l]=ut("/jp/v1/authentication/email_link/resend_link",{withDPoP:!0}),[s,u]=(0,r.useState)(!0),[p,f]=(0,r.useState)(0),g=(0,r.useRef)(!1),[v,b]=(0,r.useState)(null),{onError:y}=qu(),{resetVcfState:j,setOrchestrator:O,orchestrator:w,vcfState:{challengeId:x}}=Sa(),{identifier:P,setIdentifier:E}=yu(),_=(0,r.useCallback)((async()=>{var e;f(0);const t=await l({challengeId:x,resumptionClientMetadata:wa.Recovery});!t.error&&null!==(e=t.data)&&void 0!==e&&e.retryInSeconds?(f(t.data.retryInSeconds),t.data.deviceToken&&await Bu.save(t.data.deviceToken)):y(Oa.EmailLinkRecoveryStartResendEmail,t)}),[x,l,y]),S=(0,r.useCallback)((async()=>{var e,t,n;if(g.current)return;g.current=!0;const r=await a({challengeId:x,resumptionClientMetadata:wa.Recovery});if(r.error){var i,o;const e=null===(i=r.error)||void 0===i?void 0:i.errors.find((e=>{var t;return Boolean(null===(t=e.details)||void 0===t||null===(t=t.retryInfo)||void 0===t?void 0:t.retryDelay)}));if(e&&null!==(o=e.details)&&void 0!==o&&null!==(o=o.retryInfo)&&void 0!==o&&o.retryDelay){var c;const t=parseFloat(null===(c=e.details)||void 0===c?void 0:c.retryInfo.retryDelay.substring(-1)),n=Math.ceil(t/60);return void b(n)}y(Oa.EmailLinkRecoveryStartSendEmail,r)}else f(null!==(e=null===(t=r.data)||void 0===t?void 0:t.retryInSeconds)&&void 0!==e?e:0),null!==(n=r.data)&&void 0!==n&&n.deviceToken&&await Bu.save(r.data.deviceToken)}),[a,x,y]);(0,r.useEffect)((()=>{S()}),[S]),Qs("idp:verification:vcf:authentication:email_link:start");const C=(0,ge.gI)(),k=C&&"JP"!==C?m.oS.cannotLogIn(i):m.t7.loginInquiries(i),N=Boolean(w.type===ja.VerificationScreen&&(null===(e=w.data.availableIdentityVerificationProtocols)||void 0===e?void 0:e.length)),I=()=>{w.type===ja.VerificationScreen&&(Ee.log(It("\tidp:verification:vcf:authentication:email_link:start:digital_identification_button")),O(gv(gv({},w),{},{data:gv(gv({},w.data),{},{availableAuthenticationMethods:[]})})))};return!n||o?(0,h.jsx)(Fi,{}):v?(Ee.log(To("idp:verification:vcf:authentication:email_link:start:time_limitation")),(0,h.jsx)(X,{"location-0":"idp:verification:vcf:authentication:email_link",children:(0,h.jsx)(d.h,{action:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Wt,{"location-1":"start","location-2":"time_limitation","location-3":"back",fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-t-16",children:(0,h.jsx)(Ra,{to:"/recovery",search:"?",onClick:()=>j(),children:t("vcfOrchestrator:emailRecovery.retry.button")})}),N&&(0,h.jsx)(uv,{children:(0,h.jsx)(te._,{className:"mer-spacing-y-8",children:(0,h.jsxs)("a",{onClick:I,children:[t("vcfOrchestrator:emailRecovery.digitalRecovery"),(0,h.jsx)(cv.P,{size:"small"})]})})})]}),title:(0,h.jsx)("p",{children:t("vcfOrchestrator:emailRecovery.retry.title")}),body:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(La._,{children:t("vcfOrchestrator:emailRecovery.retry.description",{time:v})})})})})):s?(0,h.jsx)(X,{"location-0":"idp:verification:vcf:authentication:email_link",children:(0,h.jsx)(Jr.d,{"data-testid":"confirmation-dialog",visible:!0,titleLabel:t("vcfOrchestrator:emailRecovery.dialog.title"),footer:(0,h.jsx)(Wt,{"location-1":"start","location-2":"close",fluid:!0,onClick:()=>u(!1),children:(0,h.jsx)("button",{type:"button",children:t("vcfOrchestrator:emailRecovery.dialog.button")})}),children:(0,h.jsx)("p",{children:t("vcfOrchestrator:emailRecovery.dialog.description")})})}):(0,h.jsxs)(X,{"location-0":"idp:verification:vcf:authentication:email_link",children:[(0,h.jsx)(cc,{titleLabel:t("vcfOrchestrator:emailRecovery.title")}),(0,h.jsx)(La._,{type:"body",className:"mer-spacing-b-24",children:t("vcfOrchestrator:emailRecovery.description")}),P&&(0,h.jsxs)(bv,{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)(La._,{bold:!0,className:"mer-spacing-b-8",children:t("vcfOrchestrator:emailRecovery.identifier.label")}),(0,h.jsx)(La._,{children:P})]}),(0,h.jsx)("div",{children:(0,h.jsx)($t,{"location-1":"start","location-2":"edit",children:(0,h.jsxs)("button",{onClick:()=>{j(),E()},children:[(0,h.jsx)("span",{children:t("vcfOrchestrator:emailRecovery.identifier.edit")}),(0,h.jsx)(lv.J,{color:"inherit",size:"small"})]})})})]}),(0,h.jsx)(mv,{handleResendEmail:_,time:p}),(0,h.jsx)(Js,{}),(0,h.jsx)(dv,{links:[{title:t("vcfOrchestrator:emailRecovery.guide"),url:k,icon:(0,h.jsx)(cv.P,{size:"small"}),logEvent:It("idp:verification:vcf:authentication:email_link:start:help_center")}]}),N&&(0,h.jsx)(uv,{children:(0,h.jsx)(te._,{children:(0,h.jsxs)("a",{onClick:I,children:[t("vcfOrchestrator:emailRecovery.digitalRecovery"),(0,h.jsx)(cv.P,{size:"small"})]})})})]})},jv=()=>{const[e]=ym(),{urlSearchParams:t}=U(),[n,i]=(0,r.useState)(!1),{vcfState:{challengeId:a}}=Sa(),{onComplete:o,onError:c}=qu(),l=(0,r.useCallback)((async()=>{var r;if(n)return;if(!t.email_link_code)return void c(Oa.EmailLinkRecoveryVerifyNoEmailLinkCode);const l=await e({challengeId:a,emailLinkCode:t.email_link_code});i(!0),l.error?c(Oa.EmailLinkRecoveryVerifyError,l):o({poa:null===(r=l.data)||void 0===r?void 0:r.poa})}),[t.email_link_code,e,a,o,c,n]);return(0,r.useEffect)((()=>{l()}),[l]),(0,h.jsx)(Fi,{})},Ov=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{window.PublicKeyCredential&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable&&PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then((e=>{!0===e&&t(!0)})).catch((()=>{t(!1)}))}),[]),[e]},wv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!!(null!=e&&e.lastFetched&&t&&Math.abs(e.lastFetched.getTime()-(new Date).getTime())<t-n)},xv=e=>{const t=String.fromCharCode.apply(null,Array.from(new Uint8Array(e)));return btoa(t)},Pv=e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0)));let Ev=null;const _v=e=>(Ev&&Ev.abort(e),Ev=new AbortController,Ev),Sv="/jp/v1/authentication/webauthn/login",Cv=3e4;let kv=function(e){return e.GetCredentialsCancelledError="CreateCredentialsCancelledError",e.GetCredentialsGenericError="CreateCredentialsGenericError",e}({});const Nv=()=>{const[e,t]=(0,r.useState)(!1),[n]=ut("/jp/v1/authentication/fido/start",{withDPoP:!0}),[i]=ut("/jp/v1/authentication/fido/verify",{withDPoP:!0}),a=(0,r.useRef)(null),o=(0,r.useRef)(null);return[(0,r.useCallback)((async e=>{t(!0);try{var r;if(a.current&&a.current.abort("Aborting existing instance of navigator.credentials.get request"),a.current=_v(),!wv(o.current,parseInt((null===(r=o.current)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.timeout)||"0",10)||0,Cv)||!o.current){const t=await n({rpid:"jp.mercari.com",challengeId:e,timeout:String(Cv)});if(!$e(t))return t.error?{apiError:t}:{authenticatorError:new Error("Failed to fetch credential-data via /options request")};o.current={data:t.data,lastFetched:new Date}}let t;try{const e=o.current.data,{timeout:n}=e,r={rpId:e.rpId,challenge:Pv(e.challenge),allowCredentials:e.allowCredentials.map((e=>({type:"public-key",id:Pv(e.id),transports:e.transports}))),userVerification:e.userVerification,timeout:n?parseInt(n,10):void 0};if(t=await navigator.credentials.get({publicKey:r,signal:a.current.signal,mediation:"required"}),!t)throw new Error("Failed to get credential via navigator.credentials.get")}catch(e){return"NotAllowedError"===e.name?{authenticatorError:Error(kv.GetCredentialsCancelledError)}:{authenticatorError:e}}const c=t.response,l=await i({challengeId:e,id:t.id,raw_id:xv(t.rawId),type:"public-key",response:{client_data_json:xv(c.clientDataJSON),authenticator_data:xv(c.authenticatorData),signature:xv(c.signature),user_handle:c.userHandle?xv(c.userHandle):void 0}});return null!=l&&l.data?{fidoVerifyData:l.data}:null!=l&&l.error?{apiError:l}:{authenticatorError:new Error("Failed to get assertion response")}}finally{t(!1)}}),[n,i]),e]};let Iv=function(e){return e.CreateCredentialsCancelledError="CreateCredentialsCancelledError",e.CreateCredentialsGenericError="CreateCredentialsGenericError",e}({});function Av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zv=(e,t)=>{var n;const r=[];return e.forEach((e=>{e&&r.push("".concat(e))})),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Av(Object(n),!0).forEach((function(t){Dv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:le.y1.FIDO_ERROR,errorDetails:r,url:null===(n=(0,ve.zk)())||void 0===n?void 0:n.location.pathname},t)};let Tv=function(e){return e[e.PasskeyEnforcement=0]="PasskeyEnforcement",e[e.LoginSupport=1]="LoginSupport",e[e.PasskeyError=2]="PasskeyError",e}({});const Fv=()=>{const[e,t]=(()=>{const[e,t]=(0,r.useState)(!1),[n]=ut("/jp/v1/authentication/webauthn/options"),[i]=ut(Sv),a=(0,r.useRef)(null),o=(0,r.useRef)(null),c=(0,r.useRef)((e=>{a.current&&a.current.abort(e)}));return[(0,r.useCallback)((async e=>{try{var r;if(c.current("Aborting existing instance of navigator.credentials.get request"),a.current=_v(),!wv(o.current,parseInt((null===(r=o.current)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.timeout)||"0",10)||0,3e4)||!o.current){const e=await n({rpid:"jp.mercari.com",target_endpoint:"".concat("https://accounts.mercari.com").concat(Sv)});if(!$e(e))return e.error?{apiError:e}:{authenticatorError:new Error("Failed to fetch credential-data via /options request")};o.current={data:e.data,lastFetched:new Date}}const l=o.current.data,s=e===yt.PasskeyAutofill?"conditional":"required",u=e===yt.PasskeyAutofill?void 0:l.timeout,d={rpId:l.rpId,challenge:Pv(l.challenge),allowCredentials:l.allowCredentials.map((e=>({type:"public-key",id:Pv(e.id),transports:e.transports}))),userVerification:l.userVerification,timeout:u?parseInt(u,10):void 0},p=await navigator.credentials.get({publicKey:d,signal:a.current.signal,mediation:s});if(!p)throw new Error("Failed to get credential via navigator.credentials.get");const m=p.response;t(!0);const h=await i({id:p.id,raw_id:xv(p.rawId),type:"public-key",response:{client_data_json:xv(m.clientDataJSON),authenticator_data:xv(m.authenticatorData),signature:xv(m.signature),user_handle:m.userHandle?xv(m.userHandle):void 0},iv_cert:me.current.ivCert||Re()});return t(!1),null!=h&&h.data?{loginFidoResponseData:h.data}:null!=h&&h.error?{apiError:h}:{authenticatorError:new Error("Failed to get assertion response")}}catch(e){return x.Cp(e),{authenticatorError:e}}}),[n,i]),e]})(),[n,i]=(0,r.useState)(!!t),{createOIDCSession:a}=Nr(),{navigate:o}=(0,_r.f)(),[c,l]=(0,r.useState)(null);return{handlePasskeyLogin:(0,r.useCallback)((async t=>{let{method:r,location:s,isPasskeyEnforced:u}=t;if(n)return;const d=()=>{u?c===Tv.PasskeyEnforcement?l(Tv.LoginSupport):l(Tv.PasskeyEnforcement):l(Tv.PasskeyError)},p=await e(r);if("authenticatorError"in p)return i(!1),u&&d(),void Ee.log(zv(["Authenticator error: ".concat(p.authenticatorError.message)],{location:s}));var m;"loginFidoResponseData"in p?(await Dr({uid:"",event:"login_complete"}),Ee.log(Rr(r)),a(p.loginFidoResponseData.poa)):(i(!1),"apiError"in p&&((e=>{var t;return null==e||null===(t=e.errors)||void 0===t?void 0:t.some((e=>"SMS_VERIFICATION_REQUIRED"===(null==e?void 0:e.code)))})(p.apiError.error)?o("/signin/mfa",{state:{message:null===(m=p.apiError.error)||void 0===m?void 0:m.message,method:r}}):(Ee.log(((e,t)=>zv([null==e?void 0:e.message,null==e?void 0:e.status,JSON.stringify(null==e?void 0:e.errors)],{location:t}))(p.apiError.error,s)),d())))}),[a,c,n,o,e]),isPasskeySubmitting:n,passkeyError:c,setPasskeyError:l}},Mv=()=>{const[e,t]=(0,r.useState)(!1),[n]=Ov();return(0,r.useEffect)((()=>{(async()=>{try{var e;const r=n&&(null===(e=window.PublicKeyCredential)||void 0===e?void 0:e.isConditionalMediationAvailable)&&await window.PublicKeyCredential.isConditionalMediationAvailable();t(!!r)}catch(e){t(!1)}})()}),[n]),e};var Lv,Rv,Vv=n(1967),Bv=n(407);function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uv.apply(null,arguments)}const Hv=function(e){return r.createElement("svg",Uv({xmlns:"http://www.w3.org/2000/svg",width:161,height:160,fill:"none"},e),r.createElement("mask",{id:"passkey-login-enforcement-graphic_svg__a",width:161,height:160,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},Lv||(Lv=r.createElement("path",{fill:"#fff",d:"M160.5 0H.5v160h160z"}))),Rv||(Rv=r.createElement("g",{mask:"url(#passkey-login-enforcement-graphic_svg__a)"},r.createElement("path",{fill:"#FAC8AA",d:"m55.068 173.066-2.236-30.044c-.699-3.353-15.65-21.1-15.65-21.1.698-3.703 4.331-8.035 7.964-9.642l19.633-8.873c5.45-3.145 7.476-7.546 7.476-18.446V65.607h16.42v19.354c0 10.97 1.956 15.301 7.476 18.446l19.633 8.943c3.633 1.537 7.266 5.869 7.965 9.642 0 0-14.952 17.746-15.651 21.1l-2.236 30.044z"}),r.createElement("path",{fill:"#FAC8AA",d:"M48.5 135.896c6.406 0 11.598-5.193 11.598-11.599 0-6.405-5.192-11.598-11.598-11.598-6.406 0-11.598 5.193-11.598 11.598 0 6.406 5.192 11.599 11.598 11.599M112.43 135.896c6.406 0 11.598-5.193 11.598-11.599 0-6.405-5.192-11.598-11.598-11.598-6.405 0-11.598 5.193-11.598 11.598 0 6.406 5.193 11.599 11.598 11.599"}),r.createElement("path",{fill:"#EA9B7D",d:"M89.862 95.721c-.838-2.725-1.187-6.148-1.187-10.83V65.607h-16.42v19.354c0 4.681-.349 8.105-1.187 10.83 3.144 2.096 6.428 3.353 9.362 3.353 2.935 0 6.288-1.327 9.432-3.423"}),r.createElement("path",{fill:"#FAC8AA",d:"M48.5 135.896c6.406 0 11.598-5.193 11.598-11.599 0-6.405-5.192-11.598-11.598-11.598-6.406 0-11.598 5.193-11.598 11.598 0 6.406 5.192 11.599 11.598 11.599"}),r.createElement("path",{fill:"#FAC8AA",d:"m32.29 171.599 15.232 2.655s9.223-29.624 12.367-47.93l-22.917-3.982z"}),r.createElement("path",{fill:"#00C1AA",d:"M48.5 137.084c7.062 0 12.786-5.725 12.786-12.786 0-7.062-5.724-12.786-12.786-12.786-7.062 0-12.786 5.724-12.786 12.786 0 7.061 5.724 12.786 12.786 12.786"}),r.createElement("path",{fill:"#00C1AA",d:"m61.076 126.533-9.921 46.952c-.14.769-.908 1.258-1.677 1.118l-19.144-3.354c-.768-.14-1.258-.838-1.188-1.607l6.778-47.441c1.048-4.751 3.633-7.965 6.637-9.851"}),r.createElement("path",{fill:"#00C1AA",d:"M114.526 139.04c0-.768.21-1.956.489-2.725 0 0 8.035-19.283 5.45-22.288-1.537-1.816-6.917-4.821-12.087-7.406-5.52-2.725-5.38 4.751-27.948 4.751s-22.428-7.476-27.947-4.751c-5.17 2.585-10.55 5.52-12.088 7.406-2.585 3.005 5.45 22.288 5.45 22.288.28.699.559 1.957.559 2.725l.07 22.847c0 .769.35 1.957.768 2.586l4.961 7.476c.42.628.629 1.816.49 2.515l-5.8 26.48c-.14.769.35 1.398 1.118 1.398h64.978c.769 0 1.258-.629 1.118-1.398l-5.799-26.48c-.14-.769.07-1.887.559-2.515l5.659-7.616c.489-.629.839-1.747.769-2.515z"}),r.createElement("path",{fill:"#FAC8AA",d:"M112.5 135.966c6.406 0 11.598-5.193 11.598-11.598 0-6.406-5.192-11.598-11.598-11.598-6.406 0-11.598 5.192-11.598 11.598 0 6.405 5.192 11.598 11.598 11.598"}),r.createElement("path",{fill:"#FAC8AA",d:"m138.142 167.197-14.393 5.799s-15.162-27.039-22.079-44.297l21.52-8.664z"}),r.createElement("path",{fill:"#00C1AA",d:"M112.5 137.154c7.062 0 12.786-5.724 12.786-12.786 0-7.061-5.724-12.786-12.786-12.786-7.062 0-12.786 5.725-12.786 12.786 0 7.062 5.724 12.786 12.786 12.786"}),r.createElement("path",{fill:"#00C1AA",d:"m100.622 129.12 19.494 43.808c.279.699 1.118 1.048 1.886.768l18.026-7.266c.699-.279 1.048-1.118.839-1.817l-16.489-44.995c-1.677-3.983-4.053-6.358-7.826-8.524"}),r.createElement("path",{fill:"#00A894",d:"M95.312 202.343h17.677c.769 0 1.258-.629 1.118-1.398l-5.799-26.48c-.14-.769.07-1.886.559-2.515l5.659-7.616c.489-.629.839-1.747.769-2.515l-.769-24.245"}),r.createElement("path",{fill:"#222",d:"M73.793 103.896h13.414c.769 0 1.398.629 1.398 1.398v30.253c0 .769-.63 1.398-1.398 1.398H73.793a1.402 1.402 0 0 1-1.398-1.398v-30.253c0-.769.629-1.398 1.398-1.398"}),r.createElement("path",{fill:"#FAC8AA",d:"M91.679 145.189a4.821 4.821 0 1 0 0-9.643 4.821 4.821 0 0 0 0 9.643"}),r.createElement("path",{fill:"#FAC8AA",d:"m88.815 144.211 5.799-7.756s13.554 6.009 24.524 14.323c10.969 8.315 16.559 13.136 16.559 13.136l-9.293 12.366z"}),r.createElement("path",{fill:"#FAC8AA",d:"m88.814 144.211-11.388-6.498c-.909-.559-1.677-1.327-2.096-2.306l-1.957-4.471c-.768-1.677-.489-3.633.63-5.171l4.96-6.427c1.537-2.027 4.402-2.516 6.568-1.258l5.45 3.284c1.327.838 2.235 2.166 2.375 3.703l1.327 11.319"}),r.createElement("path",{fill:"#FAC8AA",d:"M91.679 145.189a4.821 4.821 0 1 0 0-9.643 4.821 4.821 0 0 0 0 9.643"}),r.createElement("path",{fill:"#BE7F5A",d:"M56.535 59.25 58.7 83.914c.21 2.026-.28 4.75-.978 6.008-.699 1.258.349 2.236 2.445 2.236h35.354c2.096 0 4.052-1.677 4.471-3.703l6.009-30.463"}),r.createElement("path",{fill:"#FAC8AA",d:"M80.5 95.582c5.03 0 12.716-5.45 16.559-13.065.35-.629 3.074-6.288 4.472-11.948 1.397-5.59 1.537-11.179 1.607-11.947.978-9.712-7.197-22.358-22.638-22.358-15.441 0-23.546 12.646-22.638 22.358.07.768.21 6.358 1.607 11.947 1.398 5.66 4.123 11.25 4.472 11.948C67.784 90.133 75.47 95.582 80.5 95.582"}),r.createElement("path",{fill:"#FAC8AA",d:"M100.063 75.11a5.939 5.939 0 1 0 0-11.878 5.939 5.939 0 0 0 0 11.878M60.867 75.11a5.939 5.939 0 1 0 0-11.878 5.939 5.939 0 0 0 0 11.878"}),r.createElement("path",{fill:"#EA9B7D",d:"M80.5 85.802c-1.677 0-3.354-.35-4.751-1.118-.28-.14-.42-.49-.28-.769.14-.28.49-.419.769-.28 2.515 1.258 5.939 1.258 8.454 0 .28-.139.629-.069.769.28.14.35.07.63-.28.769a10.508 10.508 0 0 1-4.681 1.118M80.36 77.558c-.559 0-.978-.07-1.327-.14-.28-.07-.49-.42-.42-.699.07-.279.42-.489.7-.419.139.07.558.07 1.047.07.49 0 .909-.07 1.048-.14.28-.07.63.07.769.42.14.349-.07.628-.42.768-.279.07-.838.14-1.397.14.07 0 .07 0 0 0"}),r.createElement("path",{fill:"#222",d:"M73.443 68.823c0 .978-.838 1.747-1.747 1.747-.908 0-1.746-.769-1.746-1.747 0-.978.838-1.747 1.746-1.747.909 0 1.747.839 1.747 1.747"}),r.createElement("path",{fill:"#BE7F5A",d:"M74.561 62.815c-.14 0-.21-.07-.35-.14-.977-.769-2.165-1.118-3.423-1.118-1.257 0-2.375.35-3.423 1.048-.28.21-.63.14-.839-.14-.21-.28-.14-.629.14-.838 1.188-.839 2.585-1.258 4.052-1.258h.07c1.467 0 2.865.49 4.053 1.328.28.21.349.559.14.838 0 .21-.21.28-.42.28"}),r.createElement("path",{fill:"#222",d:"M87.487 68.823c0 .978.838 1.747 1.747 1.747.908 0 1.746-.769 1.746-1.747a1.73 1.73 0 0 0-1.746-1.747c-.979 0-1.747.839-1.747 1.747"}),r.createElement("path",{fill:"#BE7F5A",d:"M86.369 62.814c-.21 0-.35-.07-.49-.21-.209-.28-.139-.629.14-.838 1.188-.839 2.586-1.328 4.053-1.328 1.537-.07 2.865.42 4.122 1.258.28.21.35.559.14.838-.21.28-.559.35-.838.14-.978-.699-2.166-1.048-3.424-1.048s-2.376.42-3.424 1.118c0 0-.14.07-.279.07M61.076 71.967l-3.703-7.615-.489-3.843 6.568-5.38zM103.417 63.792l-12.716-21.45 5.24.978 3.284 3.983 1.607 2.026 2.096 6.567z"}),r.createElement("path",{fill:"#BE7F5A",d:"m100.413 71.966 4.332-11.11-1.468-9.99-3.982 3.353zM80.57 36.055c6.568-.49 12.646 1.676 17.327 5.59-9.642 12.436-23.126 21.798-38.847 26.2-.559-1.817-.978-3.703-1.118-5.66-.978-13.484 9.153-25.152 22.638-26.13"}),r.createElement("path",{fill:"#BE7F5A",d:"M57.304 64.001c-.49-1.956-.839-3.912-.839-6.008 0-13.415 11.04-24.245 24.734-24.245 13.694 0 24.803 10.83 24.803 24.245 0 .908-1.118 1.886-1.257 2.864L92.098 40.945l-10.83 6.358z"}),r.createElement("path",{fill:"#FF7F2C",d:"M102.159 79.024a1.957 1.957 0 1 0 0-3.913 1.957 1.957 0 0 0 0 3.913M58.84 79.024a1.956 1.956 0 1 0 0-3.913 1.956 1.956 0 0 0 0 3.913"}),r.createElement("path",{fill:"#EEE",d:"M131.714 106.551c13.236 0 23.965-10.73 23.965-23.965s-10.729-23.965-23.965-23.965-23.965 10.73-23.965 23.965c0 13.236 10.729 23.965 23.965 23.965"}),r.createElement("path",{fill:"#EEE",d:"m111.662 103.408 9.152-2.446-7.476-7.476-2.445 9.153a.61.61 0 0 0 .769.769M30.055 58.202c13.235 0 23.965-10.73 23.965-23.965C54.02 21 43.29 10.27 30.054 10.27c-13.235 0-23.965 10.73-23.965 23.966 0 13.235 10.73 23.965 23.966 23.965"}),r.createElement("path",{fill:"#EEE",d:"M50.107 55.058a.61.61 0 0 0 .769-.768l-2.446-9.153-7.406 7.476z"}),r.createElement("path",{fill:"#0086C9",d:"M119.487 78.742c-.14-.14-.28-.28-.28-.419 0-.14 0-.35.14-.559a15.664 15.664 0 0 1 5.52-4.751c2.166-1.118 4.611-1.677 7.126-1.677 2.516 0 4.891.56 7.127 1.607 2.236 1.118 4.122 2.655 5.59 4.681.139.21.209.42.139.56-.07.139-.139.279-.279.419-.14.14-.28.14-.489.14-.21 0-.35-.14-.489-.28a12.879 12.879 0 0 0-5.031-4.262c-2.026-.978-4.262-1.467-6.568-1.467-2.305 0-4.471.489-6.497 1.467a12.872 12.872 0 0 0-5.031 4.262c-.14.21-.279.35-.489.35-.21 0-.349.069-.489-.07m16.559 17.607c-2.446-.629-4.472-1.816-6.079-3.703-1.607-1.886-2.375-4.122-2.375-6.777 0-1.188.419-2.166 1.257-3.004.839-.839 1.887-1.188 3.075-1.188 1.187 0 2.235.419 3.074 1.188.838.838 1.257 1.816 1.257 3.004 0 .768.28 1.467.909 1.956.559.56 1.327.839 2.096.839.838 0 1.537-.28 2.096-.839.559-.559.838-1.188.838-1.956 0-2.725-1.048-5.1-3.074-6.987-2.026-1.886-4.472-2.795-7.266-2.795-2.795 0-5.24.909-7.267 2.795-2.026 1.886-3.074 4.192-3.074 6.917 0 .559.07 1.258.14 2.166.14.838.349 1.886.768 3.004.07.21.07.42 0 .56a.711.711 0 0 1-.419.349.771.771 0 0 1-.559 0c-.209-.07-.279-.21-.349-.42-.349-.908-.629-1.816-.769-2.794a19.86 19.86 0 0 1-.209-2.865c0-3.144 1.118-5.8 3.423-7.965 2.306-2.166 5.031-3.214 8.245-3.214 3.214 0 6.009 1.048 8.314 3.214 2.306 2.166 3.494 4.82 3.494 7.965 0 1.188-.42 2.166-1.258 3.004a4.452 4.452 0 0 1-3.074 1.188c-1.188 0-2.236-.42-3.144-1.188a4.014 4.014 0 0 1-1.328-3.004c0-.769-.279-1.467-.838-1.956-.559-.49-1.258-.839-2.096-.839-.839 0-1.537.28-2.096.839-.559.559-.839 1.188-.839 1.956 0 2.306.699 4.262 2.026 5.8 1.398 1.536 3.144 2.654 5.31 3.213.21.07.35.21.42.35.07.14.07.349.07.558-.07.14-.14.28-.28.42-.07.28-.21.28-.419.21m-11.948-25.013c-.209.14-.419.14-.559.07-.139-.07-.349-.21-.419-.35-.07-.14-.14-.349-.07-.488.07-.14.14-.28.35-.42 1.327-.698 2.724-1.257 4.192-1.607 1.467-.349 2.934-.559 4.401-.559 1.468 0 3.005.21 4.472.56 1.467.349 2.865.908 4.192 1.606.21.14.35.28.35.42 0 .14 0 .349-.07.489s-.21.28-.35.419c-.139.07-.349.07-.629-.07a20.378 20.378 0 0 0-3.912-1.467c-1.328-.35-2.725-.49-4.122-.49-1.398 0-2.725.14-4.053.49-1.327.14-2.585.698-3.773 1.397m4.192 24.524c-1.397-1.467-2.515-3.004-3.214-4.541-.698-1.538-1.118-3.354-1.118-5.45s.769-3.983 2.376-5.45c1.607-1.467 3.493-2.236 5.659-2.236s4.123.769 5.73 2.236c1.607 1.467 2.375 3.354 2.375 5.45 0 .21-.07.42-.209.489-.14.07-.28.21-.489.21-.21 0-.35-.07-.49-.21a.636.636 0 0 1-.209-.49c0-1.816-.629-3.283-1.956-4.47-1.328-1.188-2.865-1.817-4.682-1.817-1.816 0-3.353.629-4.681 1.816-1.327 1.188-1.956 2.725-1.956 4.472 0 1.956.349 3.563.978 4.89.629 1.328 1.607 2.726 2.934 4.053.14.14.21.28.21.49 0 .209-.07.348-.21.488a.633.633 0 0 1-.489.21c-.279.07-.419 0-.559-.14m10.83-2.375c-2.096 0-3.982-.7-5.52-2.166-1.537-1.468-2.305-3.214-2.305-5.38 0-.21.07-.35.209-.49.14-.14.28-.209.489-.209.21 0 .42.07.49.21.069.14.209.28.209.489 0 1.816.629 3.284 1.956 4.402 1.258 1.117 2.795 1.676 4.472 1.676.14 0 .349 0 .629-.07.279 0 .559-.07.838-.07.21-.07.42 0 .559.07.14.14.28.28.28.49.07.21 0 .349-.14.489s-.279.21-.489.28c-.419.139-.839.209-1.118.209-.349.07-.489.07-.559.07M41.583 27.81v-3.354a1.804 1.804 0 0 0-1.817-1.816h-3.353a.7.7 0 0 1-.699-.7c0-.349.35-.698.699-.698h3.353a3.28 3.28 0 0 1 3.284 3.284v3.354a.7.7 0 0 1-.698.698c-.49-.07-.769-.349-.769-.768M17.129 43.81v-3.354a.7.7 0 0 1 .698-.698c.35 0 .7.35.7.698v3.354c0 1.048.838 1.817 1.816 1.817h3.354a.7.7 0 0 1 .698.698c0 .35-.35.7-.698.7h-3.354c-1.747.07-3.214-1.398-3.214-3.215M17.129 27.81v-3.354a3.28 3.28 0 0 1 3.284-3.284h3.353a.7.7 0 0 1 .699.699c0 .349-.35.698-.699.698h-3.353a1.804 1.804 0 0 0-1.817 1.817v3.354a.7.7 0 0 1-.699.698c-.419.07-.768-.21-.768-.629M35.644 46.326a.7.7 0 0 1 .699-.7h3.353a1.804 1.804 0 0 0 1.817-1.816v-3.354a.7.7 0 0 1 .699-.698c.35 0 .698.35.698.698v3.354a3.28 3.28 0 0 1-3.283 3.284h-3.354c-.28 0-.629-.35-.629-.769M34.177 32.002v-2.026c0-.42.35-.769.768-.769.42 0 .769.35.769.769v2.026c0 .419-.35.768-.769.768a.775.775 0 0 1-.768-.768M23.976 32.002v-2.026c0-.42.35-.769.768-.769.42 0 .77.35.77.769v2.026c0 .419-.35.768-.77.768a.775.775 0 0 1-.768-.768M29.076 35.286v-5.24c0-.42.35-.769.769-.769.42 0 .768.35.768.769v5.24c0 .42-.349.769-.768.769a.775.775 0 0 1-.769-.769M30.055 40.874c-1.817 0-3.634-.559-4.961-1.746-.35-.28-.35-.769-.07-1.118.28-.35.769-.35 1.118-.07 2.166 1.886 5.73 1.886 7.965 0 .35-.28.838-.21 1.118.07.28.28.21.838-.07 1.118-1.467 1.118-3.284 1.746-5.1 1.746"}))))};var Kv,qv;function Gv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Wv=(0,j.Ay)(Hv)(Kv||(Kv=Gv(["\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n"]))),$v=(0,j.Ay)(La._)(qv||(qv=Gv(["\n  font-size: 17px;\n  text-align: center;\n"]))),Yv=e=>{let{handlePasskeyVerification:t,loading:n,secondAttempt:r}=e;const{t:i}=(0,c.B)(["vcfOrchestrator"]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Wv,{}),(0,h.jsx)($v,{bold:!0,className:"mer-spacing-t-24",children:(0,h.jsx)(qc.x,{i18nKey:"vcfOrchestrator:passkeyVerification.subHeading",components:{br:(0,h.jsx)("br",{})}})}),(0,h.jsx)(Vv.v,{className:"mer-spacing-t-24",type:"section",variant:"display",title:i("vcfOrchestrator:passkeyVerification.note")}),(0,h.jsx)(dv,{links:[{title:i("vcfOrchestrator:passkeyVerification.guide"),url:m.t7.passkeyGuide(ve.sw.Japanese),icon:(0,h.jsx)(Bv.W,{size:"small"})},{title:i("vcfOrchestrator:passkeyVerification.cantLogin"),url:m.t7.loginInquiries(ve.sw.Japanese),icon:(0,h.jsx)(cv.P,{size:"small"})}]}),(0,h.jsx)(p.j,{className:"mer-spacing-t-48",size:"medium",intent:"primary",fluid:!0,onClick:t,loading:n,children:(0,h.jsx)("button",{type:"button",children:i(r?"vcfOrchestrator:passkeyVerification.tryAgainButtonLabel":"vcfOrchestrator:passkeyVerification.continueButton")})})]})},Jv=()=>{const[e,t]=Nv(),[n,i]=(0,r.useState)(!1),{vcfState:{challengeId:a}}=Sa(),{onComplete:o,onError:c}=qu();return(0,h.jsx)(Yv,{handlePasskeyVerification:async()=>{const t=await e(a);if(!("fidoVerifyData"in t))return"authenticatorError"in t?t.authenticatorError.message===kv.GetCredentialsCancelledError?i(!0):void 0:"apiError"in t?c(Oa.FidoAuthenticationAPI,t.apiError):c(Oa.FidoAuthentication);o({poa:t.fidoVerifyData.poa})},loading:t,secondAttempt:n})};var Qv=n(2566);const Xv=e=>{const t=new Qv.O(e),{browser:n,os:r}=t.getResult();let i=n.name;switch(i){case"Chrome":case"Mobile Chrome":i="Google Chrome";break;case"Firefox":i="Mozilla Firefox";break;case"Edge":i="Microsoft Edge";break;case"Mobile Safari":i="Safari"}let a=r.name;switch(a){case"macOS":case"Mac OS":a="Mac"}return"".concat(a," (").concat(i,")")};var Zv,eb,tb,nb,rb,ib,ab,ob;function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(null,arguments)}var lb,sb;function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}var db,pb,mb,hb,fb,gb;function vb(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const bb=(0,j.Ay)(Hv)(db||(db=vb(["\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n"]))),yb=(0,j.Ay)((function(e){return r.createElement("svg",ub({xmlns:"http://www.w3.org/2000/svg",width:60,height:61,fill:"none"},e),lb||(lb=r.createElement("path",{fill:"#0095EE",d:"M12.545 18.402a1.51 1.51 0 0 1 1.076-.361c.038 0 4.509.399 8.302-2.04 4.274-2.762 7.247-5.087 7.262-5.102a1.38 1.38 0 0 1 1.716 0c.038.022 2.995 2.325 7.263 5.102 1.497.964 4.071 2.145 7.563 2.085.316 0 .602-.022.775-.038.4-.022.76.12 1.061.384.279.264.437.64.437 1.024v13.027C48 42.53 31.315 50.2 30.615 50.515a1.38 1.38 0 0 1-.58.12 1.38 1.38 0 0 1-.579-.12c-.7-.323-17.385-7.985-17.385-18.032V19.456c0-.4.158-.783.46-1.039z"})),sb||(sb=r.createElement("path",{fill:"#fff",d:"M22.149 27.133h1.986v-2.386a5.916 5.916 0 0 1 11.831 0v2.386h1.987c.482 0 .873.392.873.873V39.19a.874.874 0 0 1-.873.873H22.15a.874.874 0 0 1-.873-.873V28.006c0-.482.391-.873.873-.873m11.432-2.386a3.53 3.53 0 0 0-7.06 0v2.386h7.052v-2.386zm-4.953 11.327h2.845l-.767-2.28c.451-.241.767-.708.767-1.257 0-.783-.64-1.423-1.422-1.423-.783 0-1.422.64-1.422 1.423 0 .55.316 1.016.767 1.257z"})))}))(pb||(pb=vb(["\n  min-width: 60px;\n"]))),jb=(0,j.Ay)((function(e){return r.createElement("svg",cb({xmlns:"http://www.w3.org/2000/svg",width:60,height:61,fill:"none"},e),Zv||(Zv=r.createElement("path",{fill:"#727272",d:"M46.232 3.898H24.524a2.98 2.98 0 0 0-2.98 2.98v47.748a2.98 2.98 0 0 0 2.98 2.98h21.707a2.98 2.98 0 0 0 2.98-2.98V6.879a2.98 2.98 0 0 0-2.98-2.98"})),eb||(eb=r.createElement("path",{fill:"#fff",d:"M46.806 6.303H23.95V55.2h22.857z"})),tb||(tb=r.createElement("path",{fill:"#FF0211",d:"m35.958 37.576 5.371-2.687c.379-.19.618-.576.618-1v-6.273c0-.421-.239-.81-.618-1l-5.37-2.687a1.135 1.135 0 0 0-1.009 0l-5.37 2.687c-.38.19-.62.575-.62 1v6.272c0 .422.24.811.62 1l5.37 2.688c.318.157.694.157 1.008 0"})),nb||(nb=r.createElement("path",{fill:"#4DC7FF",d:"M39.934 30.604a2.913 2.913 0 1 0 0-5.825 2.913 2.913 0 0 0 0 5.825"})),rb||(rb=r.createElement("path",{fill:"#fff",d:"m30.746 33.01-.568-.286v-1.683c0-.493.278-.986.85-.922.536.057.95.532 1.08.847.2-.175.385-.215.646-.175.293.04 1.398.46 1.398 1.955v1.983l-.626-.315v-1.858c0-.547-.332-1-.782-1.054-.186-.021-.347.129-.35.447-.004.318 0 1.89 0 1.89l-.572-.286v-1.758c0-.78-.5-1.022-.722-1.047-.125-.014-.354.06-.354.457v1.809z"})),ib||(ib=r.createElement("path",{fill:"url(#fast-mercari-graphic_svg__a)",d:"M12 23.898h14v12H12z",transform:"rotate(90 12 23.898)"})),ab||(ab=r.createElement("path",{fill:"#0095EE",d:"M26.156 30.15a1 1 0 0 1 0 1.545L12.909 42.6a1 1 0 0 1-1.635-.772V20.018a1 1 0 0 1 1.635-.772z"})),ob||(ob=r.createElement("defs",null,r.createElement("linearGradient",{id:"fast-mercari-graphic_svg__a",x1:19,x2:19,y1:23.898,y2:35.898,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:.525}),r.createElement("stop",{offset:.99})))))}))(mb||(mb=vb(["\n  min-width: 60px;\n"]))),Ob=(0,j.Ay)(La._)(hb||(hb=vb(["\n  font-size: 17px;\n  text-align: center;\n"]))),wb=(0,j.Ay)("div")(fb||(fb=vb(["\n  display: flex;\n  gap: 18px;\n"]))),xb=(0,j.Ay)("div")(gb||(gb=vb(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),Pb=e=>{let{handlePasskeyRegistration:t,loading:n,secondAttempt:r}=e;const{t:i}=(0,c.B)(["vcfOrchestrator"]);return Qs("idp:verification:vcf:registration:passkey"),(0,h.jsxs)(X,{"location-0":"idp:verification:vcf:registration:passkey",children:[(0,h.jsx)(sc,{titleLabel:i("vcfOrchestrator:passkeyRegistration.heading"),$centeredOnMobile:!0,$centeredOnDesktop:!0}),(0,h.jsx)(Ob,{bold:!0,className:"mer-spacing-t-24",children:(0,h.jsx)(qc.x,{i18nKey:"vcfOrchestrator:passkeyRegistration.subheading",components:{br:(0,h.jsx)("br",{})}})}),(0,h.jsx)(bb,{className:"mer-spacing-t-16"}),(0,h.jsxs)(wb,{className:"mer-spacing-t-16",children:[(0,h.jsx)(yb,{}),(0,h.jsxs)(xb,{children:[(0,h.jsx)(La._,{bold:!0,children:i("vcfOrchestrator:passkeyRegistration.info.security.title")}),(0,h.jsx)(La._,{children:i("vcfOrchestrator:passkeyRegistration.info.security.description")})]})]}),(0,h.jsxs)(wb,{className:"mer-spacing-t-24",children:[(0,h.jsx)(jb,{}),(0,h.jsxs)(xb,{children:[(0,h.jsx)(La._,{bold:!0,children:i("vcfOrchestrator:passkeyRegistration.info.fast.title")}),(0,h.jsx)(La._,{children:i("vcfOrchestrator:passkeyRegistration.info.fast.description")})]})]}),(0,h.jsx)(Wt,{"location-1":"confirm",className:"mer-spacing-t-48",size:"medium",intent:"primary",fluid:!0,onClick:t,loading:n,children:(0,h.jsx)("button",{type:"button",children:i(r?"vcfOrchestrator:passkeyVerification.tryAgainButtonLabel":"vcfOrchestrator:passkeyVerification.continueButton")})}),(0,h.jsx)(La._,{className:"mer-spacing-t-24",type:"caption",children:(0,h.jsx)(qc.x,{i18nKey:"vcfOrchestrator:passkeyRegistration.footer",components:{guide:(0,h.jsx)(Mt,{href:m.t7.passkeyGuide(ve.sw.Japanese)})}})})]})},Eb=()=>{const{setAuthMethod:e}=yu(),[t,n]=(()=>{const[e,t]=(0,r.useState)(!1),[n]=ut("/jp/v1/registration/fido/start",{withDPoP:!0,withAccessToken:!0}),[i]=ut("/jp/v1/registration/fido/verify",{withDPoP:!0,withAccessToken:!0}),a=(0,r.useRef)(null),o=(0,r.useCallback)((async e=>{const t=await n(e);!We(t)&&t.data&&(a.current={data:t.data,lastFetched:new Date})}),[n]);return[(0,r.useCallback)((async e=>{t(!0);try{var r,o;if(!wv(a.current,parseInt((null===(r=a.current)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.timeout)||"0",10)||0,Cv)||null===(o=a.current)||void 0===o||!o.data){const t=await n(e);if(!$e(t))return t.error?{apiError:t}:{authenticatorError:new Error("Failed to fetch credential-creation options data on register-fido-start")};a.current={data:t.data,lastFetched:new Date}}let t;try{if(t=await(async e=>{const t={challenge:Pv(e.challenge),rp:e.rp,user:{id:Pv(e.user.id),name:e.user.name,displayName:e.user.displayName},pubKeyCredParams:e.pubKeyCredParams.map((e=>({type:"public-key",alg:Number(e.alg)}))),excludeCredentials:e.excludeCredentials.map((e=>({type:"public-key",id:Pv(e.id),transports:e.transports||void 0}))),authenticatorSelection:{authenticatorAttachment:e.authenticatorSelection.authenticatorAttachment||void 0,residentKey:e.authenticatorSelection.residentKey||void 0,requireResidentKey:!0,userVerification:e.authenticatorSelection.userVerification},attestation:e.attestation,timeout:Number(e.timeout)};try{return await navigator.credentials.create({publicKey:t})}catch(e){if("NotAllowedError"===e.name)throw new Error(Iv.CreateCredentialsCancelledError);throw new Error(Iv.CreateCredentialsGenericError)}})(a.current.data),!t)throw new Error("Failed to create credentials")}catch(e){return{authenticatorError:e}}const c={challengeId:e.challengeId,id:t.id,raw_id:xv(t.rawId),type:"public-key",response:{client_data_json:xv(t.response.clientDataJSON),attestation_object:xv(t.response.attestationObject)}},l=await i(c);return $e(l)?l:l.error?{apiError:l}:{authenticatorError:new Error("Failed register-fido-verify")}}finally{t(!1)}}),[n,i]),e,o]})(),[i,a]=(0,r.useState)(!1),{vcfState:{challengeId:o}}=Sa(),{onError:c,onComplete:l}=qu();return(0,r.useEffect)((()=>{e(ed.N2.FIDO_UV)}),[e]),(0,h.jsx)(Pb,{handlePasskeyRegistration:async()=>{const e={challengeId:o,rpid:"jp.mercari.com",key_name:Xv(navigator.userAgent),user_name:"",display_name:""},n=await t(e);if(!("data"in n))return"authenticatorError"in n?n.authenticatorError.message===Iv.CreateCredentialsCancelledError?a(!0):void 0:"apiError"in n?c(Oa.FidoRegistrationAPI,n.apiError):c(Oa.FidoRegistration);var r;l({poa:null===(r=n.data)||void 0===r?void 0:r.poa})},loading:n,secondAttempt:i})};function _b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_b(Object(n),!0).forEach((function(t){Cb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kb=Qc.Ik({email:ps}),Nb=e=>(0,$c.u)(kb,{errorMap:Kl(e,{defaults:{email:e("signup:validation.defaultFieldName.email")}})}),Ib=()=>{const{t:e}=(0,c.B)(["authCommon","email"]),[t]=jd(),{setCurrentState:n}=mm(),[i,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),{saveSignupState:s,signupState:{email:u}}=ra(),{vcfState:{challengeId:d}}=Sa(),p=(0,Jc.mN)({resolver:Nb(e),defaultValues:{email:u}});return Qs("sign_up_email:int:edit_email",yt.Mercari),(0,h.jsxs)(X,{"location-0":"sign_up_email","location-1":"int",children:[(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:e("email:verification.edit.description")}),(0,h.jsx)(X,{"location-2":"edit_email",children:(0,h.jsx)(Jc.Op,Sb(Sb({},p),{},{children:(0,h.jsxs)("form",{onSubmit:p.handleSubmit((async e=>{l(null),a(!0);const{error:r}=await t({challengeId:d,email:e.email});if(r)return l(r),a(!1),void Ee.log(St(yt.Mercari,r,{location:"sign_up_email:int:edit_email"}));var i;i=e.email,s({email:i}),n({state:"start",issuanceId:null})})),children:[(0,h.jsx)(pd,{email:u,autocomplete:"email",className:"mer-spacing-b-24",hideHelpMessage:!0}),o&&(0,h.jsx)(zl,{error:o,className:"mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,loading:i,disabled:i,"location-3":"update",children:(0,h.jsx)("button",{type:"submit",disabled:i,children:e("authCommon:update")})})]})}))})]})};function Ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Db(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ab(Object(n),!0).forEach((function(t){zb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Tb=Qc.Ik({verificationCode:Qc.Yj().max(6).refinement(...rs()).refinement(...$l())}),Fb=()=>{const{t:e}=(0,c.B)(["email","authCommon"]),{signupState:{email:t}}=ra(),{vcfState:{challengeId:n}}=Sa(),{onError:i,onComplete:a}=qu(),[o,l]=(0,r.useState)(!1),{currentState:{issuanceId:s},setCurrentState:u,setSentOtpCodeSnackbar:d}=mm(),[p]=Pd(),[m]=Ed(),[f,g]=(0,r.useState)(null),[v,b]=(0,r.useState)(null),{location:y}=Y(),j=Q(y);Qs("sign_up_email:int:email_verification_code",yt.Mercari);const O=(0,Jc.mN)({resolver:(0,$c.u)(Tb,{errorMap:Kl(e,{defaults:{verificationCode:e("authValidation:onlyHalfWidthNumber")}})})});return(0,h.jsx)("div",{"data-testid":"verify-email-otp-screen",children:(0,h.jsxs)(X,{"location-2":"email_verification_code",children:[(0,h.jsx)("p",{children:e("email:verification.verify.sentCodeToEmail",{email:t})}),(0,h.jsx)(Jc.Op,Db(Db({},O),{},{children:(0,h.jsxs)("form",{onSubmit:O.handleSubmit((async e=>{g(null),b(null),l(!0);const{error:t}=await m({verificationCode:e.verificationCode,challengeId:n,issuanceId:s});if(t)return g(t),l(!1),void Ee.log(St(yt.Mercari,t,{location:"".concat(j,":email_verification_code")}));a(),l(!1)})),children:[(0,h.jsx)(El,{label:e("email:verification.verify.verificationInputLabel"),name:"verificationCode",className:"mer-spacing-y-24",placeholder:e("email:verification.verify.placeholder")}),f&&(0,h.jsx)(zl,{error:f,className:"mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,disabled:o,loading:o,"location-3":"verify",children:(0,h.jsx)("button",{type:"submit",disabled:o,children:e("email:verification.verify.completeVerification")})})]})})),(0,h.jsx)(tc.I,{className:"mer-spacing-y-32"}),(0,h.jsx)(La._,{bold:!0,className:"mer-spacing-b-24",children:e("authCommon:didNotReceiveOtpCode")}),(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)("p",{className:"mer-spacing-b-8",children:e("email:verification.verify.resendCode.resendCodeOption")}),v&&(0,h.jsx)(zl,{error:v,className:"mer-spacing-y-16"}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary","data-testid":"submit-phone",disabled:o,loading:o,onClick:async()=>{var e;b(null),l(!0);const t=await p({challengeId:n});if(t.error)return b(t.error),l(!1),void Ee.log(St(yt.Mercari,t.error,{location:"".concat(j,":email_verification_code")}));null!==(e=t.data)&&void 0!==e&&e.issuanceId?(d(!0),l(!1)):i(Oa.EmailOTPResendNoIssuanceId,t)},"location-3":"resend",children:(0,h.jsx)("button",{type:"button",disabled:o,children:e("email:verification.verify.resendCode.resendCodeButton")})})]}),(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)("p",{className:"mer-spacing-b-8",children:e("email:verification.verify.changeEmailOption")}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary",onClick:()=>u({state:"edit",issuanceId:s}),"location-3":"edit_email",children:(0,h.jsx)("button",{type:"button",disabled:o,children:e("email:verification.editEmail")})})]})]})})};var Mb;function Lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lb(Object(n),!0).forEach((function(t){Vb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Bb=(0,j.Ay)(Jr.d)(Mb||(Mb=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  overflow-wrap: anywhere;\n"]))),Ub=e=>{let{visible:t,onClose:n,setError:i}=e;const{t:a}=(0,c.B)(["authCommon","email"]),{currentState:o,setCurrentState:l,setSentOtpCodeSnackbar:s}=mm(),[u]=Pd(),[d,p]=(0,r.useState)(!1),{signupState:{email:m}}=ra(),{location:f}=Y(),g=Q(f),{vcfState:{challengeId:v}}=Sa(),{onError:b}=qu();return ep("".concat(g,":modal"),t),(0,h.jsx)(Bb,{titleLabel:m,visible:t,"data-testid":"start-otp-dialog",footer:(0,h.jsxs)(X,{"location-3":"modal",children:[(0,h.jsx)(Wt,{onClick:n,intent:"flat","location-4":"cancel",children:(0,h.jsx)("button",{type:"button",children:a("authCommon:serverError.close")})}),(0,h.jsx)(Wt,{intent:"secondary","location-4":"edit_email",onClick:()=>l(Rb(Rb({},o),{},{state:"edit"})),children:(0,h.jsx)("button",{type:"button",children:a("email:verification.editEmail")})}),(0,h.jsx)(Wt,{onClick:async()=>{var e;p(!0);const t=await u({challengeId:v});return t.error?(i(t.error),p(!1),void Ee.log(St(yt.Mercari,t.error,{location:g}))):null!==(e=t.data)&&void 0!==e&&e.issuanceId?(s(!0),void l({state:"otp",issuanceId:t.data.issuanceId})):(b(Oa.EmailOTPSendNoIssuanceId,t),void p(!1))},loading:d,disabled:d,"location-4":"send_verification_button",children:(0,h.jsx)("button",{type:"button",disabled:d,children:a("email:verification.start.dialog.sendCode")})})]}),children:(0,h.jsx)("p",{children:a("email:verification.start.dialog.description")})})},Hb=()=>{const{t:e}=(0,c.B)(["email"]),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(null);return Qs("sign_up_email:int:email_verification",yt.Mercari),(0,h.jsx)("div",{"data-testid":"verify-email-start-screen",children:(0,h.jsxs)(X,{"location-2":"email_verification",children:[(0,h.jsx)(La._,{className:"mer-spacing-b-8",children:e("email:verification.start.description")}),(0,h.jsx)(La._,{color:"secondary",type:"caption",className:"mer-spacing-b-24",children:e("email:verification.start.annotation")}),i&&(0,h.jsx)(zl,{error:i,className:"mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,onClick:()=>{a(null),n(!0)},"location-3":"start_button",children:(0,h.jsx)("button",{type:"button",children:e("email:verification.startVerification")})}),(0,h.jsx)(Ub,{visible:t,onClose:()=>n(!1),setError:e=>{n(!1),a(e)}})]})})},Kb=()=>{const{t:e,ready:t}=(0,c.B)(["email"]),{currentState:{state:n},sentOtpCodeSnackbar:i,setSentOtpCodeSnackbar:a}=mm(),o=(e=>{let{state:t}=e;switch(t){case"otp":return(0,h.jsx)(Fb,{});case"edit":return(0,h.jsx)(Ib,{});default:return(0,h.jsx)(Hb,{})}})({state:n});return(0,r.useEffect)((()=>{i&&Ee.log(Zd("sign_up_email:int:email_verification_code:code_sent"))}),[i]),t?(0,h.jsxs)(X,{"location-0":"sign_up_email",children:[(0,h.jsx)(cc,{titleLabel:e("edit"===n?"email:verification.edit.title":"email:verification.title")}),(0,h.jsx)(X,{"location-1":"int",children:o}),(0,h.jsx)(oa.W,{"data-testid":"code-sent-snackbar","body-text":e("email:verification.start.dialog.codeSent"),visible:i,onClose:()=>a(!1)})]}):(0,h.jsx)(Fi,{})};function qb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qb(Object(n),!0).forEach((function(t){Wb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $b=()=>{const{t:e,ready:t}=(0,c.B)(["vcfOrchestrator"]),[n,i]=(0,r.useState)(!1),[a,o]=ut("/jp/v1/registration/password/verify",{withDPoP:!0,withAccessToken:!0}),[l]=Tl(),{setAuthMethod:s}=yu(),{vcfState:{challengeId:u}}=Sa(),{onComplete:d,onError:p}=qu(),m=Qc.z.object({password:Qc.z.string().refinement(...$l()),confirm:Qc.z.string().refinement(...$l())}).refine(...ls(l)).refine((e=>e.password===e.confirm),{message:e("vcfOrchestrator:passwordRegistration.confirmError"),path:["confirm"]}),f=(0,$c.u)(m,{errorMap:Kl(e,{defaults:{password:e("vcfOrchestrator:passwordRegistration.passwordDescription"),confirm:""}})});(0,r.useEffect)((()=>{s(ed.N2.PASSWORD)}),[s]);const g=(0,Jc.mN)({resolver:f,reValidateMode:"onBlur",defaultValues:{password:"",confirm:""}}),v=g.watch("password");return Qs("idp:verification:vcf:registration:password:verify"),t?(0,h.jsxs)(X,{"location-0":"idp:verification:vcf:registration:password",children:[(0,h.jsx)(sc,{titleLabel:e("vcfOrchestrator:passwordRegistration.heading"),$centeredOnMobile:!0,$centeredOnDesktop:!0}),(0,h.jsx)(Jc.Op,Gb(Gb({},g),{},{children:(0,h.jsxs)("form",{onSubmit:g.handleSubmit((async(e,t)=>{var n;null==t||t.preventDefault();const{confirm:r,password:o}=e;if(r!==o)return;i(!0);const c={password:o,challengeId:u,email:""},l=await a(c);var s;"data"in l?d({poa:null===(s=l.data)||void 0===s?void 0:s.poa}):(Hu(l.error)||null!==(n=l.error)&&void 0!==n&&null!==(n=n.status)&&void 0!==n&&n.toString().startsWith("5"))&&p(Oa.PasswordRegistrationPasswordSubmission,l)})),noValidate:!0,children:[(0,h.jsx)(zs,{password:v,label:e("vcfOrchestrator:passwordRegistration.password")}),(0,h.jsx)(El,{name:"confirm",type:"password",autoCapitalize:"off",className:"mer-spacing-b-24 mer-spacing-t-16",label:e("vcfOrchestrator:passwordRegistration.passwordConfirm"),helpMessage:e("vcfOrchestrator:passwordRegistration.passwordDescription")}),o.error&&(0,h.jsx)(zl,{className:"mer-spacing-b-24",error:o.error}),(0,h.jsx)(Wt,{"location-1":"verify","location-2":"submit",fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-b-24 ".concat(o.error&&"mer-spacing-t-16"),loading:n,children:(0,h.jsx)("button",{type:"submit","data-testid":"submit",children:e("vcfOrchestrator:passwordRegistration.button")})})]})}))]}):(0,h.jsx)(Fi,{})};var Yb,Jb;function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}const Xb=function(e){return r.createElement("svg",Qb({xmlns:"http://www.w3.org/2000/svg",width:238,height:134,fill:"none"},e),Yb||(Yb=r.createElement("g",{clipPath:"url(#email-magic-link_svg__a)"},r.createElement("path",{fill:"#FAC8AA",d:"m114.126 147.686-1.939-25.86c-.586-2.911-13.458-18.201-13.458-18.201.626-3.213 3.725-6.942 6.875-8.296l16.911-7.7c4.725-2.699 6.432-6.488 6.432-15.907V55.048h14.114v16.674c0 9.419 1.706 13.208 6.431 15.907l16.911 7.7c3.15 1.354 6.25 5.083 6.876 8.296 0 0-12.873 15.29-13.458 18.201l-1.939 25.86h-43.746z"}),r.createElement("path",{fill:"#FAC8AA",d:"M108.482 115.671c5.52 0 9.995-4.479 9.995-10.004 0-5.525-4.475-10.005-9.995-10.005s-9.995 4.48-9.995 10.005 4.475 10.004 9.995 10.004M163.516 115.671c5.52 0 9.995-4.479 9.995-10.004 0-5.525-4.475-10.005-9.995-10.005s-9.995 4.48-9.995 10.005 4.475 10.004 9.995 10.004"}),r.createElement("path",{fill:"#EA9B7D",d:"M143.051 71.722V55.048h-14.115v16.674c0 5.205-.525 8.681-1.787 11.218l15.952-8.61c-.03-.819-.06-1.678-.06-2.598z"}),r.createElement("path",{fill:"#0091CD",d:"M135.993 192.029c23.444 0 31.147-5.376 31.147-5.376l-1.858-69.506s7.371-17.735 5.159-20.322c-2.796-3.285-19.647-10.712-19.647-10.712s-2.685 8.397-14.801 8.397c-12.115 0-14.8-8.397-14.8-8.397s-16.851 7.427-19.647 10.712c-2.211 2.587 5.159 20.322 5.159 20.322l-1.858 69.506s7.693 5.376 31.146 5.376"}),r.createElement("path",{fill:"#007BAD",d:"m165.282 117.147 1.858 69.506s-4.705 3.284-17.951 4.719z"}),r.createElement("path",{fill:"#FAC8AA",d:"M163.516 115.672c5.52 0 9.995-4.48 9.995-10.005s-4.475-10.004-9.995-10.004c-5.521 0-9.995 4.479-9.995 10.004 0 5.525 4.474 10.005 9.995 10.005"}),r.createElement("path",{fill:"#FAC8AA",d:"m177.458 146.402-13.135 2.284s-7.915-25.526-10.661-41.311l19.697-3.426z"}),r.createElement("path",{fill:"#0091CD",d:"M163.516 116.672c6.072 0 10.994-4.927 10.994-11.005 0-6.078-4.922-11.005-10.994-11.005-6.073 0-10.995 4.927-10.995 11.005 0 6.078 4.922 11.005 10.995 11.005"}),r.createElement("path",{fill:"#0091CD",d:"m152.683 107.557 8.814 41.624 18.829-3.324-5.977-42.07z"}),r.createElement("path",{fill:"#FAC8AA",d:"M108.482 115.672c5.521 0 9.995-4.48 9.995-10.005s-4.474-10.004-9.995-10.004c-5.52 0-9.995 4.479-9.995 10.004 0 5.525 4.475 10.005 9.995 10.005"}),r.createElement("path",{fill:"#FAC8AA",d:"m94.54 146.402 13.135 2.284s7.915-25.526 10.661-41.311l-19.697-3.426z"}),r.createElement("path",{fill:"#0091CD",d:"M108.482 116.672c6.072 0 10.995-4.927 10.995-11.005 0-6.078-4.923-11.005-10.995-11.005-6.072 0-10.995 4.927-10.995 11.005 0 6.078 4.923 11.005 10.995 11.005"}),r.createElement("path",{fill:"#0091CD",d:"m119.305 107.557-8.814 41.624-18.82-3.324 5.978-42.07z"}),r.createElement("path",{fill:"#6E4632",d:"M129.663 60.323c8.208 0 14.862-6.66 14.862-14.875 0-8.216-6.654-14.875-14.862-14.875s-14.861 6.66-14.861 14.875 6.653 14.875 14.861 14.875"}),r.createElement("path",{fill:"#FAC8AA",d:"M139.851 62.253a5.13 5.13 0 0 0 5.128-5.133 5.13 5.13 0 0 0-5.128-5.134 5.131 5.131 0 0 0-5.129 5.134 5.131 5.131 0 0 0 5.129 5.133"}),r.createElement("path",{fill:"#FAC8AA",d:"M156.741 49.914c.101-11.631-9.238-21.15-20.858-21.252-11.621-.1-21.132 9.247-21.233 20.879a20.78 20.78 0 0 0 .596 5.163c.05.203-2.554 7.802-2.554 7.802-.374 1.506.272 2.183 1.837 2.789.747.293 1.595.667 2.272.99l3.079 8.752c.646 1.85 2.787 3.375 4.735 3.395l11.944.111c1.959.02 4.533-1.243 5.714-2.799L151.4 63.76c3.271-3.688 5.291-8.519 5.331-13.824z"}),r.createElement("path",{fill:"#222",d:"M121.9 56.22c0 .839-.687 1.506-1.525 1.496a1.51 1.51 0 0 1-1.494-1.526c0-.839.686-1.506 1.514-1.496.828.01 1.505.697 1.494 1.526z"}),r.createElement("path",{stroke:"#6E4632",strokeLinecap:"round",strokeLinejoin:"round",d:"M123.394 50.763a5.522 5.522 0 0 0-3.221-1.071 5.442 5.442 0 0 0-3.231 1.02"}),r.createElement("path",{fill:"#FAC8AA",d:"M118.618 69.66c1.242-.535 2.484-.858 3.574-.96z"}),r.createElement("path",{fill:"#FF9E9E",d:"M119.194 73.077c.242-.03.808-.192 1.05-.263 1.938-.607 3.079-2.486 2.544-4.204a3.008 3.008 0 0 0-.616-1.081l-4.381 1.364"}),r.createElement("path",{fill:"#6E4632",d:"m137.437 59.293 4.009 2.354 2.372 12.066 8.451-6.286c6.451-6.588 7.814-10.984 7.814-16.896 0-12.945-10.49-23.445-23.423-23.445-8.602 0-16.123 4.639-20.192 11.56 0 0 1.333 3.982 7.491 8.328l10.571 7.458 2.907 4.87z"}),r.createElement("path",{fill:"#FAC8AA",d:"M139.851 62.254a5.13 5.13 0 0 0 5.128-5.134 5.13 5.13 0 0 0-5.128-5.134 5.131 5.131 0 0 0-5.129 5.134 5.131 5.131 0 0 0 5.129 5.134"}),r.createElement("path",{fill:"#6E4632",d:"m137.689 50.228-4.078 10.701V50.229M145.716 40.011c8.164 0 14.781-6.624 14.781-14.794 0-8.171-6.617-14.795-14.781-14.795-8.163 0-14.78 6.624-14.78 14.795 0 8.17 6.617 14.794 14.78 14.794"}),r.createElement("path",{fill:"#FAC8AA",d:"M83.191 113.125a4.182 4.182 0 0 0 4.18-4.184 4.182 4.182 0 0 0-4.18-4.184 4.182 4.182 0 0 0-4.18 4.184 4.182 4.182 0 0 0 4.18 4.184"}),r.createElement("path",{fill:"#FAC8AA",d:"M86.977 107.162s-1.433-5.184-1.413-7.296c0 0-1.646-2.84-3.726-3.77-2.07-.929-4.614-3.475-5.653-5.648l-4.422-9.368c-1.04-2.173-3.292-1.698-3.14 3.072l.393 12.966c-.121 2.405 1.242 5.699 3.029 7.316l7.956 7.215M81.818 92.691a2.141 2.141 0 1 0-.002-4.287 2.141 2.141 0 0 0 .002 4.287"}),r.createElement("path",{fill:"#FAC8AA",d:"M83.434 102.15a2.142 2.142 0 1 0-.002-4.286 2.142 2.142 0 0 0 .002 4.286"}),r.createElement("path",{fill:"#FAC8AA",d:"m85.53 99.836-1.633-9.665-4.21.712 1.633 9.666z"}),r.createElement("path",{fill:"#222",d:"M84.2 100.351c.455.95.223 2.042-.514 2.426-.737.384-1.696-.091-2.15-1.041l-13.994-29.58c-.454-.949-.222-2.04.515-2.425.737-.383 1.696.092 2.15 1.041z"}),r.createElement("path",{fill:"#FAC8AA",d:"M83.211 113.105a4.162 4.162 0 0 0 4.16-4.164 4.161 4.161 0 0 0-4.16-4.163 4.161 4.161 0 0 0-4.16 4.163 4.162 4.162 0 0 0 4.16 4.164"}),r.createElement("path",{fill:"#FAC8AA",d:"m79.436 110.699 7.551-3.526s7.835 10.065 12.843 20.837c5.017 10.773 7.269 16.664 7.269 16.664l-12.075 5.639-15.578-39.614z"}),r.createElement("path",{fill:"#FAC8AA",d:"M83.211 113.105a4.162 4.162 0 0 0 4.16-4.164 4.161 4.161 0 0 0-4.16-4.163 4.161 4.161 0 0 0-4.16 4.163 4.162 4.162 0 0 0 4.16 4.164"}),r.createElement("path",{fill:"#0091CD",d:"m109.744 143.502-16.436-32.924a2.105 2.105 0 0 0-2.736-.96l-11.6 5.376c-1.01.465-1.475 1.688-1.04 2.708l14.467 33.844"}),r.createElement("path",{fill:"#00C1AA",d:"M77.723 17.063c10.885 0 19.708 8.832 19.708 19.728 0 9.9-7.285 18.094-16.782 19.51l-1.534 5.12a1.455 1.455 0 0 1-2.784 0l-1.535-5.12c-9.497-1.416-16.783-9.61-16.783-19.51 0-10.896 8.824-19.728 19.71-19.728"}),r.createElement("path",{fill:"#fff",d:"m77.722 36.906-8.395-7.5h16.8l-8.395 7.5zm.437 1.358a.643.643 0 0 1-.437.168.66.66 0 0 1-.437-.168l-8.86-7.919v13.298c0 .363.288.651.651.651h17.292c.363 0 .651-.288.651-.651V30.345z"}),r.createElement("path",{fill:"#FFCE00",d:"M57.406 20.54a1.041 1.041 0 0 1-1.362 1.573l-3.514-3.049a1.041 1.041 0 0 1 1.362-1.573zM54.453 24.817a1.04 1.04 0 0 1-.394 2.044l-4.618-.892a1.04 1.04 0 0 1 .394-2.044zM61.994 17.814a1.04 1.04 0 1 1-1.93.775l-1.767-4.41a1.04 1.04 0 0 1 1.93-.775z"}))),Jb||(Jb=r.createElement("defs",null,r.createElement("clipPath",{id:"email-magic-link_svg__a"},r.createElement("path",{fill:"#fff",d:"M0 0h238v134H0z"})))))};var Zb;const ey=j.Ay.div(Zb||(Zb=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  text-align: center;\n  margin-top: ",";\n"])),Ka.i.spacing[8]),ty=e=>{let{isVisible:t=!1,onCancel:n}=e;const{t:r}=(0,c.B)(["signin"]);return(0,h.jsxs)(Jr.d,{visible:t,titleLabel:r("signin:emailLink.passwordIsWrongTitle"),footer:(0,h.jsx)(p.j,{fluid:!0,onClick:n,intent:"primary",children:(0,h.jsx)("button",{type:"button",children:r("signin:emailLink.okButton")})}),children:[(0,h.jsx)(ey,{children:(0,h.jsx)(Xb,{})}),(0,h.jsx)("p",{className:"mer-spacing-t-8",children:r("signin:emailLink.passwordIsWrongDescription")})]})},ny=e=>{let{visible:t,onClose:n}=e;const{resetVcfState:i}=Sa(),[a,o]=(0,r.useState)(t);return(0,h.jsx)(ty,{isVisible:a,onCancel:()=>{n?n():(i(),o(!1))}})};var ry=n(3132);const iy=e=>{switch(e){case ed.N2.SNS_GOOGLE:return Bi.GOOGLE;case ed.N2.SNS_FACEBOOK:return Bi.FACEBOOK;case ed.N2.SNS_APPLE:return Bi.APPLE;case ed.N2.SNS_LINE:return Bi.LINE;default:return Bi.UNKNOWN}},ay=[],oy=()=>{const{orchestrator:e}=Sa(),{setAvailableProviders:t,availableProviders:n}=Gi(),i=e.type===ja.VerificationScreen&&e.data.isSubjectIdentified?e.data.availableAuthenticationMethods:ay,a=(0,r.useMemo)((()=>i.map(iy).filter((e=>e!==Bi.UNKNOWN))),[i]);return{updateSNSAuthMethods:(0,r.useCallback)((()=>{a.every((e=>n.includes(e)))||t(a)}),[t,a,n]),hasAvailableProvidersFromVcf:a.length>0}},cy=()=>({signinCompleteLaplaceLogs:(0,r.useCallback)((async e=>{let{userId:t,isPasskeyEnforced:n,isTryAgain:r}=e,i=yt.Mercari;n?i=yt.PasskeyEnforceButton:r&&(i=yt.PasskeyButton),Ee.log(Rr(i)),await Dr({uid:zr(t),event:"login_complete"})}),[])});let ly=function(e){return e[e.PasskeyEnforcement=0]="PasskeyEnforcement",e[e.LoginSupport=1]="LoginSupport",e[e.PasskeyError=2]="PasskeyError",e}({});var sy,uy;function dy(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const py=j.Ay.div(sy||(sy=dy(["\n  position: relative;\n  padding: 10px 0;\n"]))),my=(0,j.Ay)(La._)(uy||(uy=dy(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: var(--alias-color-background-primary-default);\n  padding: 0 ",";\n"])),Ka.i.spacing[4]),hy=e=>{let{children:t}=e;return(0,h.jsxs)(py,{className:"mer-spacing-b-16",children:[(0,h.jsx)(tc.I,{}),(0,h.jsx)(my,{type:"small",color:"secondary",children:t})]})},fy=e=>{let{visible:t,onClose:n}=e;const{t:r}=(0,c.B)(["signin"]),{hasAvailableProviders:i,snsProviderComponent:a}=Gi();return i?(0,h.jsx)(Jr.d,{visible:t,titleLabel:r("signin:passwordErrorSNSDialog.title"),"data-testid":"password-error-sns-login-dialog",footer:(0,h.jsx)(p.j,{fluid:!0,onClick:n,children:(0,h.jsx)("button",{type:"button",children:r("signin:passwordErrorSNSDialog.closeButton")})}),children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"mer-spacing-b-24",children:r("signin:passwordErrorSNSDialog.message")}),(0,h.jsx)(hy,{children:r("signin:passwordErrorSNSDialog.separator")}),(0,h.jsx)("div",{className:"mer-spacing-t-24",children:a})]})}):null};function gy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gy(Object(n),!0).forEach((function(t){by(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function by(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yy=e=>{let{visible:t,type:n,onClose:i}=e;const{t:a}=(0,c.B)("signin"),{location:o}=Y();return(0,r.useEffect)((()=>{t&&Ee.log(To("".concat(o.join(":"))))}),[t,o]),(0,h.jsx)(Jr.d,{"data-testid":"sign-in-failed-dialog",visible:t,titleLabel:a("signin:signInFailedDialog.title"),footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{onClick:i,fluid:!0,intent:"flat",children:(0,h.jsx)(Ra,{to:"/recovery",children:a("signin:signInFailedDialog.resetPasswordLabel")})}),(0,h.jsx)(Wt,{fluid:!0,"location-2":"ok_button",onClick:i,children:(0,h.jsx)("button",{type:"button",children:a("signin:signInFailedDialog.okButtonLabel")})})]}),children:n===le.ul.AUTH_ID_TYPE_PHONE_NUMBER?a("signin:signInFailedDialog.invalidPhoneNumberPasswordContent"):a("signin:signInFailedDialog.invalidEmailPasswordContent")})},jy=e=>(0,h.jsx)(X,{"location-1":"sign_in_failed_dialog",children:(0,h.jsx)(yy,vy({},e))});let Oy=function(e){return e.AccountNotFound="accountNotFound",e.IncorrectPassword="incorrectPassword",e}({});const wy=e=>{var t,n,i;let{type:a,onClose:o}=e;const{t:l}=(0,c.B)(["signin"]),{location:s}=Y();let u=null;return"accountNotFound"===a?u={title:l("signin:specificErrorDialog.accountNotFound"),message:l("signin:specificErrorDialog.checkPhoneOrEmail"),linkComponent:(0,h.jsx)(Mt,{href:"".concat("https://help.jp.mercari.com","/guide/articles/246/#1"),children:l("signin:specificErrorDialog.forgotAccount")})}:"incorrectPassword"===a&&(u={title:l("signin:specificErrorDialog.incorrectPassword"),message:l("signin:specificErrorDialog.checkPassword"),linkComponent:(0,h.jsx)(Ra,{to:"/recovery",children:l("signin:specificErrorDialog.forgotPassword")})}),(0,r.useEffect)((()=>{u&&Ee.log(To("".concat(s.join(":"))))}),[u,s]),(0,h.jsx)(Jr.d,{"data-testid":"sign-in-specific-error-dialog",titleLabel:null===(t=u)||void 0===t?void 0:t.title,visible:!!u,footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Wt,{"location-2":"help_link",fluid:!0,intent:"flat",children:null===(n=u)||void 0===n?void 0:n.linkComponent}),(0,h.jsx)(Wt,{fluid:!0,"location-2":"ok_button",onClick:o,children:(0,h.jsx)("button",{type:"button",children:l("signin:signInFailedDialog.okButtonLabel")})})]}),children:null===(i=u)||void 0===i?void 0:i.message})},xy=e=>{let{message:t,onClose:n}=e;const{t:r}=(0,c.B)(["authCommon"]);return(0,h.jsx)(Jr.d,{visible:!!t,titleLabel:r("authCommon:error.genericAuthFailedTitle"),"data-testid":"general-error-dialog",footer:(0,h.jsx)(p.j,{fluid:!0,onClick:n,children:(0,h.jsx)("button",{type:"button",children:r("authCommon:dialog.okLabel")})}),children:t})};function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Py(Object(n),!0).forEach((function(t){_y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Sy={showGeneralErrorDialog:void 0,showSignInFailedDialog:!1,showEmailLinkDialog:!1,showSpecificErrorDialog:void 0,showPasswordErrorSNSDialog:!1,showVcfDialog:!1},Cy=(0,r.createContext)(Ey(Ey({},Sy),{},{showDialog:()=>{}})),ky=()=>(0,r.useContext)(Cy),Ny=e=>{let{children:t,initState:n={}}=e;const[i,a]=(0,r.useState)(Ey(Ey({},Sy),n)),{emailOrPhone:o,setLoadingScrim:c}=Fy(),{showSignInFailedDialog:l,showEmailLinkDialog:s,showSpecificErrorDialog:u,showPasswordErrorSNSDialog:d,showGeneralErrorDialog:p,showVcfDialog:m}=i,f=(0,r.useCallback)(((e,t)=>{c(!1),a((n=>Ey(Ey({},n),{},{[e]:t})))}),[c]);return(0,h.jsxs)(Cy.Provider,{value:Ey(Ey({},i),{},{showDialog:f}),children:[t,(0,h.jsx)(jy,{visible:l,onClose:()=>f("showSignInFailedDialog",!1),type:Xs(o)}),s&&(0,h.jsx)(ny,{visible:!0,onClose:()=>f("showEmailLinkDialog",!1)}),m&&(0,h.jsx)($j,{shouldInitiateVCF:!1}),(0,h.jsx)(wy,{onClose:()=>f("showSpecificErrorDialog",void 0),type:u}),(0,h.jsx)(fy,{visible:d,onClose:()=>f("showPasswordErrorSNSDialog",!1)}),(0,h.jsx)(xy,{message:p,onClose:()=>f("showGeneralErrorDialog",void 0)})]})};function Iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Iy(Object(n),!0).forEach((function(t){Dy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zy={emailOrPhone:"",handleEmailOrPhone:()=>{},loadingScrim:!1,setLoadingScrim:()=>{},passkeyLogin:{handleVcfPasskeyLogin:()=>Promise.resolve(null),isVcfPasskeySubmitting:!1,passkeyError:null,setPasskeyError:()=>{}}},Ty=(0,r.createContext)(zy),Fy=()=>(0,r.useContext)(Ty),My=e=>{var t;let{children:n,initState:i={},internationalAuth:a}=e;const[o,c]=(0,r.useState)(null!==(t=i.emailOrPhone)&&void 0!==t?t:""),[l,s]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),p=(()=>{const[e,t]=Nv(),[n,i]=(0,r.useState)(null),{onComplete:a}=qu();return{handleVcfPasskeyLogin:(0,r.useCallback)((async t=>{let{challengeId:n,isPasskeyEnforced:r=!0,isTryAgain:o=!1}=t;const c=await e(n);return"fidoVerifyData"in c?a({poa:c.fidoVerifyData.poa,challengeId:n}):(((e,t,n,r)=>{n?r(ly.LoginSupport):((e,t)=>"authenticatorError"in e&&e.authenticatorError.message===kv.GetCredentialsCancelledError&&(t(ly.PasskeyEnforcement),!0))(e,r)||r(t?ly.PasskeyEnforcement:ly.PasskeyError)})(c,r,o,i),null)}),[e,a]),isVcfPasskeySubmitting:t,passkeyError:n,setPasskeyError:i}})(),m=(0,Jc.mN)({defaultValues:{emailOrPhone:"",password:""}}),f=(0,r.useCallback)((e=>{c(e)}),[]),g={emailOrPhone:o,loadingScrim:l,handleEmailOrPhone:f,setLoadingScrim:s,passkeyLogin:p,internationalAuth:a,showSNSPage:u,setShowSNSPage:d};return(0,h.jsxs)(Ty.Provider,{value:g,children:[(0,h.jsx)(Jc.Op,Ay(Ay({},m),{},{children:(0,h.jsx)(Ny,{children:n})})),l&&(0,h.jsx)(Fi,{fullScreen:!0})]})},Ly=()=>{const[e]=bm();return{sendEmailLink:(0,r.useCallback)((async t=>{try{return await(async(e,t)=>{const{data:n,error:r}=await e({challengeId:t,resumptionClientMetadata:wa.Signin});return!r&&(await(async e=>{e&&await Bu.save(e)})(null==n?void 0:n.deviceToken),!0)})(e,t)}catch(e){return!1}}),[e])}},Ry=()=>{const{t:e}=(0,c.B)("signin"),{sendEmailLink:t}=Ly(),{setLoadingScrim:n}=Fy(),{vcfState:r,orchestrator:i}=Sa(),{showDialog:a}=ky();return i.type===ja.VerificationScreen&&i.data.availableAuthenticationMethods.includes(ed.N2.EMAIL_LINK)&&i.data.isSubjectIdentified?(0,h.jsxs)("div",{className:"mer-spacing-t-16",children:[(0,h.jsx)(La._,{children:e("signin:emailSigninLayout.description")}),(0,h.jsx)(Wt,{intent:"secondary",fluid:!0,size:"medium",className:"mer-spacing-t-16","location-2":"sign_in_with_email_link",children:(0,h.jsx)("button",{type:"button",onClick:async()=>{n(!0),await t(r.challengeId)?a("showEmailLinkDialog",!0):a("showGeneralErrorDialog",e("authCommon:error.genericAuthFailedActionText")),n(!1)},children:e("signin:emailSigninLayout.sendLoginLinkButtonLabel")})})]}):null},Vy=()=>{const{t:e}=(0,c.B)("signin"),{hasAvailableProviders:t,snsProviderComponent:n}=Gi();return t?(0,h.jsxs)("div",{className:"mer-spacing-t-16",children:[(0,h.jsx)(hy,{children:e("signin:home.snsLoginSeparator")}),n]}):null};var By,Uy,Hy,Ky,qy,Gy,Wy;function $y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Yy=(0,j.Ay)(Oc)(By||(By=$y(["\n  height: 100px;\n"]))),Jy=(0,j.Ay)(Hv)(Uy||(Uy=$y(["\n  max-width: 320px;\n  transform: scale(0.5);\n  transform-origin: center center;\n"]))),Qy=j.Ay.div(Hy||(Hy=$y(["\n  margin-top: -",";\n"])),Ka.i.spacing[8]),Xy=j.Ay.div(Ky||(Ky=$y(["\n  padding: 0 ",";\n  border-bottom: 1px solid var(--alias-color-border-primary-highlight);\n"])),Ka.i.spacing[24]),Zy=(0,j.Ay)(La._)(qy||(qy=$y(["\n  font-size: 17px;\n"]))),ej=j.Ay.div(Gy||(Gy=$y(["\n  margin-top: ",";\n  background-color: var(--alias-color-background-secondary-default);\n  padding: ",";\n"])),Ka.i.spacing[12],Ka.i.spacing[16]),tj=(0,j.Ay)(La._)(Wy||(Wy=$y(["\n  font-size: 14px;\n  text-align: left;\n"]))),nj=e=>{let{handlePasskeyLogin:t,isPasskeySubmitting:n,visible:i,onClose:a,challengeId:o}=e;const{t:l,ready:s,i18n:{language:u}}=(0,c.B)("signin"),d=(0,m.DT)(u),{searchParamsString:f}=U(),g="".concat(d,"recovery").concat(f),{signinCompleteLaplaceLogs:v}=cy(),{updateSNSAuthMethods:b}=oy();if((0,r.useEffect)((()=>{i&&b()}),[i,b]),(0,r.useEffect)((()=>{i&&Ee.log(To("sign_in_email:passkey_require"))}),[i]),!s)return null;const y=()=>{a(),Ee.log(It("sign_in_email:passkey_require:cancel_button"))};return(0,h.jsx)(ry.W,{visible:i,footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{fluid:!0,children:(0,h.jsx)("button",{type:"button",onClick:async()=>{if(!n)try{if(o){const e=await t({challengeId:o,isPasskeyEnforced:!0,isTryAgain:!0});e&&await v({userId:Uu(e.subjectId),isPasskeyEnforced:!1,isTryAgain:!0})}else await t({method:yt.PasskeyEnforceButton,location:"sign_in_email:passkey_require:try_again_button",isPasskeyEnforced:!0})}finally{Ee.log(It("sign_in_email:passkey_require:try_again_button"))}},children:l("signin:passkeyLoginEnforcementModal.tryAgainButtonLabel")})}),(0,h.jsx)(p.j,{fluid:!0,intent:"flat",children:(0,h.jsx)("button",{type:"button",onClick:y,children:l("signin:passkeyLoginEnforcementModal.cancelButtonLabel")})})]}),onClose:y,titleLabel:l("signin:passkeyLoginEnforcementModal.title"),size:"full",children:(0,h.jsx)(Xy,{children:(0,h.jsxs)(X,{"location-0":"sign_in_email","location-1":"passkey_require",children:[(0,h.jsx)(Yy,{alignItems:"center",justifyContent:"center",children:(0,h.jsx)(Jy,{})}),(0,h.jsx)(Zy,{bold:!0,className:"mer-spacing-t-12",children:(0,h.jsx)(qc.x,{i18nKey:"signin:passkeyLoginEnforcementModal.subHeading",components:{br:(0,h.jsx)("br",{})}})}),(0,h.jsx)(La._,{className:"mer-spacing-t-12",children:l("signin:passkeyLoginEnforcementModal.description")}),(0,h.jsx)(ej,{children:(0,h.jsx)(tj,{type:"caption",children:l("signin:passkeyLoginEnforcementModal.note")})}),(0,h.jsx)(Qy,{children:(0,h.jsx)(dv,{links:[{title:l("signin:passkeyLoginEnforcementModal.guide"),url:m.t7.passkeyGuide(ve.sw.Japanese),icon:(0,h.jsx)(Bv.W,{size:"small"}),logEvent:It("sign_in_email:passkey_require:guide_link")}]})}),(0,h.jsx)(Vy,{}),(0,h.jsx)(Ry,{}),(0,h.jsx)(Qy,{children:(0,h.jsx)(dv,{links:[{title:l("signin:passkeyLoginEnforcementModal.cantLogin"),url:g,icon:(0,h.jsx)(cv.P,{size:"small"}),logEvent:It("sign_in_email:passkey_require:account_recovery")}]})})]})})})},rj=e=>{let{visible:t,onClose:n}=e;const{t:i}=(0,c.B)("signin");return(0,r.useEffect)((()=>{t&&Ee.log(To("sign_in_email:passkey_retry_failed"))}),[t]),(0,h.jsx)(X,{"location-0":"sign_in_email",children:(0,h.jsx)(Jr.d,{visible:t,titleLabel:i("signin:loginSupportDialog.title"),footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Wt,{fluid:!0,onClick:n,intent:"flat","location-1":"passkey_retry_failed","location-2":"cancel_button",children:(0,h.jsx)("button",{type:"button",children:i("signin:loginSupportDialog.cancelLabel")})}),(0,h.jsx)(Wt,{fluid:!0,"location-1":"passkey_retry_failed","location-2":"help_center_button",children:(0,h.jsx)(Mt,{href:m.t7.loginInquiries(ve.sw.Japanese),target:"_blank",rel:"noopener noreferrer",children:i("signin:loginSupportDialog.acceptLabel")})})]}),children:i("signin:loginSupportDialog.message")})})},ij=e=>{let{visible:t,onAccept:n}=e;const{t:r}=(0,c.B)("signin");return(0,h.jsx)(ni,{visible:t,title:r("signin:loginWithPasskeysErrorDialog.title"),content:r("signin:loginWithPasskeysErrorDialog.message"),onAccept:n})},aj=()=>{const{passkeyLogin:e}=Fy(),{handleVcfPasskeyLogin:t,isVcfPasskeySubmitting:n,passkeyError:r,setPasskeyError:i}=e,{resetVcfState:a,vcfState:o}=Sa(),c=r===Tv.PasskeyEnforcement||r===Tv.LoginSupport;return n&&!c?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ij,{visible:r===Tv.PasskeyError,onAccept:()=>{a(),i(null)}}),(0,h.jsx)(nj,{handlePasskeyLogin:t,isPasskeySubmitting:n,challengeId:o.challengeId,visible:c,onClose:()=>{a(),i(null)}}),(0,h.jsx)(rj,{visible:r===Tv.LoginSupport,onClose:()=>null==i?void 0:i(Tv.PasskeyEnforcement)})]})},oj=()=>{const{initiateVCF:e}=$u(),{handleIdentifyAccount:t}=(()=>{const{signinPreInspection:e}=(()=>{const[e]=Eu(),{updateVerifyError:t}=Sa(),n=(0,r.useCallback)((async(n,r)=>{null==t||t(null);const{error:i}=await e({identifier:r,challengeId:n,purpose:cs.j2.IDENTIFICATION_PURPOSE_AUTHENTICATION,deriveFromChallengeId:""});return!i||(null==t||t(i),x.Cp(i),!1)}),[e,t]);return{signinPreInspection:n}})(),{handleChallengeIntrospection:t}=qu(),n=(0,r.useCallback)((async(n,r)=>await e(n,r)?await t({challengeIdArg:n}):null),[e,t]);return{handleIdentifyAccount:n}})(),{handlePasswordVerify:n}=(()=>{const[e]=_d(),{onComplete:t}=qu(),{updateVerifyError:n}=Sa(),{signinCompleteLaplaceLogs:i}=cy();return{handlePasswordVerify:(0,r.useCallback)((async(r,a)=>{null==n||n(null);const{data:o,error:c}=await e({challengeId:r,password:a});if(c)return null==n||n(c),void x.Cp(c);const l=await t({poa:null==o?void 0:o.poa});l&&await i({userId:Uu(l.subjectId),isPasskeyEnforced:!1,isTryAgain:!1})}),[n,e,t,i])}})(),{vcfState:{challengeId:i},resetVcfState:a}=Sa(),{setLoadingScrim:o,loadingScrim:l,passkeyLogin:s,handleEmailOrPhone:u}=Fy(),{handlePasskeyAuth:d}=(e=>{let{handleVcfPasskeyLogin:t}=e;const{signinCompleteLaplaceLogs:n}=cy();return{handlePasskeyAuth:(0,r.useCallback)((async e=>{let{challengeId:r}=e;const i=await t({challengeId:r,isPasskeyEnforced:!0,isTryAgain:!1});i&&await n({userId:Uu(i.subjectId),isPasskeyEnforced:!0,isTryAgain:!1})}),[t,n])}})({handleVcfPasskeyLogin:s.handleVcfPasskeyLogin}),{sendEmailLink:p}=Ly(),{showSnackbar:m}=da(),{t:h}=(0,c.B)(["authCommon"]),{showDialog:f}=ky();return{onSubmitLogin:(0,r.useCallback)((async e=>{if(o(!0),!i)return a(),x.Cp(new Error("No challenge ID found when submitting login")),void o(!1);await n(i,e),o(!1)}),[n,i,a,o]),onGoToPasswordStep:(0,r.useCallback)((async n=>{u(n),a(),f("showVcfDialog",!1),o(!0);const{start:{challengeId:r}={}}=await e();if(!r)return x.Cp(new Error("No challenge ID found when initiating VCF")),a(),void o(!1);const i=await t(r,n);if((null==i?void 0:i.step)===wu.C0.CHALLENGE_STEP_VCF_VERIFICATION&&(null==i?void 0:i.type)===wu.it.CHALLENGE_TYPE_ONBOARDING&&(null==i?void 0:i.availableAuthenticationMethods[0])===ed.N2.FIDO_UV&&await d({challengeId:r}),(null==i?void 0:i.step)===wu.C0.CHALLENGE_STEP_VCF_VERIFICATION&&(null==i?void 0:i.type)===wu.it.CHALLENGE_TYPE_ONBOARDING&&(null==i?void 0:i.availableAuthenticationMethods[0])===ed.N2.EMAIL_LINK)try{!0===await p(r)?f("showVcfDialog",!0):(m({bodyText:h("authCommon:error.networkConnectionError"),variant:"error"}),a())}catch(e){m({bodyText:h("authCommon:error.networkConnectionError"),variant:"error"}),a()}o(!1)}),[o,u,a,f,e,t,d,p,m,h]),isLoading:l}},cj=e=>(0,$c.u)(Qc.Ik({emailOrPhone:Qc.Yj().refinement(...$l()).refinement(...ns())}),{errorMap:Kl(e,{defaults:{emailOrPhone:e("signin:validation.defaultFieldName.email")}})}),lj=e=>(0,$c.u)(Qc.Ik({email:Qc.Yj().refinement(...$l()).refinement(...Gl())}),{errorMap:Kl(e,{defaults:{email:e("signin:validation.defaultFieldName.email")}})}),sj=ge.zf[ge.O4.Japan].callingCode,uj=e=>(0,$c.u)(Qc.Ik({phoneNumber:Qc.Yj().refinement(...$l()).refinement(...ts()),countryCode:Qc.k5([ge.zf[ge.O4.Japan].callingCode,ge.zf[ge.O4.HongKong].callingCode,ge.zf[ge.O4.Taiwan].callingCode])}),{errorMap:Kl(e,{defaults:{phoneNumber:e("signin:validation.defaultFieldName.phoneNumber"),countryCode:""}})}),dj=e=>(0,$c.u)(Qc.Ik({password:Qc.Yj().refinement(...$l())}),{errorMap:Kl(e,{defaults:{password:e("signin:validation.defaultFieldName.password")},overrideByValidationName:{required:{password:e("signin:validation.overrideFieldName.required.password")}}})});function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pj(Object(n),!0).forEach((function(t){hj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fj=e=>{let{formMethods:t}=e;const{t:n}=(0,c.B)(["signin"]),{onSubmitLogin:r,isLoading:i}=oj(),a=async e=>{r(e.password)},{getFlag:o}=pr(),l=o("UG-535_Login_rebuild_for_JP_NEW"),s=t.formState.errors.password;return l?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("form",{onSubmit:t.handleSubmit(((e,t)=>{null==t||t.preventDefault(),a(e)})),noValidate:!0,children:[(0,h.jsx)(Sl,{name:"password",title:n("signin:password")}),s&&(0,h.jsxs)(Xr.s,{marginBlockStart:"spacing8",children:[(0,h.jsx)(Jt,{children:n("signin:troubleSigningIn")}),(0,h.jsx)(Jt,{children:n("signin:emailMagicLink.pageTitle")})]}),(0,h.jsx)(Yt,{variant:"primary","location-2":"sign_in_button",type:"submit",disabled:i,width:"fluid",marginBlock:"spacing24",children:n("signin:vcf.nextStep")})]})}):(0,h.jsxs)("form",{onSubmit:t.handleSubmit(((e,t)=>{null==t||t.preventDefault(),a(e)})),noValidate:!0,children:[(0,h.jsx)(El,{className:"mer-spacing-b-8",type:"password",name:"password",autoCapitalize:"off",autoComplete:"current-password webauthn",label:n("signin:password"),onToggleShowPassword:e=>{Ee.log(It("sign_in_email:body:password_input:show_hide_toggle",{enabled:e}))}}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary","location-2":"sign_in_button",className:"mer-spacing-b-16 ".concat(t.formState.errors.password?"mer-spacing-t-16":"mer-spacing-t-24"),children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:i,children:n("signin:vcf.nextStep")})})]})},gj=()=>{var e;const{t}=(0,c.B)(["signin"]),{getFlag:n}=pr(),i=n("UG-535_Login_rebuild_for_JP_NEW"),{verifyError:a}=Sa(),o=(0,Jc.mN)({resolver:dj(t),defaultValues:{password:""}});(0,r.useEffect)((()=>{o.reset({password:""}),o.clearErrors()}),[o]);const l=i&&16===(null==a||null===(e=a.errors[0])||void 0===e?void 0:e.code);return(0,r.useEffect)((()=>{l&&o.setError("password",{message:t("signin:specificError.incorrectPassword")})}),[o,l,t]),(0,h.jsx)(Jc.Op,mj(mj({},o),{},{children:(0,h.jsx)(fj,{formMethods:o})}))};var vj;const bj=j.Ay.div(vj||(vj=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin: "," 0 ",";\n\n  a {\n    text-decoration: none;\n  }\n"])),Ka.i.spacing[16],Ka.i.spacing[24]),yj=()=>{const{t:e}=(0,c.B)(["signin"]),{emailOrPhone:t}=Fy();return(0,h.jsx)(X,{"location-0":"sign_in_select",children:(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(lc,{justifySelf:"start",children:e("signin:vcf.passwordHeading")}),(0,h.jsx)(dc,{children:e("signin:vcf.passwordSubHeading",{email:t})}),(0,h.jsx)(gj,{})]})})},jj=()=>{const{t:e}=(0,c.B)(["signin"]),{internationalAuth:t}=Fy(),n=e(t?"signin:troubleSigningIn":"signin:cantLogin"),{getFlag:r}=pr();return r("UG-535_Login_rebuild_for_JP_NEW")?(0,h.jsx)(yj,{}):(0,h.jsx)(X,{"location-0":"sign_in_select",children:(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(uc,{titleLabel:e("signin:vcf.passwordHeading")}),(0,h.jsx)(gj,{}),(0,h.jsx)(bj,{children:(0,h.jsx)(Jt,{marginBlock:"spacing8",underline:!0,children:(0,h.jsxs)(Ra,{to:"/recovery",children:[n,(0,h.jsx)(wr.k34,{size:"xSmall"})]})})})]})})},Oj=()=>{const{t:e}=(0,c.B)("signin"),{snsProviderComponent:t}=Gi(),{updateSNSAuthMethods:n}=oy();return(0,r.useEffect)((()=>{n()}),[n]),(0,h.jsxs)(X,{"location-0":"sns_auth_method",children:[(0,h.jsx)(lc,{children:e("signin:sns.title")}),(0,h.jsx)(dc,{children:e("signin:sns.description")}),(0,h.jsx)(Xr.s,{direction:"column",gap:"spacing8",children:t}),(0,h.jsx)(Xr.s,{justify:"end",children:(0,h.jsx)(Jt,{marginBlock:"spacing8",children:(0,h.jsxs)(Ra,{to:"/recovery",children:[e("signin:troubleSigningIn"),(0,h.jsx)(wr.k34,{size:"xSmall"})]})})})]})};var wj=n(1104),xj=n(780);const Pj=["name","rules","onChange","disabled","disableUIOnly","title"],Ej=["onChange","onBlur","ref","disabled"];function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_j(Object(n),!0).forEach((function(t){Cj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Nj=(0,r.forwardRef)(((e,t)=>{var n;let{name:r,rules:i,onChange:a,disabled:o,disableUIOnly:c,title:l}=e,s=kj(e,Pj);const{control:u,formState:{errors:d}}=(0,Jc.xW)(),p=null===(n=d[r])||void 0===n||null===(n=n.message)||void 0===n?void 0:n.toString(),m=!!p;return(0,h.jsx)(Jc.xI,{control:u,name:r,rules:i,disabled:o,render:e=>{let{field:{onChange:n,onBlur:i,ref:o,disabled:u}}=e,d=kj(e.field,Ej);return(0,h.jsx)(tl.F,{renderInput:e=>(0,h.jsx)(xj.E,Sj(Sj(Sj({"aria-invalid":m,"aria-label":null!=l?l:"","data-testid":r},e),{},{onChange:e=>{n(e),a&&a(e)},disabled:u||c,ref:t},d),s)),renderLinearTitleSet:e=>(0,h.jsx)(nl.W,Sj({title:null!=l?l:""},e)),renderHintGroup:m?e=>{let{errorsId:t}=e;return(0,h.jsx)(cl,{errorsId:t,errorMessage:p})}:void 0})}})})),Ij=Qc.z.object({authNumber:Qc.z.string().refinement(...$l())}),Aj=e=>(0,$c.u)(Ij,{errorMap:Kl(e,{defaults:{authNumber:e("signup:validation.defaultFieldName.authNumber")}})});function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dj(Object(n),!0).forEach((function(t){Tj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fj=e=>{let{visible:t,handlePhoneCall:n,onClose:r,logLocations:i,screenName:a}=e;const{t:o}=(0,c.B)(["signup"]);ep("".concat(a,":").concat(i[1]),t);const l=[(0,h.jsx)(Yt,{width:"fluid",variant:"secondary",onClick:r,"location-2":"cancel",children:o("authCommon:dialog.cancelLabel")},"cancel"),(0,h.jsx)(Yt,{width:"fluid",onClick:n,"location-2":i[2],children:o("authCommon:dialog.okLabel")},"apply")];return(0,h.jsx)(ei.z,{"data-testid":"confirmation-dialog",visible:t,onClose:r,a11yPattern:"modal",appearance:"panel",placement:"center",paddingBlock:"spacing24",paddingInline:"spacing24",contentGap:"spacing16",renderTitle:e=>(0,h.jsx)(ti.a,zj(zj({size:"large",weight:"bold",align:"center"},e),{},{children:o("signup:sms.confirmationDialog.ds4Title")})),renderBody:e=>(0,h.jsxs)(Xr.s,zj(zj({direction:"column",gap:"spacing16"},e),{},{children:[(0,h.jsx)(Qr.a,{align:"center",children:o("signup:sms.confirmationDialog.ds4Description")}),(0,h.jsx)(Zr.X,{buttons:l})]}))})},Mj=["body:authentication_button","phone_call_otp_dialog","receive_call_button"],Lj=e=>{let{screenName:t="phone_number_verification",method:n=yt.Mercari,otpCodeLength:i,logLocationsList:a=Mj,variant:o}=e;const{t:l}=(0,c.B)(["signup"]),s=a,{vcfState:{challengeId:u}}=Sa(),[d,p]=(0,r.useState)(0),m=(0,r.useRef)(null);(0,r.useEffect)((()=>(d<=0?(m.current&&clearInterval(m.current),m.current=null):m.current=setInterval((()=>{p((e=>e-1))}),1e3),()=>{m.current&&(clearInterval(m.current),m.current=null)})),[d]);const{onError:f,onTimeout:g,onComplete:v}=qu(),b=(0,Jc.mN)({resolver:Aj(l),defaultValues:{authNumber:""}}),{resendOtp:y}=(e=>{let{variant:t}=e;const[n]=wd(),[r]=Mp(),{vcfState:{challengeId:i}}=Sa();return{resendOtp:async e=>{let{type:a,onError:o,onSuccess:c}=e;const l="registration"===t?n:r,{error:s}=await l({challengeId:i,otpDeliveryMethod:"sms"===a?cs.x5.OTP_DELIVERY_METHOD_SMS:cs.x5.OTP_DELIVERY_METHOD_PHONE});s?null==o||o(s):null==c||c()}}})({variant:o}),[j,O]=(0,r.useState)(!1),[w,x]=(0,r.useState)(null),[P,E]=(0,r.useState)(!1),[_]=Lp(),[S]=xd();Qs(t,n);const{showSnackbar:C}=da();return(0,h.jsxs)(Xr.s,{direction:"column",marginBlockStart:"spacing24",children:[(0,h.jsx)(Jc.Op,zj(zj({},b),{},{children:(0,h.jsxs)("form",{onSubmit:b.handleSubmit((async e=>{O(!0),x(null);const t="registration"===o?S:_,n=await t({challengeId:u,otp:e.authNumber});if(n.error)return Hu(n.error)?void g(Oa.SmsAuthenticationOTPSubmission,n.requestId):(x(n.error),O(!1),void Ee.log(St(yt.Mercari,n.error,{location:"phone_number_verification"})));n.data?v({poa:n.data.poa}):f(Oa.SmsAuthenticationOTPSubmission,n)})),children:[(0,h.jsx)(Nj,{name:"authNumber",marginBlockEnd:"spacing16",length:i}),w&&(0,h.jsx)(zl,{error:w,className:"mer-spacing-b-16"}),(0,h.jsxs)(Jt,{marginBlockEnd:"spacing16",disabled:d>0,onClick:()=>y({type:"sms",onError:e=>{x(e),E(!1)},onSuccess:()=>{C({bodyText:l("vcfOrchestrator:smsVerification.ds4.smsCodeSent"),variant:"success"}),p(60)}}),children:[l("vcfOrchestrator:smsVerification.ds4.verify.resendCodeButton")," ",d>0&&l("vcfOrchestrator:smsVerification.ds4.verify.resendCodeButtonCooldown",{coolDownTime:d})]}),(0,h.jsx)(Yt,{width:"fluid",marginBlockEnd:"spacing16",loading:j,disabled:j,variant:"primary","location-1":s[0],extraParams:{authMethod:Et(n)},"data-testid":"submit",type:"submit",children:l("signin:vcf.nextStep")})]})})),(0,h.jsx)(Yt,{variant:"secondary","data-testid":"submit-phone",marginBlockStart:"spacing8",onClick:()=>E(!0),"location-1":"voice",width:"fluid",marginBlockEnd:"spacing16",children:l("vcfOrchestrator:smsVerification.ds4.verify.phoneCall.button")}),(0,h.jsx)(X,{"location-1":s[1],children:(0,h.jsx)(Fj,{visible:P,onClose:()=>E(!1),handlePhoneCall:()=>y({type:"call",onError:e=>{x(e),E(!1)},onSuccess:()=>{C({bodyText:l("authCommon:ds4.waitForPhoneCallOtp"),variant:"success"}),E(!1)}}),logLocations:s,screenName:t})})]})},Rj=e=>{let{maskedPhoneNumber:t,variant:n,verificationCodeLength:r}=e;const{t:i,i18n:{language:a}}=(0,c.B)(["vcfOrchestrator","authCommon"]),o="registration"===n?"idp:verification:vcf:registration:sms:verify":"idp:verification:vcf:auth:sms";return(0,h.jsxs)(X,{"location-0":o,children:[(0,h.jsx)(Qr.a,{children:i("vcfOrchestrator:smsVerification.ds4.verify.description",{fullPhoneNumber:"".concat(t),verificationCodeLength:r})}),(0,h.jsx)(Lj,{variant:n,method:yt.Mercari,otpCodeLength:r,screenName:o,logLocationsList:["submit_code","voice_dialog","send_voice"]}),(0,h.jsx)(Xr.s,{marginBlockEnd:"spacing24",direction:"column",gap:"spacing8",children:(0,h.jsx)(wj.O,{marginBlockStart:"spacing8",children:(0,h.jsx)(qc.x,{i18nKey:"vcfOrchestrator:smsVerification.ds4.verify.resendCodeAnnotation",components:{settingLink:(0,h.jsx)(Mt,{href:m.oS.didNotReceiveSms(a)})}})})}),(0,h.jsx)(Xr.s,{justify:"end",children:(0,h.jsx)(Jt,{marginBlock:"spacing8",children:(0,h.jsxs)(l.N_,{to:"/recovery",children:[i("vcfOrchestrator:smsVerification.ds4.recoveryLink"),(0,h.jsx)(wr.k34,{size:"xSmall"})]})})})]})},Vj=()=>{const{t:e,ready:t}=(0,c.B)(["vcfOrchestrator"]),{vcfState:{challengeId:n}}=Sa(),{onError:i}=qu(),[a]=Fp(),[o,l]=(0,r.useState)(null),s=(0,r.useCallback)((async()=>{var e;const t=await a({challengeId:n,otpDeliveryMethod:cs.x5.OTP_DELIVERY_METHOD_SMS});null!==(e=t.data)&&void 0!==e&&e.maskedPhoneNumber&&!t.error?l(t.data.maskedPhoneNumber):i(Oa.SmsAuthenticationStart,t)}),[a,n,i]);return(0,r.useEffect)((()=>{s()}),[s]),t&&o?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(lc,{justifySelf:"start",children:e("vcfOrchestrator:smsVerification.ds4.title")}),(0,h.jsx)(Rj,{maskedPhoneNumber:o,variant:"authentication",verificationCodeLength:6})]}):(0,h.jsx)(Fi,{})},Bj=e=>{let{availableAuthenticationMethods:t,availableRegistrationMethods:n,availableIdentityVerificationProtocols:r,resumptionClientMetadata:i,challengeType:a}=e;const[o]=n,[c]=t,[l]=r,{urlSearchParams:s}=U(),{getFlag:u}=pr(),d=u("UG-535_Login_rebuild_for_JP_NEW");if(u("UG-399_cross_device_email_magic_link"))return(0,h.jsx)(_m,{});if(l===wu.Qz.IDENTITY_VERIFICATION_PROTOCOL_DIGITAL_IDENTIFICATION_APP_SERVICE&&s.iv_session_id)return(0,h.jsx)(av,{});switch(o){case ed.N2.FIDO_UV:return(0,h.jsx)(Eb,{});case ed.N2.SMS:return(0,h.jsx)(um,{});case ed.N2.PASSWORD:return(0,h.jsx)($b,{})}switch(c){case ed.N2.FIDO_UV:return i===wa.Signin&&t.includes(ed.N2.EMAIL_LINK)||s.email_link_code?(0,h.jsx)(jv,{}):a===wu.it.CHALLENGE_TYPE_ONBOARDING?(0,h.jsx)(aj,{}):(0,h.jsx)(Jv,{});case ed.N2.SMS:return d?(0,h.jsx)(Vj,{}):(0,h.jsx)(Qp,{});case ed.N2.EMAIL_LINK:return i===wa.Recovery||s.email_link_code?(0,h.jsx)(jv,{}):a===wu.it.CHALLENGE_TYPE_ONBOARDING?(0,h.jsx)(ny,{visible:!0}):(0,h.jsx)(yv,{});case ed.N2.EMAIL:return(0,h.jsx)(hm,{children:(0,h.jsx)(Kb,{})});case ed.N2.PASSWORD:return i===wa.Signin&&t.includes(ed.N2.EMAIL_LINK)||s.email_link_code?(0,h.jsx)(jv,{}):(0,h.jsx)(jj,{});case ed.N2.SNS_GOOGLE:case ed.N2.SNS_FACEBOOK:case ed.N2.SNS_APPLE:case ed.N2.SNS_LINE:return(0,h.jsx)(Oj,{})}return l===wu.Qz.IDENTITY_VERIFICATION_PROTOCOL_DIGITAL_IDENTIFICATION_APP_SERVICE?(0,h.jsx)(iv,{}):(0,h.jsx)(h.Fragment,{children:"No Verification Method Available"})},Uj=e=>{let{debug:t}=e;const{t:n,ready:r}=(0,c.B)(["vcfOrchestrator"]),{identifier:i,authMethod:a}=yu(),o=!!a||!!i;return r?(0,h.jsx)(d.h,{title:(0,h.jsx)("p",{children:n("vcfOrchestrator:timeout.title")}),body:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:n("vcfOrchestrator:timeout.description")}),o&&(0,h.jsx)(p.j,{fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-y-16",children:(0,h.jsx)(Ra,{to:"/recovery",search:"?",children:n("vcfOrchestrator:timeout.button")})}),(0,h.jsx)("br",{}),t&&(0,h.jsx)("p",{children:t})]})}):(0,h.jsx)(Fi,{})};var Hj=n(3687);const Kj=()=>{const{t:e}=(0,c.B)(["vcfOrchestrator"]);return ep("idp:verification:vcf:webview_alert"),(0,h.jsx)(Vv.v,{type:"row",size:"default",className:"mer-spacing-t-16",variant:"display",title:(0,h.jsx)(La._,{children:e("vcfOrchestrator:browserWarning.title")}),icon:(0,h.jsx)(Hj.M,{}),text:(0,h.jsx)(La._,{children:e("vcfOrchestrator:browserWarning.message")})})};function qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qj(Object(n),!0).forEach((function(t){Wj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $j=e=>{let{shouldInitiateVCF:t=!0}=e;const{t:n}=(0,c.B)(["authCommon","vcfOrchestrator"]),{scoreBasedFailed:i,checkboxBasedKey:a}=qn(),{initiateVCF:o}=$u(),{vcfState:l,orchestrator:s,updateVerifyError:u,verifyError:d,showMsgToCheckCaptcha:p,showNetworkErrorSnack:m,setShowNetworkErrorSnack:f}=Sa(),[g]=fi();switch((0,r.useEffect)((()=>{d&&(null==u||u(null))}),[u,d]),(0,r.useEffect)((()=>{window.scrollTo(0,0)}),[s]),(0,r.useEffect)((()=>{l.challengeId||t&&o()}),[o,t,l.challengeId]),s.type){case ja.HomeScreen:return(0,h.jsx)(Vd,Gj({},s.data));case ja.CountryAndLanguageSelection:return(0,h.jsx)(cp,{});case ja.EligibilityCheck:return(0,h.jsx)($d,{});case ja.SimpleKyc:return(0,h.jsx)(jp,Gj({},s.data));case ja.VerificationScreen:return(0,h.jsxs)(h.Fragment,{children:[g&&(0,h.jsx)(Kj,{}),(0,h.jsx)(Bj,Gj({},s.data))]});case ja.ReactivateUser:return(0,h.jsx)(Rp,{});case ja.PasskeyRecoveryDisallowed:return(0,h.jsx)(zp,{});case ja.CrossDeviceResumptionDisallowed:return(0,h.jsx)(Qu,{});case ja.InhouseAuthenticatorError:return(0,h.jsx)(Dp,{deviceName:s.data.keyName});case ja.ChallengeFinish:return(0,h.jsx)(Bp,{});case ja.ChallengeTimeout:return(0,h.jsx)(Uj,{debug:s.data.debug});case ja.GenericError:return(0,h.jsx)(Yu,{debug:s.data.debug});case ja.CustomerSupportRequiredError:return(0,h.jsx)(Yu,{});case ja.Loading:default:return(0,h.jsxs)(h.Fragment,{children:[i?(0,h.jsx)(Tn,{className:"mer-spacing-b-24",sitekey:a,action:Ln.VerificationChallenge,callback:o}):(0,h.jsx)(Fi,{}),p&&(0,h.jsx)($s,{errorMessage:n("authCommon:error.captchaNotChecked")}),(0,h.jsx)(oa.W,{"body-text":n("authCommon:error.networkConnectionError"),visible:!!m,onClose:()=>f(!1)})]})}};function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yj(Object(n),!0).forEach((function(t){Qj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xj=Qc.z.object({emailOrPhone:Qc.z.string().refinement(...$l()).refinement(...ns())}),Zj=e=>(0,$c.u)(Xj,{errorMap:Kl(e,{defaults:{emailOrPhone:e("vcfOrchestrator:recovery.emailOrPhone")}})}),eO=e=>{let{onSubmit:t,apiError:n}=e;const{t:r,ready:i,i18n:{language:a}}=(0,c.B)(["vcfOrchestrator"]),{scoreBasedFailed:o,checkboxBasedKey:l}=qn(),{identifier:s}=yu(),u=(0,Jc.mN)({resolver:Zj(r),defaultValues:{emailOrPhone:s||""}}),d=(0,ge.gI)(),p=d&&"JP"!==d?m.oS.cannotLogIn(a):m.t7.loginInquiries(a);return Qs("idp:verification:vcf:identify_recovery"),i?(0,h.jsxs)(X,{"location-0":"idp:verification:vcf",children:[(0,h.jsx)(cc,{titleLabel:r("vcfOrchestrator:recovery.title")}),(0,h.jsx)(La._,{type:"body",className:"mer-spacing-b-24",children:r("vcfOrchestrator:recovery.description")}),(0,h.jsx)(Jc.Op,Jj(Jj({},u),{},{children:(0,h.jsxs)("form",{onSubmit:u.handleSubmit(t),noValidate:!0,children:[(0,h.jsx)(El,{name:"emailOrPhone",label:r("vcfOrchestrator:recovery.emailOrPhone"),placeholder:"09000012345",className:"mer-spacing-b-24",autoCapitalize:"none"}),n&&(0,h.jsx)(zl,{className:"mer-spacing-b-24",error:n}),o?(0,h.jsx)(Tn,{className:"mer-spacing-y-16",sitekey:l,action:Ln.VerificationChallenge}):null,(0,h.jsx)(Wt,{"location-1":"identify_recovery","location-2":"submit",fluid:!0,intent:"primary",size:"medium",className:"mer-spacing-b-24",children:(0,h.jsx)("button",{type:"submit","data-testid":"submit",children:r("vcfOrchestrator:recovery.button")})}),(0,h.jsx)(Js,{})]})})),(0,h.jsx)(pv,{links:[{title:r("vcfOrchestrator:emailRecovery.guide"),url:p,logEvent:It("idp:verification:vcf:authentication:email_link:start:help_center")}]})]}):(0,h.jsx)(Fi,{})},tO=()=>{const{verifyError:e,resetVcfState:t}=Sa(),{identifier:n,setIdentifier:r}=yu(),{urlSearchParams:i}=U();return!n&&!i.challenge_resume_token||e?(0,h.jsx)(eO,{onSubmit:(e,n)=>{null==n||n.preventDefault(),t(),r(e.emailOrPhone)},apiError:null!=e?e:null}):(0,h.jsx)($j,{})},nO=()=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.BV,{children:(0,h.jsx)(s.qh,{element:(0,h.jsx)(Ou,{}),children:(0,h.jsx)(s.qh,{path:"/",element:(0,h.jsx)(tO,{})})})})}),rO=()=>{const{t:e}=(0,c.B)("signin"),{urlSearchParams:t}=U(),n=new URLSearchParams(t.params).toString(),i=(0,r.useCallback)((()=>{n&&window.location.assign("".concat("https://auth.mercari.com","/jp/v1/authorize?").concat(N(n)))}),[n]);return(0,r.useEffect)((()=>{i()}),[i]),(0,h.jsxs)(X,{"location-0":"back_to_app_after_sign_in",children:[(0,h.jsx)(cc,{titleLabel:e("signin:backToApp.heading")}),(0,h.jsx)(La._,{children:e("signin:backToApp.content")}),(0,h.jsx)(p.j,{intent:"primary",fluid:!0,className:"mer-spacing-t-24",onClick:i,children:(0,h.jsx)("button",{type:"button",children:e("signin:backToApp.button")})})]})},iO=()=>{const{t:e}=(0,c.B)(["signup"]);return ge.uH.map((t=>({label:"".concat(e("signup:countryAndLanguage.countries.country",{context:t})," (").concat(ge.zf[t].callingCode,")"),value:ge.zf[t].callingCode})))};var aO=n(603);const oO=(e,t)=>{let n=e.trim();return e&&t&&t!==ge.zf[ge.O4.Japan].callingCode?(n.startsWith("0")&&(n=n.substring(1)),"".concat(t).concat(n)):n},cO=e=>{let{visible:t}=e;const{t:n,ready:r}=(0,c.B)(["signin","authCommon"]);return r?(0,h.jsx)(Jr.d,{visible:t,titleLabel:n("signin:featureUnavailableDialog.title"),footer:(0,h.jsx)(b,{}),children:n("signin:featureUnavailableDialog.content")}):null},lO=e=>{let{visible:t,onClose:n,registrationInfo:r}=e;const{t:i,ready:a}=(0,c.B)(["signin","authCommon"]),{search:o}=(0,s.zy)();return t&&!a?(0,h.jsx)(Fi,{}):(0,h.jsx)(Jr.d,{visible:t,"data-testid":"incomplete-registration-dialog",titleLabel:i("signin:incompleteRegistration.title"),footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{onClick:n,intent:"flat",children:(0,h.jsx)("button",{type:"button",children:i("authCommon:dialog.cancelLabel")})}),(0,h.jsx)(p.j,{children:(0,h.jsx)(Ra,{to:"/verify",state:r,search:"".concat(o,"&signin_poa=").concat(r.poa),children:i("signin:incompleteRegistration.resumeButton")})})]}),children:(0,h.jsx)("p",{children:i("signin:incompleteRegistration.description")})})},sO=e=>{let{show:t,onCancel:n}=e;const{navigate:r}=(0,_r.f)(),{t:i}=(0,c.B)("signin");return(0,h.jsx)(X,{"location-1":"sms_registration_required_dialog",children:(0,h.jsx)(Jr.d,{visible:t,titleLabel:i("signin:phoneNumberVerificationRequiredDialog.title"),footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Wt,{fluid:!0,intent:"flat",onClick:n,"location-2":"no_button",children:(0,h.jsx)("button",{type:"button",children:i("signin:phoneNumberVerificationRequiredDialog.cancel")})}),(0,h.jsx)(Wt,{fluid:!0,onClick:async()=>{r("/signin/phone")},"location-2":"yes_button",children:(0,h.jsx)("button",{type:"button",children:i("signin:phoneNumberVerificationRequiredDialog.verifyButton")})})]}),children:i("signin:phoneNumberVerificationRequiredDialog.content")})})},uO=e=>{let{isInternational:t=!1}=e;const{i18n:{language:n}}=(0,c.B)();return(0,h.jsx)(La._,{type:"caption",color:"secondary",children:(0,h.jsx)(qc.x,{i18nKey:"signin:termsOfUseAndPrivacyPolicy",components:{tos:(0,h.jsx)(Mt,{href:t?m.oS.termsOfService(n):m.t7.tosList(n)}),pp:(0,h.jsx)(Mt,{href:t?m.I1.globalPrivacy(n):m.I1.privacy(n)})}})})};var dO,pO;function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mO(Object(n),!0).forEach((function(t){fO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const vO=j.Ay.div(dO||(dO=gO(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin: "," 0 ",";\n\n  .merTextLink a {\n    text-decoration: none;\n  }\n"])),Ka.i.spacing[16],Ka.i.spacing[24]),bO=j.Ay.div(pO||(pO=gO(["\n  text-align: left;\n\n  .merTextLink a {\n    text-decoration: none;\n  }\n"]))),yO=(e,t)=>(0,$c.u)((e=>e?Qc.Ik({emailOrPhone:Qc.Yj().refinement(...$l()).refinement(...ts()),password:Qc.Yj().refinement(...$l()),countryCode:Qc.k5([ge.zf[ge.O4.Japan].callingCode,ge.zf[ge.O4.HongKong].callingCode,ge.zf[ge.O4.Taiwan].callingCode])}):Qc.Ik({emailOrPhone:Qc.Yj().refinement(...$l()).refinement(...ns()),password:Qc.Yj().refinement(...$l())}))(e),{errorMap:Kl(t,{defaults:{emailOrPhone:t(e?"signin:validation.defaultFieldName.phoneNumber":"signin:validation.defaultFieldName.email"),password:t("signin:validation.defaultFieldName.password")},overrideByValidationName:{required:{password:t("signin:validation.overrideFieldName.required.password")}}})}),jO=e=>{let{isVisible:t=!1,onCancel:n=(()=>{}),onAccept:r=(()=>{})}=e;const{t:i}=(0,c.B)(["signin","authCommon"]);return(0,h.jsx)(Jr.d,{visible:t,titleLabel:i("signin:accountReactivation.confirmationDialogTitle"),"data-testid":"account-reactivation-confirmation-dialog",footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{fluid:!0,onClick:n,intent:"flat",children:(0,h.jsx)("button",{type:"button",children:i("authCommon:dialog.cancelLabel")})}),(0,h.jsx)(p.j,{fluid:!0,onClick:r,children:(0,h.jsx)("button",{type:"button",children:i("signin:accountReactivation.confirmationDialogReactivateButtonText")})})]}),children:(0,h.jsxs)("div",{children:[i("signin:accountReactivation.confirmationDialogMessage")," "]})})},OO=ge.zf[ge.O4.Japan].callingCode,wO=e=>{let{onAccountReactivationError:t=(()=>{}),handlePasskeyLogin:n,isPasskeySubmitting:i,internationalLogin:a=!1}=e;const[o,l]=Le("SIGNIN_EMAIL_OR_PHONE"),{t:s}=(0,c.B)(["signin","authCommon"]),{navigate:u}=(0,_r.f)(),{uuid:d}=Ae(),{saveSigninSmsRegistrationFlowState:p,resetSigninSmsRegistrationFlowState:m}=yr(),[f,g]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[O,w]=(0,r.useState)(!1),[P,E]=(0,r.useState)(!1),[_,S]=(0,r.useState)(!1),[C,k]=(0,r.useState)(!1),[N,I]=(0,r.useState)(!1),[A,D]=(0,r.useState)(!1),[z,T]=(0,r.useState)(void 0),[F,M]=(0,r.useState)(!1),[L,R]=(0,r.useState)(!1),[V,B]=(0,r.useState)(!1),[H,K]=(0,r.useState)({poa:"",countryCode:ge.O4.Japan}),[q]=(()=>{const[e]=xu(),[t]=Eu(),[n]=bm(),{urlSearchParams:r}=U(),{scoreBasedKey:i,getToken:a}=qn();return Bn(i),[async i=>{try{var o,c,l;const s=await a(Ln.VerificationChallenge),u=null!==(o=r.oidc_poa)&&void 0!==o?o:r.signin_poa,d={nonce:r.nonce,acrValues:r.acr_values,poa:null!=u?u:"",gRecaptchaResponse:s.token,recaptchaVersion:s.version,countryCode:(0,ge.gI)()||"",ivCert:me.current.ivCert||Re(),essentialClaims:null!==(c=r.essential_claims)&&void 0!==c?c:"",optionalClaims:null!==(l=r.optional_claims)&&void 0!==l?l:"",isRecovery:!1,challengeOnboardingType:wu.$w.CHALLENGE_ONBOARDING_TYPE_LOGIN,authorizationParameters:new URLSearchParams(r.params).toString(),maxAge:"0"},{data:p,error:m}=await e(d);if(null==p||!p.challengeId||m)throw new Error("EmailLinkSignin: Challenge data is not available");const{error:h}=await t({identifier:i,challengeId:p.challengeId,purpose:cs.j2.IDENTIFICATION_PURPOSE_AUTHENTICATION,deriveFromChallengeId:""});if(h)throw new Error("EmailLinkSignin: Failed to identify user for email link");const{data:f,error:g}=await n({challengeId:p.challengeId,resumptionClientMetadata:wa.Signin});if(g)throw new Error("EmailLinkSignin: Failed to send email");return null!=f&&f.deviceToken&&await Bu.save(f.deviceToken),!0}catch(e){return(0,x.Cp)(e,{extra:{flowSessionId:be()},tags:{errorId:be()}}),!1}}]})(),{getFlag:G}=pr(),W=G("webauth_recaptcha_migration_frontend"),$=G("global_phone_number_signin_support_web")&&a,{createOIDCSession:Y}=Nr(),{getToken:J}=qn(),{setAvailableProviders:Q}=Gi(),{urlSearchParams:Z,getUpdatedSearchQuery:ee}=U(),ne="phone"===Z.signinType,re=ne&&$,ie=iO(),ae=Mv(),oe=(0,r.useRef)(!1),{getFingerprintRequestId:ce,isLoading:se}=Fo(),{socureSessionToken:ue,isLoading:de}=va(),pe=P||i;(0,r.useEffect)((()=>{(async()=>{if(ae&&!oe.current){oe.current=!0;try{await n({method:yt.PasskeyAutofill,location:"sign_in_email:conditional_ui",isPasskeyEnforced:!1})}finally{Ee.log(It("sign_in_email:conditional_ui"))}}})()}),[ae,n]);const he=(0,Jc.mN)({resolver:yO(re,s),defaultValues:{emailOrPhone:"",password:"",countryCode:re?OO:""}}),fe=he.watch("emailOrPhone");(0,r.useEffect)((()=>{he.reset({emailOrPhone:"",password:"",countryCode:ne?OO:""}),he.clearErrors()}),[ne,he]);const ve=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(pe)return;E(!0),I(!1),S(!1);const i=async(i,a)=>{if(!i)return S(!0),void("yes"!==r&&E(!1));const c=await ce(),{error:l,data:m}=await o({email:re?oO(e.emailOrPhone,e.countryCode):e.emailOrPhone,password:e.password,g_recaptcha_response:i,recaptcha_version:a,fpjs_request_id:c,auth_uuid:d(),socure_di_session_token:ue,revert:r,iv_cert:me.current.ivCert||""});var h,f;if(m)if(Q(null!==(h=m.accountConnections)&&void 0!==h?h:[]),m.poa){var v;const e=(f=m.poa,(0,aO.s)(f));if(e.registration_status===wu.m7.REGISTRATION_STATUS_NOT_READY)return K({poa:m.poa,countryCode:e.country_code}),E(!1),void R(!0);var O;if(e.acr===$i.SingleFactor&&Z.nonce&&Z.acr_values&&Z.acr_values!==$i.SingleFactor)return(0,ge.Kd)(e.country_code)?(p({nonce:Z.nonce,acrValues:Z.acr_values,poa:m.poa,ivCert:me.current.ivCert||Re(),userId:zr(null===(O=m.user)||void 0===O?void 0:O.id)}),void g(!0)):void b(!0);Ee.log(Rr(yt.Mercari)),await Dr({uid:zr(null===(v=m.user)||void 0===v?void 0:v.id),event:"login_complete"}),Y(m.poa)}else if(m.isDeactivatedAccount)E(!1),k(!0);else if(m.requireMfa)E(!1),u("/signin/mfa",{state:{message:m.msg,email:re?oO(e.emailOrPhone,e.countryCode):e.emailOrPhone,password:e.password,method:yt.Mercari}});else if(m.requireFidoAuth)try{await n({method:yt.PasskeyEnforceButton,location:"sign_in_email:passkey_require_silent",isPasskeyEnforced:!0})}finally{E(!1),Ee.log(It("sign_in_select:body:passkey_enforce_button"))}else m.requireEmailLinkAuth?(await q(e.emailOrPhone)?B(!0):D(!0),E(!1)):m.isInvalidLoginId?(T(Oy.AccountNotFound),E(!1),he.setError("emailOrPhone",{message:s("signin:specificError.accountNotFound")})):m.isInvalidPassword&&(E(!1),he.setError("password",{message:s("signin:specificError.incorrectPassword")}),m.accountConnections&&m.accountConnections.length>0?M(!0):T(Oy.IncorrectPassword));else if(l){var w;"yes"!==r&&E(!1),Ee.log(Vr("sign_in_email",l,{authMethod:le.qR.AUTH_METHOD_EMAIL})),y&&(null!==(w=window.grecaptcha)&&void 0!==w&&w.reset?window.grecaptcha.reset():I(!0)),403===l.status?"UnauthorizedException"===l.errors[0].code?u("/signin/"):y||j(!0):401===l.status?D(!0):"yes"===r&&t(s("signin:accountReactivation.errorTitle"),s("signin:accountReactivation.errorMessage"))}};try{if(W){var a;let e;try{e=await J(Ln.SignIn,y)}catch(e){return void x.Cp(e)}await i(null===(a=e)||void 0===a?void 0:a.token,y?12:13)}else await ko("6Lf_LFAaAAAAAFVeAafRO4XcnPTS0yP_IPs2R_Gp",i,y)}catch(e){I(!0),E(!1)}},ye=()=>{w(!0),ve({emailOrPhone:he.getValues("emailOrPhone"),password:he.getValues("password")},"yes")};return se||de?(0,h.jsx)(Fi,{}):(0,h.jsxs)(X,{"location-0":"sign_in_email",children:[(0,h.jsx)(Jc.Op,hO(hO({},he),{},{children:(0,h.jsx)(X,{"location-1":"body",children:(0,h.jsxs)("form",{onSubmit:he.handleSubmit(((e,t)=>{null==t||t.preventDefault(),ve(e,"check")})),noValidate:!0,children:[re?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(kl,{name:"countryCode",className:"mer-spacing-b-16",label:s("signin:phone.phoneNumber"),options:ie,fluid:!0}),(0,h.jsx)(El,{className:"mer-spacing-b-16",type:"tel",name:"emailOrPhone",autoComplete:"tel",inputMode:"tel",placeholder:s("signin:phone.placeholder.signin")})]}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(El,{className:"mer-spacing-b-16",type:"email",name:"emailOrPhone",autoComplete:"email webauthn",label:(je=a,Oe=s,Oe(je?"signin:email":"signin:phoneOrEmail")),placeholder:a?void 0:s("signin:phoneNumberPlaceholder")})}),$&&(0,h.jsx)(bO,{className:"mer-spacing-b-16",children:(0,h.jsx)(te._,{children:ne?(0,h.jsx)(Ra,{to:"/signin/int",search:"?".concat(ee(new URLSearchParams([["signinType","email"]]))),children:s("signin:preferEmail")}):(0,h.jsx)(Ra,{to:"/signin/int",search:"?".concat(ee(new URLSearchParams([["signinType","phone"]]))),children:s("signin:preferPhoneNumber")})})}),(0,h.jsx)(El,{className:"mer-spacing-b-8",type:"password",name:"password",autoCapitalize:"off",autoComplete:"current-password webauthn",label:s("signin:password"),onToggleShowPassword:e=>{Ee.log(It("sign_in_email:body:password_input:show_hide_toggle",{enabled:e}))}}),!W&&(0,h.jsx)(No,{v3Failed:y,onRecaptchaV2Solved:ye,shouldCallTheCallbackOnRecaptchaSolved:O}),W&&(0,h.jsx)(Io,{action:Ln.SignIn,className:"mer-spacing-y-16",v3Failed:y,callback:O?()=>ye():()=>{}}),_&&(0,h.jsx)($s,{errorMessage:s("authCommon:error.captchaNotChecked")}),l.error&&(0,h.jsx)(zl,{error:l.error,className:"mer-spacing-t-24"}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary",loading:pe,"location-2":"sign_in_button",extraParams:{authIdType:Xs(fe)},disabled:pe,className:"mer-spacing-b-16 ".concat(l.error?"mer-spacing-t-16":"mer-spacing-t-24"),children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:pe,children:s("signin:login")})}),(0,h.jsx)(uO,{isInternational:a}),(0,h.jsx)(Js,{}),(0,h.jsxs)(vO,{children:[(0,h.jsx)(te._,{className:"mer-spacing-y-8",children:(0,h.jsxs)(Ra,{to:"/recovery",children:[s("signin:troubleSigningIn"),(0,h.jsx)(cv.P,{size:"small"})]})}),a&&(0,h.jsx)($t,{className:"mer-spacing-y-8","location-2":"has_japanese_account_button",children:(0,h.jsxs)(Ra,{to:"/signin",children:[s("signin:haveJapaneseAccount"),(0,h.jsx)(cv.P,{size:"small"})]})})]})]})})})),(0,h.jsx)(oa.W,{"body-text":s("authCommon:error.networkConnectionError"),visible:N,variant:"error",duration:"long","data-testid":"network-error-snackbar"}),(0,h.jsx)(jO,{isVisible:C,onCancel:()=>{k(!1),Ee.log(It("sign_in_email:account_recovery_confirmation_dialog:no_button",{authMethod:le.qR.AUTH_METHOD_EMAIL}))},onAccept:()=>{var e;k(!1),Ee.log(It("sign_in_email:account_recovery_confirmation_dialog:yes_button",{authMethod:le.qR.AUTH_METHOD_EMAIL})),y&&null!==(e=window.grecaptcha)&&void 0!==e&&e.reset&&window.grecaptcha.reset(),ye()}}),i&&(0,h.jsx)(Fi,{fullScreen:!0}),(0,h.jsx)(sO,{show:f,onCancel:async()=>{g(!1),E(!1),m()}}),(0,h.jsx)(cO,{visible:v}),(0,h.jsx)(jy,{visible:A,onClose:()=>D(!1),type:Xs(fe)}),(0,h.jsx)(lO,{onClose:()=>R(!1),registrationInfo:{email:fe,poa:H.poa,countryCode:H.countryCode},visible:L}),(0,h.jsx)(ty,{isVisible:V,onCancel:()=>B(!1)}),(0,h.jsx)(wy,{onClose:()=>T(void 0),type:z}),(0,h.jsx)(fy,{visible:F,onClose:()=>M(!1)})]});var je,Oe};function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(n),!0).forEach((function(t){EO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _O=e=>{const[t,n]=(0,r.useState)(null);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(mc,{children:(0,h.jsx)(wO,PO({onAccountReactivationError:(e,t)=>n({title:e,content:t}),internationalLogin:!0},e))}),(0,h.jsx)(tc.I,{className:"mer-spacing-b-32"}),(0,h.jsx)(ni,{visible:!!t,onAccept:()=>{n(null)},title:null==t?void 0:t.title,content:null==t?void 0:t.content})]})},SO="NO_MERCARI_ACCOUNT_ERROR",CO=e=>{let{label:t,setErrorDialog:n,className:i,mode:a,postAction:o=(()=>{}),onPopUpOpened:l=(async()=>{}),onPopUpClosed:s=(()=>{})}=e;const u=An("https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"),[d]=vt(),[p]=gt(),[m]=bt(),{t:f}=(0,c.B)("signin"),g=(0,r.useRef)(Ur(64)),[v,b]=(0,r.useState)(!1),{createOIDCSession:y}=Nr(),[j,O]=gi();(0,r.useEffect)((()=>{u===In.READY&&(async()=>{try{const e=await(async()=>{const{error:e,data:t}=await p();var n,r;if(e)throw new Error("".concat(e.message," : ").concat(null===(n=e.errors[0])||void 0===n?void 0:n.message," : ").concat(null===(r=e.errors[0])||void 0===r?void 0:r.code));return(null==t?void 0:t.nonce)||""})();if(!e)throw new Error("UNABLE_TO_GET_NONCE");AppleID.auth.init({clientId:ht,scope:"name email",redirectURI:mt,state:g.current,usePopup:!0,nonce:e})}catch(e){n({title:f("signin:home.errors.authFailed"),content:f("signin:home.errors.tryAgain")}),x.Cp("AppleID.auth.init Failed: ".concat(JSON.stringify(e)))}})()}),[p,n,u,f]);return O||j?null:(0,h.jsx)(Xt,{"location-2":"apple_button",service:"apple",className:i,onClick:async()=>{if(!v){b(!0),await l();try{var e;const t=await AppleID.auth.signIn();await(async(e,t,n)=>{var r,i;if(g.current!==t)throw new Error("State mismatch");const c=await async function(e){const t=new FormData;return t.set("code",e),await d(t)}(e);if(!c.data)throw new Error("Server error: unable to activate session: ".concat(null===(r=c.error)||void 0===r||null===(r=r.errors[0])||void 0===r?void 0:r.message," : ").concat(null===(i=c.error)||void 0===i||null===(i=i.errors[0])||void 0===i?void 0:i.code));if(c.data.is_mercari_user){var l,s;const{data:e,error:t}=await m();if(e&&"poa"in e)return Hr(e.id,yt.Apple),Ee.log(Rr(yt.Apple)),await Dr({uid:zr(e.id),event:"login_complete"}),void y(e.poa);throw new Error(null!==(l=null==t||null===(s=t.errors[0])||void 0===s?void 0:s.message)&&void 0!==l?l:"Server error: unable to get OIDC session")}if(c.data.errors)throw new Error(c.data.errors[0].message);if(a!==Kr.SignUp)throw new Error(SO);o({email:c.data.email,name:n?"".concat(n.firstName," ").concat(n.lastName).trimEnd():""})})(t.authorization.code,t.authorization.state,null===(e=t.user)||void 0===e?void 0:e.name)}catch(e){"popup_closed_by_user"!==e.error&&(e.message===SO?n({title:f("signin:home.errors.noApple"),content:f("signin:home.errors.confirmAccount")}):n({title:f("signin:home.errors.authFailed"),content:f("signin:home.errors.tryAgain")}),x.Cp("AppleID.auth.signIn Failed: ".concat(JSON.stringify(e))))}finally{s(),b(!1)}}},variant:"outline",disabled:v,children:t})},kO=e=>{let{className:t,label:n,onNotFound:i,onPopUpOpened:a=(()=>{}),onPopUpClosed:o=(()=>{})}=e;const{t:l}=(0,c.B)("signin"),[s]=rt(),[u,d]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),{navigate:f}=(0,_r.f)(),{setHasAuthenticatedToken:g}=Ae(),{createOIDCSession:v}=Nr();return An("https://connect.facebook.net/en_US/sdk.js"),window.fbAsyncInit=()=>{window.FB.init({appId:"466308336793848",cookie:!0,xfbml:!1,version:"v17.0"})},(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ni,{visible:!!u,onAccept:()=>d(""),content:u,title:l("authCommon:error.failedAuthentication")}),(0,h.jsx)(Xt,{service:"facebook",className:t,onClick:async()=>{if(!p){m(!0);try{a();const{accessToken:e}=await oi();if(!e)throw new Error("No access token for Facebook login");const{data:t,error:n}=await s({accessToken:e});if(t&&"poa"in t)Hr(t.id,yt.Facebook),Ee.log(Rr(yt.Facebook)),await Dr({uid:zr(t.id),event:"login_complete"}),v(t.poa);else{if(m(!1),t&&t.errors[0]){const{code:n}=null==t?void 0:t.errors[0];if(n===nt.NotFoundException){const t=await ai();i({name:t.name,email:t.email,accessToken:e})}}if(null!=n&&n.errors[0]){const{code:t,message:r}=null==n?void 0:n.errors[0];t===nt.MFAException?(g(!0),f("/signin/mfa",{state:{accessToken:e,message:n.errors[0].message,method:yt.Facebook}})):d(r)}}}catch(e){m(!1)}finally{o()}}},disabled:p,"location-2":"facebook_button",variant:"outline",children:n})]})},NO=e=>{let{onNotFound:t,label:n,className:i,onPopUpOpened:a=(()=>{}),onPopUpClosed:o=(()=>{})}=e;const{t:l}=(0,c.B)("authCommon"),{client:s}=di(),[u]=at(),{navigate:d}=(0,_r.f)(),[p,m]=(0,r.useState)(null),[f,g]=(0,r.useState)(!1),{setHasAuthenticatedToken:v}=Ae(),[b]=fi(),{createOIDCSession:y}=Nr();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ni,{visible:!!p,onAccept:()=>m(null),content:null==p?void 0:p.message,title:null==p?void 0:p.title}),(0,h.jsx)("div",{children:(0,h.jsx)(Xt,{service:"google",className:i,onClick:async()=>{if(b)m({title:l("authCommon:error.cannotLoginWebviewTitle"),message:l("authCommon:error.cannotLoginWebviewText")});else if(s)try{a(),(async e=>{if(f)return;g(!0);const n=e.access_token,{data:r,error:i}=await u(n);if(r&&"poa"in r)Hr(r.id,yt.Google),Ee.log(Rr(yt.Google)),await Dr({uid:zr(r.id),event:"login_complete"}),y(r.poa);else{if(g(!1),r&&r.errors[0]){const{code:e}=null==r?void 0:r.errors[0];if(e===it.NotFoundException){const e=await vi(n);t({name:e.name,email:e.email,accessToken:n})}}if(null!=i&&i.errors[0]){const{code:e,message:t}=null==i?void 0:i.errors[0];e===it.MFAException?(v(!0),d("/signin/mfa",{state:{accessToken:n,message:i.errors[0].message,method:yt.Google}})):m({message:t,title:l("authCommon:error.failedAuthentication")})}}})(await new Promise(((e,t)=>{s.callback=n=>{n.error&&t(n),e(n)},s.error_callback=e=>{t(e)},s.requestAccessToken({prompt:"consent"})})))}catch(t){if(g(!1),"popup_closed"!==t.type){var e,n;const r=null!==(e=null!==(n=null==t?void 0:t.error)&&void 0!==n?n:null==t?void 0:t.type)&&void 0!==e?e:t;x.Cp(new Error("Google signin failed: ".concat(r)),{extra:{rawError:t}})}}finally{o()}else m({title:l("authCommon:error.genericAuthFailedTitle"),message:l("authCommon:error.genericAuthFailedActionText")})},"location-2":"google_button",disabled:f,children:n})})]})},IO=e=>{let{label:t,className:n}=e;const{t:i}=(0,c.B)("authCommon"),{search:a,state:o}=(0,s.zy)(),l=Boolean((0,s.RQ)("/signin")),[u,d]=(0,r.useState)(null),[p,m]=dt();return(0,r.useEffect)((()=>{var e,t;null!=o&&o.error&&("PermissionDenied"!==o.error&&d({title:null!==(e=o.title)&&void 0!==e?e:i("authCommon:error.failedAuthentication"),message:null!==(t=o.message)&&void 0!==t?t:i("authCommon:error.genericAuthFailedActionText")}),window.history.replaceState(null,""))}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ni,{visible:!!u,onAccept:()=>{d(null)},content:null==u?void 0:u.message,title:null==u?void 0:u.title}),(0,h.jsx)(Xt,{className:n,service:"line","location-2":"line_button",onClick:async()=>{var e;Be();const t=await p();if(We(t))d({title:i("authCommon:error.failedAuthentication"),message:t.error.message});else if(null!==(e=t.data)&&void 0!==e&&e.nonce){const e=new URLSearchParams(a).get("params");e&&xi({origin:l?"signin":"signup",params:e});const n="".concat("https://auth.mercari.com","/jp/v1/rp/line/signin?").concat(E.stringify({nonce:t.data.nonce,success_callback_url:"".concat(window.location.origin,"/webauth/line/callback_success"),error_callback_url:"".concat(window.location.origin,"/webauth/line/callback_error")}));window.location.assign(n)}},loading:m.loading,extraParams:{authMethod:le.qR.AUTH_METHOD_LINE},children:t})]})},AO=e=>{let{className:t,label:n,handlePasskeyLogin:r,isPasskeySubmitting:i}=e;return(0,h.jsx)(ne.M,{service:"passkey",className:t,onClick:async()=>{if(!i)try{await r({method:yt.PasskeyButton,location:"sign_in_select:body:passkey_button",isPasskeyEnforced:!1})}finally{Ee.log(It("sign_in_select:body:passkey_button"))}},disabled:i,"location-2":"passkey_button",variant:"outline",children:n})};var DO,zO,TO,FO;function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MO(Object(n),!0).forEach((function(t){RO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const BO=(0,j.Ay)(mc)(DO||(DO=VO(["\n  border-color: var(--alias-color-border-primary-highlight);\n  padding-bottom: ",";\n"])),Ka.i.spacing[40]),UO=(0,j.Ay)(mc)(zO||(zO=VO(["\n  margin-bottom: 0;\n"]))),HO=j.Ay.div(TO||(TO=VO(["\n  "," {\n    padding: 0 ",";\n  }\n"])),Z.$_[">=large"],Ka.i.spacing[16]),KO=j.Ay.div(FO||(FO=VO(["\n  overflow: hidden;\n  text-align: center;\n  margin-bottom: ",";\n  color: var(--alias-color-text-primary-default);\n\n  &:before,\n  &:after {\n    content: '';\n    background-color: var(--alias-color-border-primary-highlight);\n    display: inline-block;\n    height: ",";\n    position: relative;\n    vertical-align: middle;\n    width: 50%;\n  }\n\n  &:before {\n    right: ",";\n    margin-left: -50%;\n  }\n\n  &:after {\n    left: ",";\n    margin-right: -50%;\n  }\n"])),Ka.i.spacing[24],Ka.i.border.thin,Ka.i.spacing[24],Ka.i.spacing[24]),qO=e=>{const{handlePasskeyLogin:t,isPasskeySubmitting:n}=e,{t:i}=(0,c.B)("signin"),[a,o]=(0,r.useState)(null),[l,s]=(0,r.useState)(!1),[u,d]=gi(),[p]=Ov(),m=()=>(s(!0),new Promise((e=>{setTimeout((()=>{e()}),100)}))),f=()=>{s(!1)};return d?(0,h.jsx)(Fi,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(UO,{children:(0,h.jsx)(wO,LO({onAccountReactivationError:(e,t)=>o({title:e,content:t})},e))}),(0,h.jsx)(HO,{children:(0,h.jsx)(KO,{children:i("signin:socialLoginSeparator")})}),(0,h.jsxs)(BO,{borderBottom:!0,children:[!u&&(0,h.jsx)(CO,{className:"mer-spacing-b-16",label:i("signin:home.signinWithApple"),mode:Kr.SignIn,setErrorDialog:o,onPopUpOpened:m,onPopUpClosed:f}),(0,h.jsx)(NO,{className:"mer-spacing-b-16",label:i("signin:home.loginWithGoogle"),onNotFound:()=>o({title:i("signin:error.noGoogle"),content:i("signin:error.confirmAccount")}),onPopUpOpened:m,onPopUpClosed:f}),(0,h.jsx)(IO,{className:"mer-spacing-b-16",label:i("signin:home.loginWithLINE")}),p&&(0,h.jsx)(AO,{className:"mer-spacing-b-16",label:i("signin:home.loginWithPasskey"),handlePasskeyLogin:t,isPasskeySubmitting:n}),(0,h.jsx)(kO,{label:i("signin:home.loginWithFacebook"),onNotFound:()=>o({title:i("signin:error.noFacebook"),content:i("signin:error.confirmAccount")}),onPopUpOpened:m,onPopUpClosed:f})]}),(0,h.jsx)(ni,{visible:!!a,onAccept:()=>{o(null)},title:null==a?void 0:a.title,content:null==a?void 0:a.content}),l&&(0,h.jsx)(Fi,{fullScreen:!0})]})};var GO;const WO=(0,j.Ay)(La._)(GO||(GO=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  text-align: center;\n"]))),$O=e=>{let{internationalAuth:t}=e;const{t:n,ready:r}=(0,c.B)(["signin","authCommon"]),{urlSearchParams:i}=U(),{handlePasskeyLogin:a,isPasskeySubmitting:o,passkeyError:l,setPasskeyError:s}=Fv(),u=t?_O:qO,d=t?"/verify":"/signup",p=t?"?".concat(I(i)):void 0;return r?(0,h.jsxs)(X,{"location-0":"sign_in_select",children:[(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(uc,{titleLabel:n("signin:heading"),children:(0,h.jsx)($t,{"location-2":"sign_up",children:(0,h.jsx)(Ra,{to:d,search:p,children:n("signin:signUpLinkTop")})})}),(0,h.jsx)(u,{handlePasskeyLogin:a,isPasskeySubmitting:o}),(0,h.jsx)(WO,{className:"mer-spacing-b-24",children:n("signin:signUpLinkDescription")}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary","location-2":"sign_up",children:(0,h.jsx)(Ra,{to:d,search:p,children:n("signin:signUpLink")})})]}),(0,h.jsx)(ni,{visible:l===Tv.PasskeyError,title:n("signin:loginWithPasskeysErrorDialog.title"),content:n("signin:loginWithPasskeysErrorDialog.message"),onAccept:()=>s(null)}),(0,h.jsx)(nj,{handlePasskeyLogin:a,isPasskeySubmitting:o,visible:l===Tv.PasskeyEnforcement||l===Tv.LoginSupport,onClose:()=>s(null)}),(0,h.jsx)(rj,{visible:l===Tv.LoginSupport,onClose:()=>s(Tv.PasskeyEnforcement)})]}):(0,h.jsx)(Fi,{})},YO=e=>{let{visible:t,onCancel:n}=e;const{t:r}=(0,c.B)("authCommon");return(0,h.jsx)(Jr.d,{visible:t,footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{fluid:!0,onClick:n,intent:"secondary",children:(0,h.jsx)("button",{type:"button",children:r("authCommon:serverError.close")})}),(0,h.jsx)(p.j,{fluid:!0,children:(0,h.jsx)(Mt,{href:"https://twitter.com/mercari_jp",children:r("authCommon:serverError.okLabel")})})]}),children:(0,h.jsx)(La._,{element:"pre",children:r("authCommon:serverError.content")})})},JO=e=>{var t,n;let{apiResponse:r,visible:i,onCancel:a,onAccept:o,skipServerErrorDialog:l=!1}=e;const{t:s}=(0,c.B)("authCommon");return!l&&(u=r.status)&&u>=500&&u<600?(0,h.jsx)(YO,{visible:i,onCancel:a}):(0,h.jsx)(Jr.d,{visible:i,titleLabel:(null==r||null===(t=r.errors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message)||(null==r||null===(n=r.errors)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.details)||void 0===n?void 0:n.localizedMessage.message),footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{fluid:!0,onClick:o,children:(0,h.jsx)("button",{type:"button",children:s("authCommon:dialog.okLabel")})}),!!a&&(0,h.jsx)(p.j,{fluid:!0,onClick:a,intent:"secondary",children:(0,h.jsx)("button",{type:"button",children:s("authCommon:dialog.cancelLabel")})})]})});var u};function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(n),!0).forEach((function(t){ZO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ew=e=>{let{phoneNumber:t,onSubmit:n,disableSubmit:i,extraParams:a,otpLength:o}=e;const{t:l}=(0,c.B)("signin"),s=(0,r.useRef)(null),u=(0,Jc.mN)({defaultValues:{code:""}});(0,r.useEffect)((()=>{s.current&&s.current.focus()}),[]);const d=u.handleSubmit((async e=>{await n(e,u)})),p={required:{value:!0,message:l("authValidation:required.input",{fieldName:l("signin:mfa.authCodeLabel")})}};return(0,h.jsxs)(mc,{borderBottom:!0,children:[(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:l("signin:mfa.hint.sendToPhoneNumber",{phoneNumber:t,otpLength:o})}),(0,h.jsx)(Jc.Op,XO(XO({},u),{},{children:(0,h.jsxs)("form",{onSubmit:d,children:[(0,h.jsx)(El,{name:"code",type:"number",label:l("signin:mfa.authCodeLabel"),placeholder:l("signin:mfa.authCodePlaceholder",{otpLength:o}),rules:p,noSpinButton:!0,autoComplete:"off",min:0,autoFocus:!0,inputRef:s,className:"mer-spacing-b-24",inputMode:"numeric"}),(0,h.jsx)(Wt,{fluid:!0,disabled:i,loading:i,"location-1":"body","location-2":"authentication_button",extraParams:a,children:(0,h.jsx)("button",{type:"submit",disabled:i,children:l("signin:mfa.button.submitAuthCode")})})]})}))]})};function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach((function(t){rw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const iw=60,aw=e=>{let{interval:t=iw,onResend:n}=e;const{t:i,i18n:{language:a}}=(0,c.B)(["signin"]),o=(0,ge.gI)(),[l,s]=(0,r.useState)(t),[u,d]=(0,r.useState)(!1),[f,g]=(0,r.useState)({visible:!1}),v=o===ge.O4.Japan?m.t7.didNotReceiveSms(a):m.oS.didNotReceiveSms(a);(0,r.useEffect)((()=>{let e;return l>0&&(e=setTimeout((()=>{s((e=>e-1))}),1e3)),()=>clearTimeout(e)}),[l]);const b=async e=>{u&&d(!1),n(e,(e=>{g({visible:!0,variant:"error",bodyText:e})}),(()=>{g({visible:!0,variant:"success",bodyText:i("voice"===e?"signin:mfa.message.resendSucceed_voice":"signin:mfa.message.resendSucceed_sms")})}))},y=l>0;return(0,h.jsxs)(mc,{children:[(0,h.jsx)(ni,{isCancelable:!0,title:i("signin:mfa.resendByCallDialog.title"),content:i("signin:mfa.resendByCallDialog.content"),visible:u,onAccept:()=>b("voice"),onCancel:()=>d(!1)}),(0,h.jsx)(oa.W,nw({"data-testid":"snackbar"},f)),(0,h.jsx)(La._,{className:"mer-spacing-b-16",bold:!0,children:i("signin:mfa.hint.resendCode")}),(0,h.jsx)(La._,{className:"mer-spacing-b-8",children:i("signin:mfa.hint.resendByCall")}),(0,h.jsx)(p.j,{fluid:!0,intent:"secondary",className:"mer-spacing-b-24",disabled:y,children:(0,h.jsx)("button",{type:"button",disabled:y,onClick:()=>d(!0),children:i("signin:mfa.button.resendByCall")})}),(0,h.jsx)(La._,{className:"mer-spacing-b-8",children:i("signin:mfa.hint.resendBySMS")}),(0,h.jsx)(p.j,{fluid:!0,intent:"secondary",className:"mer-spacing-b-24",disabled:y,children:(0,h.jsx)("button",{type:"button",disabled:y,onClick:()=>b("sms"),children:i("signin:mfa.button.resendBySMS")})}),(0,h.jsx)(La._,{color:"secondary",children:(0,h.jsx)(qc.x,{i18nKey:"signin:mfa.hint.notReceiveCode",components:{smsLink:(0,h.jsx)(Mt,{href:v})}})})]})};function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach((function(t){lw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sw=()=>{const{state:e}=(0,s.zy)(),t=(0,r.useMemo)((()=>e||{}),[e]),{t:n}=(0,c.B)("signin"),[i,a]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt.Mercari;const[t,n]=(()=>{const[e,t]=Ze("/api/users/login",void 0,{withFlowSessionID:!0,withAccessToken:!0});return[t=>{let{email:n,password:r,code:i}=t;const a=new FormData;return a.set("email",n),a.set("password",r),a.set("iv_cert",me.current.ivCert||Re()),e(a,{headers:i?{"X-MFA-CODE":i}:{}})},t]})(),[r,i]=at(),[a,o]=rt(),[c,l]=bt(),[s,u]=pt();let d;switch(e){case yt.Google:d=i;break;case yt.Facebook:d=o;break;case yt.Apple:d=l;break;case yt.LINE:d=u;break;default:d=n}return[n=>{return e===yt.Google?r(n.accessToken,n.code):e===yt.Facebook?a(n):e===yt.Apple?c():e===yt.LINE?s({id_token:null!==(i=n.accessToken)&&void 0!==i?i:"",iv_cert:me.current.ivCert||Re()},{headers:{"X-MFA-CODE":null!==(o=n.code)&&void 0!==o?o:""}}):t(n);var i,o},d]}(t.method),{navigate:o}=(0,_r.f)(),[l,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),{hasAuthenticatedToken:m}=Ae(),{createOIDCSession:f}=Nr(),[g]=Ze("".concat(fe(),"/mfa/resend")),v=(0,r.useCallback)((async(e,t,n)=>{const r=new FormData;r.set("type",e);const i=await g(r);i.error?t(i.error.errors[0].message):n()}),[g]);Qs("sign_in_mfa",t.method);const b=function(e){return!(![yt.Mercari,yt.Google,yt.Facebook,yt.LINE].includes(e.method)||!e.message||!(e.method!==yt.Mercari||e.email&&e.password)||e.method===yt.Google&&!e.accessToken||e.method===yt.Facebook&&!e.accessToken||e.method===yt.LINE&&!e.accessToken)}(t)&&m;(0,r.useEffect)((()=>{b||o("/signin/")}),[b,o]);const y=(0,r.useCallback)((async(e,n)=>{if(d)return;p(!0);const{error:r,data:a}=await i(cw(cw({},t),{},{code:e.code}));if(a&&"poa"in a)Ee.log(Rr(t.method)),await Promise.all([Ee.flushEvents(1e3),Dr({uid:zr("user"in a?a.user.id:a.id),event:"login_complete"})]),f(a.poa,t.method);else if(p(!1),null!=r&&r.errors){var o,c,l;(null===(o=r.errors[0])||void 0===o?void 0:o.code)===jt.Invalid||(null===(c=r.errors[0])||void 0===c||null===(c=c.details)||void 0===c?void 0:c.errorInfo.reason)===jt.Invalid?n.setError("code",{type:"server",message:r.errors[0].message||(null===(l=r.errors[0].details)||void 0===l?void 0:l.localizedMessage.message)}):u(!0),Ee.log(Vr("sign_in_mfa",r,{authMethod:Et(t.method)}))}}),[f,d,t,i]);return b?(0,h.jsxs)(X,{"location-0":"sign_in_mfa",children:[a.error&&(0,h.jsx)(JO,{apiResponse:a.error,visible:l,onAccept:()=>{o("/signin/")}}),(0,h.jsx)(cc,{titleLabel:n("signin:mfa.heading")}),(0,h.jsx)(ew,{phoneNumber:t.message,onSubmit:y,disableSubmit:d,extraParams:{authMethod:Et(t.method)},otpLength:6}),(0,h.jsx)(aw,{onResend:v})]}):null};function uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(n),!0).forEach((function(t){pw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mw=e=>({snackbar:e}),hw=()=>{const[e,t]=(0,r.useState)(),n=(0,s.zy)().state;return(0,r.useEffect)((()=>{null!=n&&n.snackbar&&(t(n.snackbar),window.history.replaceState(dw(dw({},n),{},{snackbar:void 0}),""))}),[n]),[e,t]};var fw;function gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gw(Object(n),!0).forEach((function(t){bw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yw=j.Ay.div(fw||(fw=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  .merGuideLink {\n    padding: 0;\n  }\n"]))),jw=Qc.Ik({phoneNumber:fs()}),Ow=e=>(0,$c.u)(jw,{errorMap:Kl(e,Os(e))}),ww=()=>{const{acrElevationFlowState:e,saveSigninSmsRegistrationFlowState:t}=yr(),{navigate:n}=(0,_r.f)(),{t:i,ready:a,i18n:{language:o}}=(0,c.B)(["signin","authCommon"]),[l,s]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[p]=Pr(),[f]=xu(),[g]=Od(),[v]=wd(),[b,y]=(0,r.useState)(!1),[j,O]=(0,r.useState)(!1),{getToken:w,scoreBasedFailed:x,setScoreBasedFailed:P}=qn(),[,E]=hw(),[_,S]=(0,r.useState)(!1),{urlSearchParams:C}=U();(0,r.useEffect)((()=>{e.poa||n("/signin/")}),[e.poa,n]);const k=(0,Jc.mN)({resolver:Ow(i),defaultValues:{phoneNumber:""}});return(0,h.jsxs)(X,{"location-0":"signin_phone_number_input",children:[(0,h.jsx)(cc,{titleLabel:i("signin:phone.heading")}),(0,h.jsx)(Jc.Op,vw(vw({},k),{},{children:(0,h.jsxs)("form",{onSubmit:k.handleSubmit((async n=>{d(null),s(!0),t({phoneNumber:n.phoneNumber});const{error:r}=await p(e.poa);if(r)return s(!1),void O(!0);let a;try{a=await w(Ln.VerificationChallenge)}catch(e){return s(!1),void E({bodyText:i("authCommon:error.networkConnectionError")})}if(!a.token)return S(!0),void s(!1);const o=vw(vw({},e),{},{gRecaptchaResponse:a.token,recaptchaVersion:a.version,countryCode:ge.O4.Japan,essentialClaims:"",optionalClaims:"",isRecovery:!1,challengeOnboardingType:wu.$w.CHALLENGE_ONBOARDING_TYPE_UNSPECIFIED,authorizationParameters:new URLSearchParams(C.params).toString(),maxAge:"0"}),c=await f(o);if(We(c)){var l;if(403!==(null===(l=c.error)||void 0===l?void 0:l.status))return s(!1),void O(!0);if(!x)return P(!0),void s(!1)}if($e(c)){const{challengeId:e}=c.data;t({challengeId:e});const r=await g({phoneNumber:n.phoneNumber,challengeId:e});r.error?(s(!1),await Ee.log(Vr("sign_in_email",r.error,{location:"signin_phone_number_verification"})),412===r.error.status&&O(!0),d(r.error)):r.data&&y(!0)}})),children:[(0,h.jsx)(La._,{element:"p",className:"mer-spacing-b-24",children:i("signin:phone.description")}),(0,h.jsx)(El,{name:"phoneNumber",label:i("signin:phone.phoneNumber"),placeholder:i("signin:phone.placeholder.phoneNumber"),className:"mer-spacing-b-24",inputMode:"tel",autoComplete:"tel"}),(0,h.jsx)(yw,{className:"mer-spacing-y-24",children:(0,h.jsx)(Xp.l,{children:(0,h.jsx)(Mt,{href:m.t7.reasonForPhoneNumberVerification(o),children:i("signin:phone.authenticationReasonLink")})})}),(0,h.jsx)(Io,{action:Ln.VerificationChallenge,className:"mer-spacing-b-24"}),_&&(0,h.jsx)($s,{errorMessage:i("authCommon:error.captchaNotChecked")}),u&&(0,h.jsx)(zl,{error:u,className:"mer-spacing-t-24"}),(0,h.jsx)("div",{className:u?"mer-spacing-t-16 mer-spacing-b-24":"mer-spacing-y-24",children:(0,h.jsx)(Wt,{fluid:!0,intent:"primary","location-1":"body","location-2":"next_button",extraParams:{authMethod:le.qR.AUTH_METHOD_EMAIL},loading:l,children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",children:i("signin:phone.continueButton")})})})]})})),(0,h.jsx)(ni,{visible:j,onAccept:()=>{n("/signin")},content:i("signin:phone.defaultErrorDailog.content"),title:i("signin:phone.defaultErrorDailog.title")}),(0,h.jsx)(Zp,{visible:b,title:k.watch("phoneNumber"),description:i("signin:phone.confirmationDialog.description"),onConfirm:async()=>{s(!0);const{error:t,data:r}=await v({otpDeliveryMethod:cs.x5.OTP_DELIVERY_METHOD_SMS,challengeId:e.challengeId});if(t)return s(!1),d(t),void await Ee.log(Vr("sign_in_email",t,{authMethod:le.qR.AUTH_METHOD_EMAIL}));r&&n("/signin/phone/mfa/")},onCancel:()=>{s(!1),y(!1)},screenName:"signin_phone_number_input"})]})},xw=e=>{switch(e){case"voice":return cs.x5.OTP_DELIVERY_METHOD_PHONE;case"sms":return cs.x5.OTP_DELIVERY_METHOD_SMS;default:return cs.x5.OTP_DELIVERY_METHOD_UNSPECIFIED}},Pw=()=>{const{t:e}=(0,c.B)("signin"),[t,n]=(0,r.useState)(!1),[i]=xd(),[a]=wd(),{acrElevationFlowState:o}=yr(),{createOIDCSession:l}=Nr(),{navigate:s}=(0,_r.f)(),[u]=Pu(),[d]=Er(),[p,m]=(0,r.useState)(null);(0,r.useEffect)((()=>{o.challengeId&&o.phoneNumber||s("/signin/")}),[o.challengeId,o.phoneNumber,s]);const f=(0,r.useCallback)((async(e,r)=>{var a;if(t)return;const c=e=>{var t;n(!1),null!=e&&e.errors&&r.setError("code",{type:"server",message:(null===(t=e.errors[0].details)||void 0===t?void 0:t.localizedMessage.message)||e.errors[0].message})};if(n(!0),!p){const{error:t,data:n}=await i({challengeId:o.challengeId,otp:e.code});if(t)return void c(t);n&&"poa"in n&&m(n.poa)}const s=await u({challengeId:o.challengeId});s.error?c(s.error):null!==(a=s.data)&&void 0!==a&&a.poa&&(await d(),await Dr({uid:o.userId,event:"login_complete"}),await Ee.log(Rr(yt.Mercari)),l(s.data.poa,yt.Mercari))}),[o.userId,o.challengeId,l,u,t,d,i,p]),g=(0,r.useCallback)((async(e,t,n)=>{const{error:r,data:i}=await a({otpDeliveryMethod:xw(e),challengeId:o.challengeId});r?t(r.errors[0].message):i&&n()}),[a,o.challengeId]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:e("signin:mfa.heading")}),(0,h.jsx)(ew,{phoneNumber:o.phoneNumber,onSubmit:f,disableSubmit:t,extraParams:{authMethod:le.qR.AUTH_METHOD_EMAIL},otpLength:4}),(0,h.jsx)(aw,{onResend:g})]})};var Ew,_w,Sw;function Cw(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const kw=j.Ay.img(Ew||(Ew=Cw(["\n  border-radius: 50%;\n  margin-bottom: 20px;\n"]))),Nw=j.Ay.div(_w||(_w=Cw(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 30px;\n"]))),Iw=j.Ay.div(Sw||(Sw=Cw(["\n  margin-top: 8px;\n  text-align: center;\n  button {\n    padding: 8px 0 !important;\n  }\n"]))),Aw=e=>{let{user:t,loginMethod:n,onClickUseOtherSignIn:i}=e;const{t:a}=(0,c.B)("signin"),[o,l]=(0,r.useState)(null),[s,u]=(0,r.useState)(!1);(0,r.useEffect)((()=>{Ee.log(Lr("previous_logged_in"))}),[]);const d=()=>(u(!0),new Promise((e=>{setTimeout((()=>{e()}),100)}))),p=()=>{u(!1)},m=(()=>{switch(n){case yt.Apple:return(0,h.jsx)(CO,{className:"mer-spacing-b-16",label:a("signin:home.signinWithApple"),mode:Kr.SignIn,setErrorDialog:l,onPopUpOpened:d,onPopUpClosed:p});case yt.Facebook:return(0,h.jsx)(kO,{label:a("signin:home.loginWithFacebook"),onNotFound:()=>l({title:a("signin:error.noFacebook"),content:a("signin:error.confirmAccount")}),onPopUpOpened:d,onPopUpClosed:p});case yt.Google:return(0,h.jsx)(NO,{className:"mer-spacing-b-16",label:a("signin:home.loginWithGoogle"),onNotFound:()=>l({title:a("signin:error.noGoogle"),content:a("signin:error.confirmAccount")}),onPopUpOpened:d,onPopUpClosed:p});default:return i(),null}})();return t?(0,h.jsxs)(X,{"location-0":"previous_logged_in",children:[(0,h.jsx)(cc,{titleLabel:a("signin:previousUser.heading")}),(0,h.jsxs)(Nw,{children:[(0,h.jsx)(kw,{src:t.photo_thumbnail_url,alt:a("signin:previousUser.userThumbnail.alt")}),(0,h.jsx)("p",{children:t.name})]}),(0,h.jsx)(X,{"location-1":"body",children:m}),(0,h.jsx)(Iw,{children:(0,h.jsx)(te._,{onClick:i,children:(0,h.jsx)("button",{type:"button",children:a("signin:previousUser.useOtherSignIn")})})}),(0,h.jsx)(ni,{visible:!!o,onAccept:()=>{l(null)},title:null==o?void 0:o.title,content:null==o?void 0:o.content}),s&&(0,h.jsx)(Fi,{fullScreen:!0})]}):null};function Dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dw(Object(n),!0).forEach((function(t){Tw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fw=n(3234),Mw=n(6444);const Lw="sign_in_email_link_sent",Rw=()=>{const{t:e,ready:t}=(0,c.B)(["email"]);return Qs(Lw),t?(0,h.jsx)(X,{"location-0":Lw,children:(0,h.jsxs)(Xr.s,{direction:"column",align:"center",gap:"spacing24",children:[(0,h.jsx)(Xr.s,{justify:"center",marginBlockEnd:"spacing24",width:"fluid",children:(0,h.jsx)(Xb,{})}),(0,h.jsxs)(Xr.s,{direction:"column",align:"center",gap:"spacing16",children:[(0,h.jsx)(ti.a,{size:"large",weight:"bold",align:"center",children:e("email:emailMagicLinkDeviceCode.title")}),(0,h.jsx)(Qr.a,{align:"center",children:e("email:emailMagicLinkDeviceCode.description")})]}),(0,h.jsxs)(Fw.x,{alignItems:"center",width:"fluid",columns:"1fr auto 1fr",children:[(0,h.jsx)(Fw.E,{area:"1 / 1",children:(0,h.jsx)(Mw.w,{})}),(0,h.jsx)(Fw.E,{area:"1 / 2",children:(0,h.jsx)(gm.Z,{paddingInline:"spacing16",backgroundColor:"basic.tertiary",align:"center",justify:"center",width:"fluid",children:e("email:emailMagicLinkDeviceCode.separator")})}),(0,h.jsx)(Fw.E,{area:"1 / 3",children:(0,h.jsx)(Mw.w,{})})]}),(0,h.jsxs)(Xr.s,{width:"fluid",direction:"column",justify:"center",align:"center",children:[(0,h.jsx)(Qr.a,{align:"center",width:"fluid",marginBlockEnd:"spacing24",children:e("email:emailMagicLinkDeviceCode.context")}),(0,h.jsx)(gm.Z,{width:"fluid",align:"center",justify:"center",borderStyle:"solid",borderColor:"basic.primary",direction:"row",radius:"medium",paddingInline:"spacing24",paddingBlock:"spacing16",gap:"spacing8",marginBlockEnd:"spacing8",children:"122345".split("").map(((e,t)=>(0,h.jsx)(nc.y,{weight:"bold",level:"h2",size:"x3Large",children:e},t)))}),(0,h.jsx)(Ys.X,{children:e("email:emailMagicLinkDeviceCode.hint")})]}),(0,h.jsx)(Xr.s,{justify:"end",width:"fluid",children:(0,h.jsx)(Jt,{marginBlock:"spacing8",underline:!0,"location-1":"account_recovery",children:(0,h.jsxs)(l.N_,{to:"/recovery",children:[e("signin:cantLogin"),(0,h.jsx)(wr.k34,{size:"xSmall"})]})})})]})}):(0,h.jsx)(Fi,{})},Vw=e=>{let{handlePasskeyLogin:t}=e;const n=Mv(),i=(0,r.useRef)(!1);(0,r.useEffect)((()=>{(async()=>{if(n&&!i.current){i.current=!0;try{await t({method:yt.PasskeyAutofill,location:"sign_in_email:conditional_ui",isPasskeyEnforced:!1})}finally{Ee.log(It("sign_in_email:conditional_ui"))}}})()}),[n,t])},Bw=e=>{let{isInternational:t=!1}=e;const{i18n:{language:n}}=(0,c.B)();return(0,h.jsx)(Ys.X,{children:(0,h.jsx)(qc.x,{i18nKey:"signin:termsOfUseAndPrivacyPolicy",components:{tos:(0,h.jsx)(Mt,{href:t?m.oS.termsOfService(n):m.t7.tosList(n)}),pp:(0,h.jsx)(Mt,{href:t?m.I1.globalPrivacy(n):m.I1.privacy(n)})}})})};var Uw;function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hw(Object(n),!0).forEach((function(t){qw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gw=j.Ay.div(Uw||(Uw=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  text-align: left;\n\n  .merTextLink a {\n    text-decoration: none;\n  }\n"]))),Ww=e=>{let{formMethods:t}=e;const{t:n}=(0,c.B)(["signin","authCommon"]),{getUpdatedSearchQuery:r}=U(),{getFlag:i}=pr(),a=i("global_phone_number_signin_support_web"),{onGoToPasswordStep:o}=oj(),l=t.watch("email");return(0,h.jsx)(X,{"location-0":"sign_in_email",children:(0,h.jsx)(X,{"location-1":"body",children:(0,h.jsxs)("form",{onSubmit:t.handleSubmit(((e,t)=>{null==t||t.preventDefault(),(async e=>{o(e.email)})(e)})),noValidate:!0,children:[(0,h.jsx)(El,{className:"mer-spacing-b-16",type:"email",name:"email",autoComplete:"email webauthn",label:n("signin:email"),placeholder:n("signin:emailPlaceholder")}),a&&(0,h.jsx)(Gw,{className:"mer-spacing-b-16",children:(0,h.jsx)(te._,{children:(0,h.jsx)(Ra,{to:"/signin/int",search:"?".concat(r(new URLSearchParams([["signinType","phone"]]))),children:n("signin:preferPhoneNumber")})})}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary","location-2":"sign_in_button",extraParams:{authIdType:Xs(l)},className:"mer-spacing-b-16 mer-spacing-t-24",children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",children:n("signin:vcf.nextStep")})})]})})})},$w=()=>{const{t:e}=(0,c.B)(["signin","authCommon"]),t=(0,Jc.mN)({resolver:lj(e),defaultValues:{email:""}});return(0,r.useEffect)((()=>{t.reset({email:""}),t.clearErrors()}),[t]),(0,h.jsx)(Jc.Op,Kw(Kw({},t),{},{children:(0,h.jsx)(Ww,{formMethods:t})}))};var Yw;function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jw(Object(n),!0).forEach((function(t){Xw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zw=j.Ay.div(Yw||(Yw=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  text-align: left;\n\n  a {\n    text-decoration: none;\n  }\n"]))),ex=e=>{let{formMethods:t}=e;const{t:n}=(0,c.B)(["signin","authCommon"]),r=iO(),{getUpdatedSearchQuery:i}=U(),{onGoToPasswordStep:a}=oj(),{getFlag:o}=pr(),l=o("global_phone_number_signin_support_web"),s=t.watch("phoneNumber");return(0,h.jsx)(X,{"location-0":"sign_in_email",children:(0,h.jsx)(X,{"location-1":"body",children:(0,h.jsxs)("form",{onSubmit:t.handleSubmit(((e,t)=>{null==t||t.preventDefault(),(async e=>{a(oO(e.phoneNumber,e.countryCode))})(e)})),noValidate:!0,children:[(0,h.jsx)(kl,{name:"countryCode",className:"mer-spacing-b-16",label:n("signin:phone.phoneNumber"),options:r,fluid:!0}),(0,h.jsx)(El,{className:"mer-spacing-b-16",type:"tel",name:"phoneNumber",autoComplete:"tel",inputMode:"tel",placeholder:n("signin:phone.placeholder.signin")}),l&&(0,h.jsx)(Zw,{className:"mer-spacing-b-16",children:(0,h.jsx)(ce.Y,{as:Ra,to:"/signin/int",search:"?".concat(i(new URLSearchParams([["signinType","email"]]))),underline:!0,children:n("signin:preferEmail")})}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary","location-2":"sign_in_button",extraParams:{authIdType:Xs(s)},className:"mer-spacing-b-16 mer-spacing-t-24",children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",children:n("signin:vcf.nextStep")})})]})})})},tx=()=>{const{t:e}=(0,c.B)(["signin","authCommon"]),t=(0,Jc.mN)({resolver:uj(e),defaultValues:{phoneNumber:"",countryCode:sj}});return(0,r.useEffect)((()=>{t.reset({phoneNumber:"",countryCode:sj}),t.clearErrors()}),[t]),(0,h.jsx)(Jc.Op,Qw(Qw({},t),{},{children:(0,h.jsx)(ex,{formMethods:t})}))};var nx,rx;function ix(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const ax=j.Ay.div(nx||(nx=ix(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin: "," 0 ",";\n\n  a {\n    text-decoration: none;\n  }\n"])),Ka.i.spacing[16],Ka.i.spacing[24]),ox=(0,j.Ay)(mc)(rx||(rx=ix(["\n  margin-bottom: 0;\n"]))),cx=()=>{const{handlePasskeyLogin:e}=Fv();Vw({handlePasskeyLogin:e});const{t}=(0,c.B)("signin"),{getFlag:n,isLoadingConfig:r}=pr(),{urlSearchParams:i}=U(),a="phone"===i.signinType,o=n("global_phone_number_signin_support_web"),l=a&&o;return r?(0,h.jsx)(Fi,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(ox,{children:[l?(0,h.jsx)(tx,{}):(0,h.jsx)($w,{}),(0,h.jsx)(Bw,{isInternational:!0}),(0,h.jsx)(Js,{}),(0,h.jsxs)(ax,{children:[(0,h.jsxs)(ce.Y,{as:Ra,to:"/recovery",marginBlock:"spacing8",underline:!0,children:[t("signin:troubleSigningIn"),(0,h.jsx)(wr.k34,{size:"xSmall"})]}),(0,h.jsx)($t,{className:"mer-spacing-y-8","location-2":"has_japanese_account_button",children:(0,h.jsxs)(Ra,{to:"/signin",children:[t("signin:haveJapaneseAccount"),(0,h.jsx)(wr.k34,{size:"xSmall"})]})})]})]}),(0,h.jsx)(tc.I,{className:"mer-spacing-b-32"})]})},lx=()=>{const{t:e}=(0,c.B)(["signin"]),{urlSearchParams:t}=U(),n="?".concat(I(t)),r="/verify";return(0,h.jsx)(X,{"location-0":"sign_in_select",children:(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(uc,{titleLabel:e("signin:heading"),children:(0,h.jsx)($t,{"location-2":"sign_up",children:(0,h.jsx)(Ra,{to:r,search:n,children:e("signin:signUpLinkTop")})})}),(0,h.jsx)(cx,{}),(0,h.jsx)(Qr.a,{marginBlockEnd:"spacing24",align:"center",children:e("signin:signUpLinkDescription")}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary","location-2":"sign_up",children:(0,h.jsx)(Ra,{to:r,search:n,children:e("signin:signUpLink")})})]})})},sx=()=>{const{t:e}=(0,c.B)("signin"),{snsProviderComponent:t,setAvailableProviders:n}=Gi(),{setShowSNSPage:i}=Fy();return(0,r.useEffect)((()=>{n([Bi.APPLE,Bi.GOOGLE,Bi.FACEBOOK,Bi.LINE])}),[n]),(0,h.jsxs)(X,{"location-0":"sns_auth_method",children:[(0,h.jsx)(lc,{children:e("signin:sns.title")}),(0,h.jsx)(dc,{children:e("signin:sns.description")}),(0,h.jsx)(Xr.s,{direction:"column",gap:"spacing8",children:t}),(0,h.jsx)(Xr.s,{justify:"end",children:(0,h.jsxs)(Jt,{marginBlock:"spacing8",onClick:()=>{null==i||i(!1)},children:[e("signin:backToFirstStep"),(0,h.jsx)(wr.k34,{size:"xSmall"})]})})]})};function ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ux(Object(n),!0).forEach((function(t){px(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function px(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mx=e=>{let{label:t,handlePasskeyLogin:n,isPasskeySubmitting:r,buttonProps:i}=e;return(0,h.jsx)(Zt,dx(dx({"location-2":"passkey_button",onClick:async()=>{if(!r)try{await n({method:yt.PasskeyButton,location:"sign_in_select:body:passkey_button",isPasskeyEnforced:!1})}finally{Ee.log(It("sign_in_select:body:passkey_button"))}},icon:(0,h.jsx)(wr.Yg,{})},i),{},{children:t}))};var hx;function fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fx(Object(n),!0).forEach((function(t){vx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bx=j.Ay.div(hx||(hx=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  margin: "," 0 ",";\n\n  a {\n    text-decoration: none;\n  }\n"])),Ka.i.spacing[16],Ka.i.spacing[24]),yx=e=>{let{formMethods:t}=e;const{t:n}=(0,c.B)(["signin","authCommon"]),{onGoToPasswordStep:r,isLoading:i}=oj(),{passkeyLogin:{isVcfPasskeySubmitting:a}}=Fy(),{showMsgToCheckCaptcha:o}=Sa(),{scoreBasedFailed:l,checkboxBasedKey:s}=qn(),u=t.watch("emailOrPhone"),{getFlag:d}=pr(),p=d("UG-535_Login_rebuild_for_JP_NEW"),{setShowSNSPage:f}=Fy(),g=e=>{r(e.emailOrPhone)},v=t.formState.errors.emailOrPhone&&p;return(0,h.jsx)(X,{"location-0":"sign_in_email",children:(0,h.jsx)(X,{"location-1":"body",children:(0,h.jsxs)("form",{onSubmit:t.handleSubmit(((e,t)=>{null==t||t.preventDefault(),g(e)})),noValidate:!0,children:[p?(0,h.jsx)(_l,{title:n("signin:phoneOrEmail"),name:"emailOrPhone",autoComplete:"email webauthn",inputMode:"email",placeholder:n("signin:phoneNumberPlaceholder"),disabled:i}):(0,h.jsx)(El,{className:"mer-spacing-b-16",type:"email",name:"emailOrPhone",autoComplete:"email webauthn",label:n("signin:phoneOrEmail"),placeholder:n("signin:phoneNumberPlaceholder"),disabled:i}),o&&(0,h.jsx)($s,{errorMessage:n("authCommon:error.captchaNotChecked")}),l&&(0,h.jsx)(Tn,{className:"mer-spacing-b-24",sitekey:s,action:Ln.VerificationChallenge,callback:()=>g({emailOrPhone:u})}),v&&(0,h.jsx)(Xr.s,{marginBlockStart:"spacing8",children:(0,h.jsx)(Qt,{href:m.t7.loginInquiries(ve.AT.Japanese),children:n("signin:forgotAccount")})}),p?(0,h.jsx)(Yt,{variant:"primary","location-2":"sign_in_button",type:"submit",disabled:a||i,width:"fluid",marginBlock:"spacing24",children:n("signin:vcf.nextStep")}):(0,h.jsx)(Wt,{fluid:!0,intent:"primary","location-2":"sign_in_button",extraParams:{authIdType:Xs(u)},className:"mer-spacing-b-16 mer-spacing-t-24",loading:a||i,disabled:a||i,children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",children:n("signin:vcf.nextStep")})}),(0,h.jsx)(Bw,{}),(0,h.jsx)(Js,{}),p?(0,h.jsxs)(bx,{children:[(0,h.jsx)(Jt,{underline:!0,children:(0,h.jsxs)(Ra,{to:"/signup",children:[n("signin:signUpLink"),(0,h.jsx)(wr.k34,{size:"xSmall"})]})}),(0,h.jsxs)(Jt,{marginBlock:"spacing8",underline:!0,onClick:()=>{null==f||f(!0)},children:[n("signin:snsLoginLink"),(0,h.jsx)(wr.k34,{size:"xSmall"})]})]}):(0,h.jsx)(bx,{children:(0,h.jsx)(Jt,{marginBlock:"spacing8",underline:!0,children:(0,h.jsxs)(Ra,{to:"/recovery",children:[n("signin:troubleSigningIn"),(0,h.jsx)(wr.k34,{size:"xSmall"})]})})})]})})})},jx=()=>{var e;const{t}=(0,c.B)(["signin","authCommon"]),{getFlag:n}=pr(),i=n("UG-535_Login_rebuild_for_JP_NEW"),{verifyError:a}=Sa(),o=(0,Jc.mN)({resolver:cj(t),defaultValues:{emailOrPhone:""}});(0,r.useEffect)((()=>{o.reset({emailOrPhone:""}),o.clearErrors()}),[o]);const l=i&&5===(null==a||null===(e=a.errors)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.code);return(0,r.useEffect)((()=>{l&&o.setError("emailOrPhone",{message:t("signin:specificError.accountNotFound")})}),[o,l,t]),(0,h.jsx)(Jc.Op,gx(gx({},o),{},{children:(0,h.jsx)(yx,{formMethods:o})}))};var Ox,wx,xx,Px;function Ex(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const _x=(0,j.Ay)(mc)(Ox||(Ox=Ex(["\n  border-color: var(--alias-color-border-primary-highlight);\n  padding-bottom: 40px;\n"]))),Sx=(0,j.Ay)(mc)(wx||(wx=Ex(["\n  margin-bottom: 0;\n"]))),Cx=j.Ay.div(xx||(xx=Ex(["\n  "," {\n    padding: 0 16px;\n  }\n"])),Z.$_[">=large"]),kx=j.Ay.div(Px||(Px=Ex(["\n  overflow: hidden;\n  text-align: center;\n  margin-bottom: 24px;\n  color: var(--alias-color-text-primary-default);\n\n  &:before,\n  &:after {\n    content: '';\n    background-color: var(--alias-color-border-primary-highlight);\n    display: inline-block;\n    height: 1px;\n    position: relative;\n    vertical-align: middle;\n    width: 50%;\n  }\n\n  &:before {\n    right: 24px;\n    margin-left: -50%;\n  }\n\n  &:after {\n    left: 24px;\n    margin-right: -50%;\n  }\n"]))),Nx=()=>{const{handlePasskeyLogin:e,isPasskeySubmitting:t,passkeyError:n,setPasskeyError:i}=Fv();Vw({handlePasskeyLogin:e});const{t:a}=(0,c.B)("signin"),[o,l]=(0,r.useState)(null),[s,u]=(0,r.useState)(!1),[d]=Ov(),p=()=>(u(!0),new Promise((e=>{setTimeout((()=>{e()}),100)}))),m=()=>{u(!1)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Sx,{children:(0,h.jsx)(jx,{})}),(0,h.jsx)(Cx,{children:(0,h.jsx)(kx,{children:a("signin:socialLoginSeparator")})}),(0,h.jsxs)(_x,{borderBottom:!0,children:[(0,h.jsx)(Yr,{label:a("signin:home.signinWithApple"),mode:Kr.SignIn,setErrorDialog:l,onPopUpOpened:p,onPopUpClosed:m,buttonProps:{marginBlockEnd:"spacing16"}}),(0,h.jsx)(Oi,{label:a("signin:home.loginWithGoogle"),buttonProps:{marginBlockEnd:"spacing16"},onNotFound:()=>l({title:a("signin:error.noGoogle"),content:a("signin:error.confirmAccount")}),onPopUpOpened:p,onPopUpClosed:m}),(0,h.jsx)(Vi,{label:a("signin:home.loginWithLINE"),buttonProps:{marginBlockEnd:"spacing16"}}),d&&(0,h.jsx)(mx,{label:a("signin:home.loginWithPasskey"),buttonProps:{marginBlockEnd:"spacing16"},handlePasskeyLogin:e,isPasskeySubmitting:t}),(0,h.jsx)(ui,{label:a("signin:home.loginWithFacebook"),onNotFound:()=>l({title:a("signin:error.noFacebook"),content:a("signin:error.confirmAccount")}),onPopUpOpened:p,onPopUpClosed:m})]}),(0,h.jsx)(ri,{visible:!!o,onAccept:()=>{l(null)},title:null==o?void 0:o.title,content:null==o?void 0:o.content}),(0,h.jsx)(ij,{visible:n===Tv.PasskeyError,onAccept:()=>{i(null)}}),s&&(0,h.jsx)(Fi,{fullScreen:!0})]})},Ix=()=>{const{handlePasskeyLogin:e}=Fv();return Vw({handlePasskeyLogin:e}),(0,h.jsx)(jx,{})},Ax=()=>{const{t:e}=(0,c.B)(["signin"]),t="/signup";return(0,h.jsx)(X,{"location-0":"sign_in_select",children:(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(uc,{titleLabel:e("signin:heading"),children:(0,h.jsx)($t,{"location-2":"sign_up",children:(0,h.jsx)(Ra,{to:t,children:e("signin:signUpLinkTop")})})}),(0,h.jsx)(Nx,{}),(0,h.jsx)(Qr.a,{marginBlockEnd:"spacing24",align:"center",children:e("signin:signUpLinkDescription")}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary","location-2":"sign_up",children:(0,h.jsx)(Ra,{to:t,children:e("signin:signUpLink")})})]})})},Dx=()=>{const{t:e}=(0,c.B)(["signin"]);return(0,h.jsx)(X,{"location-0":"sign_in_select",children:(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(lc,{justifySelf:"start",children:e("signin:heading")}),(0,h.jsx)(Ix,{})]})})},zx=["showDialog"],Tx=()=>{var e;const t=ky(),{showDialog:n}=t,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,zx),{vcfState:a,orchestrator:o,verifyError:l,updateVerifyError:u,resetVcfState:d,showNetworkErrorSnack:p,setShowNetworkErrorSnack:m}=Sa(),{setLoadingScrim:f,internationalAuth:g,showSNSPage:v}=Fy(),{getFlag:b}=pr(),y=b("UG-535_Login_rebuild_for_JP_NEW"),j=b("UG-399_cross_device_email_magic_link"),[O,w]=(0,r.useState)(!1),x=g?lx:y?Dx:Ax,{t:P}=(0,c.B)(["authCommon"]),{updateSNSAuthMethods:_,hasAvailableProvidersFromVcf:S}=oy(),{search:C}=(0,s.zy)(),{updateSearchQuery:k}=U(),{sendEmailLink:I}=Ly(),{showSnackbar:A}=da(),D=o.type===ja.VerificationScreen&&o.data.availableAuthenticationMethods.includes(ed.N2.EMAIL_LINK)&&o.data.isSubjectIdentified,z=o.type===ja.VerificationScreen&&o.data.availableAuthenticationMethods[0]===ed.N2.FIDO_UV&&o.data.isSubjectIdentified,T=o.type===ja.ReactivateUser,F=o.type===ja.VerificationScreen&&(null===(e=o.data.availableAuthenticationMethods[0])||void 0===e?void 0:e.startsWith("SNS_"))&&o.data.isSubjectIdentified;(0,r.useEffect)((()=>{d()}),[d]),(0,r.useEffect)((()=>{const e="sign_in_select";return Ee.log(Lr(e)),()=>{Ee.log(Br(e))}}),[]),(0,r.useEffect)((()=>{o.type!==ja.Loading&&f(!1)}),[f,o.type]),(0,r.useEffect)((()=>{Object.values(i).every((e=>!e))&&(null==u||u(null))}),[i,u]),(0,r.useEffect)((()=>{const e=E.parse(C).params;if("signin"!==(e?E.parse(N(e)):{}).onboarding_type){const e=(e=>{const t=E.parse(e).params,n=zw(zw({},t?E.parse(N(t)):{}),{},{onboarding_type:"signin"}),r=new URLSearchParams;return Object.keys(n).length>0&&r.set("params",E.stringify(n)),r})(C);k(e)}}),[C,k]),(0,r.useEffect)((()=>{p&&A({bodyText:P("authCommon:error.networkConnectionError"),variant:"error",onClose:()=>m(!1)})}),[p,A,P,m]);const M=l?Ot(l)[0]:P("authCommon:error.genericAuthFailedActionText");(0,r.useEffect)((()=>{var e,t;if(y)return;const r=()=>{S?(_(),n("showPasswordErrorSNSDialog",!0)):n("showSpecificErrorDialog",Oy.IncorrectPassword)};5===(null==l||null===(e=l.errors[0])||void 0===e?void 0:e.code)?n("showSpecificErrorDialog",Oy.AccountNotFound):16===(null==l||null===(t=l.errors[0])||void 0===t?void 0:t.code)?D?I(a.challengeId).then((e=>{!0===e?j?w(!0):n("showEmailLinkDialog",!0):r()})).catch((()=>{r()})):r():l&&n("showGeneralErrorDialog",M),l&&Ee.log(Vr("sign_in_email",l,{authMethod:le.qR.AUTH_METHOD_EMAIL}))}),[l,M,S,I,n,D,_,a.challengeId,y,j]),(0,r.useEffect)((()=>{n("showVcfDialog",!(!z&&!T))}),[n,z,T]);const L=o.type===ja.VerificationScreen&&o.data.availableAuthenticationMethods[0]===ed.N2.SMS&&o.data.isSubjectIdentified,R=o.type===ja.VerificationScreen&&o.data.availableAuthenticationMethods[0]===ed.N2.PASSWORD&&o.data.isSubjectIdentified,V=o.type===ja.VerificationScreen&&o.data.availableAuthenticationMethods[0]===ed.N2.EMAIL&&o.data.isSubjectIdentified,B=o.type===ja.VerificationScreen&&o.data.availableRegistrationMethods.length>0&&o.data.isSubjectIdentified,H=o.type===ja.GenericError||o.type===ja.ChallengeTimeout||o.type===ja.CustomerSupportRequiredError||o.type===ja.ChallengeFinish||o.type===ja.InhouseAuthenticatorError||o.type===ja.SimpleKyc;return v?(0,h.jsx)(sx,{}):O?(0,h.jsx)(Rw,{}):L||R||H||B||F||V||y&&z?(0,h.jsx)($j,{shouldInitiateVCF:!1}):(0,h.jsx)(x,{})};function Fx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fx(Object(n),!0).forEach((function(t){Lx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Rx=()=>{(0,r.useEffect)((()=>{const e="sign_in_select";return Ee.log(Lr(e)),()=>{Ee.log(Br(e))}}),[]);const{ready:e,t}=(0,c.B)(["signin","authCommon"]),{getFlag:n,isLoadingConfig:i}=pr(),{showPreviousUserLogin:a,previousLoginUser:o,previousLoginMethod:l,onClickUseOtherSignIn:u,loading:d}=(()=>{const e="web"===me.current.deviceType,t=ar(rr),n=null==t?void 0:t.userId,[i,a]=(0,r.useState)(!1),[o,c]=(()=>{const[e,t]=tt("".concat(fe(),"/users/get_profile"));return[(0,r.useCallback)((t=>e({user_id:t,_user_format:"simple"})),[e]),t]})();return(0,r.useEffect)((()=>{e&&n&&o(n)}),[e,o,n]),(0,r.useEffect)((()=>{c.data&&a(!0)}),[c.data]),{showPreviousUserLogin:i,loading:c.loading,onClickUseOtherSignIn:()=>{or(rr),a(!1)},previousLoginUser:c.data,previousLoginMethod:null==t?void 0:t.loginMethod}})(),[p,m]=hw(),f=n("UG-546_VCF_Login_migration_for_JP"),g=n("UG-546_VCF_Login_migration_for_Global");if(!e||d||i)return(0,h.jsx)(Fi,{});const v=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?g?(0,h.jsx)(Fc,{children:(0,h.jsx)(My,{internationalAuth:!0,children:(0,h.jsx)(Tx,{})})}):(0,h.jsx)(Fc,{children:(0,h.jsx)($O,{internationalAuth:!0})}):a?(0,h.jsx)(Aw,{user:o,loginMethod:l,onClickUseOtherSignIn:u}):f?(0,h.jsx)(Fc,{children:(0,h.jsx)(My,{children:(0,h.jsx)(Tx,{})})}):(0,h.jsx)(Fc,{children:(0,h.jsx)($O,{})})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Nn,{title:t("authCommon:meta.title.signin"),description:t("authCommon:meta.description.signin")}),(0,h.jsxs)(s.BV,{children:[(0,h.jsx)(s.qh,{path:"/",element:v()}),(0,h.jsx)(s.qh,{path:"/phone",element:(0,h.jsx)(ww,{})}),(0,h.jsx)(s.qh,{path:"/phone/mfa",element:(0,h.jsx)(Pw,{})}),(0,h.jsx)(s.qh,{path:"/mfa",element:(0,h.jsx)(sw,{})}),(0,h.jsx)(s.qh,{path:"/back_to_app",element:(0,h.jsx)(rO,{})}),(0,h.jsx)(s.qh,{path:"/int",element:v(!0)}),(0,h.jsx)(s.qh,{path:"*",element:(0,h.jsx)(y,{})})]}),(0,h.jsx)(oa.W,Mx({"data-testid":"router-snackbar",visible:!!p,onClose:()=>m(void 0)},p))]})};function Vx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vx(Object(n),!0).forEach((function(t){Ux(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ux(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Hx={birthday:""},Kx=Qc.z.object({birthday:ds}),qx=e=>{const t=new Date(e);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()}},Gx=()=>{const{t:e}=(0,c.B)(["signup","vcfOrchestrator"]),{navigate:t}=(0,_r.f)(),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(!1),[l,s]=(0,r.useState)(null),[u]=Ud(),[d]=sp(),{authenticationState:p,saveAuthenticationState:m,signupState:f,saveSignupState:g}=ra(),{challengeId:v,kycStatus:b}=p,y="simple_kyc"===b,j=(0,Jc.mN)({resolver:(0,$c.u)(Kx,{errorMap:Kl(e,{defaults:{birthday:e("signup:validation.defaultFieldName.birthday")}})}),defaultValues:async()=>{const{data:e,error:t}=await d();if(null==e||!e.family_name||null==e||!e.first_name||t)return Hx;const{birthday:n}=e;return m(Bx(Bx({},p),{},{kycStatus:"simple_kyc"})),{birthday:n}}}),{handleSubmit:O}=j;return Qs("idp:verification:vcf:registration:age_verification"),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:e("vcfOrchestrator:ageVerification.heading")}),(0,h.jsxs)(X,{"location-0":"sign_up_age_verification",children:[(0,h.jsx)(Jc.Op,Bx(Bx({},j),{},{children:(0,h.jsxs)("form",{onSubmit:O((async e=>{let{birthday:n}=e;if(!(e=>{const t=new Date;return t.setFullYear(t.getFullYear()-18),new Date(e)<=t})(n))return void i(!0);if(o(!0),!v)throw new Error("Challenge ID is not set");const{error:r}=await u({challengeId:v,birthdate:qx(n)});if(r)return s(r),void o(!1);g(Bx(Bx({},f),{},{ageVerification:{birthday:n}})),t("/signup/int/email")})),noValidate:!0,children:[(0,h.jsx)(La._,{element:"p",className:"mer-spacing-y-12",children:e("vcfOrchestrator:ageVerification.internationalDescription")}),(0,h.jsx)(X,{"location-1":"body",children:(0,h.jsx)(Cl,{disableUIOnly:y})}),l&&(0,h.jsx)(zl,{error:l,className:"mer-spacing-t-24 mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary",className:"mer-spacing-y-24",loading:a,disabled:a,"location-1":"next_button",children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:a,children:e("vcfOrchestrator:ageVerification.continueButton")})})]})})),(0,h.jsx)(X,{"location-1":"under_18_modal",children:(0,h.jsx)(Jr.d,{titleLabel:e("vcfOrchestrator:ageVerification.under18Dialog.title"),visible:n,footer:(0,h.jsx)(Wt,{onClick:()=>i(!1),"location-2":"close_button",children:(0,h.jsx)("button",{children:e("vcfOrchestrator:ageVerification.under18Dialog.closeButton")})}),children:(0,h.jsx)("p",{children:e("vcfOrchestrator:ageVerification.under18Dialog.description")})})})]})]})};var Wx,$x,Yx,Jx,Qx;function Xx(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Zx=j.Ay.div(Wx||(Wx=Xx(["\n  ","\n"])),(e=>{let{borderBottom:t}=e;return t&&(0,j.AH)($x||($x=Xx(["\n      padding-bottom: ",";\n      margin-bottom: ",";\n      border-bottom: ",";\n      padding-bottom: ",";\n    "])),Ka.i.spacing[16],Ka.i.spacing[16],Z.PQ.primary,Ka.i.spacing[32])})),eP=(0,j.Ay)(cc)(Yx||(Yx=Xx(["\n  margin-bottom: ",";\n  margin-top: ",";\n  "," {\n    margin-top: ",";\n    margin-bottom: ",";\n  }\n"])),Ka.i.spacing[24],Ka.i.spacing[24],Z.$_[">=large"],Ka.i.spacing[32],Ka.i.spacing[32]),tP=(0,j.Ay)(Wt)(Jx||(Jx=Xx(["\n  "," {\n    &.merButton {\n      max-width: 408px;\n      margin: 0 auto;\n      display: block;\n    }\n  }\n"])),Z.$_[">=large"]),nP=(0,j.Ay)(Io)(Qx||(Qx=Xx(["\n  display: flex;\n  justify-content: center;\n"])));function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rP(Object(n),!0).forEach((function(t){aP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const oP=ge.O4.Taiwan,cP=()=>{var e;const{t,ready:n,i18n:{language:i}}=(0,c.B)(["signup","authCommon"]),a=(()=>{const{t:e}=(0,c.B)(["signup"]);return ge.uH.map((t=>({label:e("signup:countryAndLanguage.countries.country",{context:t}),value:t})))})(),o=Jd(),{getToken:l,scoreBasedFailed:s,setScoreBasedFailed:u}=qn(),[d,p]=hw(),{navigate:m,getRouterState:f}=(0,_r.f)(),{authenticationState:g,saveAuthenticationState:v,saveSignupState:b,signupState:y,saveExistingRegistrationInfo:j}=ra(),O=f(),w=(P=null!==(e=null==y?void 0:y.countryCode)&&void 0!==e?e:(0,ge.gI)(),E=a.map((e=>e.value)),P&&P!==ge.O4.Japan&&E.includes(P)?P:oP);var P,E;const[_,S]=(0,r.useState)(!1),[C,k]=(0,r.useState)(null),[N,I]=(0,r.useState)(!1),A=!!g.poa||!!g.userId,[D]=xu(),z=(0,r.useMemo)((()=>o.find((e=>e.value===i))),[i,o]),{urlSearchParams:{nonce:T,acr_values:F,params:M}}=U(),L=(0,Jc.mN)({defaultValues:{country:w,language:z?i:o[0].value,termsOfService:!1}}),{handleSubmit:R,watch:V,setValue:B}=L,H=V("country"),K=V("language"),q=V("termsOfService");return Yd({key:Xi,getValues:()=>({uuid:$n(),value:{poa:g.poa,countryCode:H,email:y.email,password:y.password}})}),(0,r.useEffect)((()=>{var e;const t=null!==(e=Zi())&&void 0!==e?e:O;Qn(Xi),t&&(B("country",t.countryCode),j(t))}),[B,j,O]),Qs("sign_up_email:int:country_and_language",yt.Mercari),n?(0,h.jsxs)(X,{"location-0":"sign_up_email","location-1":"int","location-2":"country_and_language",children:[(0,h.jsx)(cc,{titleLabel:t("signup:heading")}),(0,h.jsx)(Jc.Op,iP(iP({},L),{},{children:(0,h.jsxs)("form",{onSubmit:R((async()=>{k(null),S(!0);const{poa:e}=g;if(!T||!F)return(0,x.Cp)(new Error("Nonce or acrValues not found")),void S(!1);let n;try{n=await l(Ln.VerificationChallenge)}catch(e){return S(!1),void p({bodyText:t("authCommon:error.networkConnectionError")})}const{token:r,version:i}=n;if(!r)return I(!0),void S(!1);const{data:a,error:o}=await D({nonce:T,acrValues:F,poa:null!=e?e:"",gRecaptchaResponse:r,recaptchaVersion:i,ivCert:Re(),countryCode:H,essentialClaims:"",optionalClaims:"",isRecovery:!1,challengeOnboardingType:wu.$w.CHALLENGE_ONBOARDING_TYPE_UNSPECIFIED,authorizationParameters:new URLSearchParams(M).toString(),maxAge:"0"});if(o||null==a||!a.challengeId)return Ee.log(St(yt.Mercari,o,{location:"sign_up_email:int:country_and_language"})),403!==(null==o?void 0:o.status)||s?(k(o),void S(!1)):(u(!0),void S(!1));b({languagePreference:K,countryCode:H}),a.subjectId&&e?v(iP(iP({},g),{},{challengeId:null==a?void 0:a.challengeId,userId:Uu(a.subjectId)})):v(iP(iP({},ta),{},{challengeId:null==a?void 0:a.challengeId})),S(!1),H===ge.O4.HongKong?m("signup/int/age_verification"):m("signup/int/email")})),children:[(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:t("signup:countryAndLanguage.selectCountry")}),(0,h.jsx)(kl,{name:"country",fluid:!0,className:"mer-spacing-b-24",label:t("signup:countryAndLanguage.countryAndRegion"),options:a,disabled:A}),(0,h.jsx)(np,{}),(0,h.jsx)(zd,{}),(0,h.jsx)(nP,{action:Ln.VerificationChallenge,className:"mer-spacing-b-24"}),N&&(0,h.jsx)($s,{errorMessage:t("authCommon:error.captchaNotChecked")}),C&&(0,h.jsx)(zl,{error:C,className:"mer-spacing-t-24 mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary",className:C?"mer-spacing-b-24":"mer-spacing-y-24",disabled:!q||_,loading:_,"location-3":"next_button",children:(0,h.jsx)("button",{"data-testid":"registration-continue-button",type:"submit",disabled:!q||_,children:t("signup:email.continueButton")})})]})})),(0,h.jsx)(X,{"location-3":"change_country_modal",children:(0,h.jsx)(tp,{visible:H===ge.O4.Japan,onClose:()=>B("country",w)})}),(0,h.jsx)(oa.W,iP({"body-text":t("authCommon:error.networkConnectionError"),visible:!!d,variant:"error",duration:"long","data-testid":"network-error-snackbar",onClose:()=>p(void 0)},d))]}):(0,h.jsx)(Fi,{})},lP=(e,t)=>{const{navigate:n}=(0,_r.f)();(0,r.useEffect)((()=>{t||n(e)}),[n,t,e])};function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sP(Object(n),!0).forEach((function(t){dP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pP=e=>{let{onSubmit:t,v3Failed:n,showMsgToCheckCaptcha:r,hasCaptchaApiError:i,validationError:a,isSubmitting:o,isRegistrationContinuation:l}=e;const{t:s,ready:u}=(0,c.B)(["signup","authCommon"]),{getFlag:d,isLoadingConfig:p}=pr(),{signupState:{email:m,method:f,optIn:g},authenticationState:{poa:v},saveSignupState:b}=ra(),[y]=Tl(),j=d("webauth_recaptcha_migration_frontend"),O=Qc.Ik({email:ps,password:ms}).refine(...ls(y)),w=(0,Jc.mN)({resolver:v?void 0:(0,$c.u)(O,{errorMap:Kl(s,{defaults:{email:s("signup:validation.defaultFieldName.email"),password:s("signup:validation.defaultFieldName.password")}})}),reValidateMode:"onBlur",defaultValues:{email:null!=m?m:"",password:v?"**********":""}});Qs("sign_up_email",f);const x=w.watch("email"),P=w.watch("password");return!u||p?(0,h.jsx)(Fi,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(X,{"location-0":"sign_up_email",children:(0,h.jsx)(Jc.Op,uP(uP({},w),{},{children:(0,h.jsxs)("form",{onSubmit:w.handleSubmit(t,(e=>((e,t,n)=>{const r=Object.entries(e).map((e=>{let[t,r]=e;switch(t){case"email":return i=null==r?void 0:r.message,n("authValidation:required.input",{fieldName:n("signup:validation.defaultFieldName.email")})===i?"EmailEmpty":n("authValidation:email.format")===i?"EmailInvalid":"error";case"password":return(e=>n("authValidation:required.input",{fieldName:n("signup:validation.defaultFieldName.password")})===e?"PasswordEmpty":"error")(null==r?void 0:r.message);default:return"error"}var i}));Ee.log(kd(t,{location:"sign_up_email:body:next_button",errorDetails:r}))})(e,f,s))),noValidate:!0,children:[(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:s("signup:email.description")}),(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(pd,{email:m,autocomplete:"email",className:"mer-spacing-b-16",disableUIOnly:l}),(0,h.jsx)(zs,{email:x,password:P,label:s("signup:email.password"),disableUIOnly:l}),(0,h.jsx)(od,{className:"mer-spacing-t-24",isOptIn:g,onOptInChange:e=>{b({optIn:e})}})]}),!j&&(0,h.jsx)(No,{v3Failed:!!n}),j&&(0,h.jsx)(Io,{action:Ln.SignUp,className:"mer-spacing-y-16",v3Failed:!!n}),r&&(0,h.jsx)($s,{errorMessage:s("authCommon:error.captchaNotChecked")}),a&&(0,h.jsx)(zl,{className:"mer-spacing-t-24",error:a}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary","location-1":"next_button",loading:o,disabled:o,className:"mer-spacing-b-24 ".concat(a?"mer-spacing-t-16":"mer-spacing-t-24"),children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:o,children:s("signup:email.continueButton")})})]})}))}),(0,h.jsx)(oa.W,{"body-text":s("authCommon:error.networkConnectionError"),visible:!!i,variant:"error",duration:"long","data-testid":"network-error-snackbar"})]})};function mP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mP(Object(n),!0).forEach((function(t){fP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gP=()=>{const{authenticationState:e,saveSignupState:t,saveAuthenticationState:n,signupState:i}=ra(),{navigate:a}=(0,_r.f)(),{challengeId:o,acr:c}=e,[l]=Pr(),[s]=yd(),[u,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null);lP("/signup/int",o);const f=async(t,r,i)=>{const{error:a}=await l(t);return a?(m(a),d(!1),n(hP(hP({},e),{},{challengeId:o,acr:c})),a):(n(hP(hP({},e),{},{acr:$i.SingleFactor,challengeId:null!=i?i:o,poa:t,userId:r})),null)};return(0,h.jsx)(pP,{onSubmit:async r=>{await(async()=>{const{poa:i,userId:l}=e;if(m(null),d(!0),i){if(c===$i.NoAuth)return await f(i,l)||a("/signup/int/identification"),void d(!1);a("/signup/int/identification")}const u=await(async r=>{let{poa:i,userId:a}=e;if(c===$i.NoAuth&&!i){const{data:l,error:u}=await s({challengeId:o,email:r.email,password:r.password});if(!l||u)return n(hP(hP({},e),{},{challengeId:o,acr:c,poa:i})),m(u),d(!1),u;const{subjectId:p,poa:h}=l;i=h,a=Uu(p);const g=await f(i,a);return t({email:r.email,password:r.password}),g}return null})(r);u?Ee.log(St(yt.Mercari,u,{location:"sign_up_email"})):(d(!1),a("/signup/int/identification"))})(),d(!1)},isSubmitting:u,validationError:p,isRegistrationContinuation:!!i.email})};function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(n),!0).forEach((function(t){yP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const jP=Qc.Ik({name:vs,ivCode:bs}),OP=e=>(0,$c.u)(jP,{errorMap:Kl(e,{defaults:{name:e("signup:validation.defaultFieldName.name")},overrideByValidationName:{notUseEmoji:{name:e("signup:validation.overrideFieldName.notUseEmoji.name")},notOnlySpace:{name:e("signup:validation.overrideFieldName.notOnlySpace.name")}}})}),wP=()=>{const{t:e}=(0,c.B)(["signup","authCommon"]),{signupState:{email:t,name:n,password:i="",method:a},saveSignupState:o}=(0,r.useContext)(na),{uuid:l}=Ae(),s=(0,Jc.mN)({resolver:OP(e),defaultValues:{name:null!=n?n:"",ivCode:""}}),{getFlag:u,isLoadingConfig:d}=pr(),{navigate:m}=(0,_r.f)(),[f,g]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[O,w]=(0,r.useState)(!1),[P,E]=Le("SIGNUP_EMAIL_START"),{getFingerprintRequestId:_,isLoading:S}=Fo(),{socureSessionToken:C,isLoading:k}=va(),N=u("webauth_recaptcha_migration_frontend"),{getToken:I}=qn();return Qs("sign_up_email_nickname",a),S||d||k?(0,h.jsx)(Fi,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(X,{"location-0":"sign_up_email",children:(0,h.jsx)(Jc.Op,bP(bP({},s),{},{children:(0,h.jsxs)("form",{onSubmit:s.handleSubmit((async(e,n)=>{null==n||n.preventDefault(),o({name:e.name,ivCode:e.ivCode}),w(!0),j(!1),b(!1);const r=async(n,r)=>{if(!n)return b(!0),void w(!1);const c=await _(),s={name:e.name,email:t,password:i,g_recaptcha_response:n,recaptcha_version:r,fpjs_request_id:c,socure_di_session_token:C,auth_uuid:l(),iv_code:e.ivCode,iv_cert:me.current.ivCert||""},{data:u,error:d}=await P(s);w(!1),d&&(Ee.log(St(a,d,{location:"sign_up_email_nickname"})),403!==d.status||f||g(!0)),u&&(o({name:e.name,email:t,ivCode:e.ivCode,registerId:u.id}),m("/signup/identification"))};try{if(N){var c;let e;try{e=await I(Ln.SignUp,f)}catch(e){return void x.Cp(e)}r(null===(c=e)||void 0===c?void 0:c.token,f?12:13)}else ko("6Lf_LFAaAAAAAFVeAafRO4XcnPTS0yP_IPs2R_Gp",r,f)}catch(e){j(!0),w(!1)}}),(t=>{const n=Object.entries(t).map((t=>{let[n,r]=t;return"name"===n?(i=null==r?void 0:r.message,e("authValidation:required.input",{fieldName:e("signup:validation.defaultFieldName.name")})===i?"NameEmpty":"NameInvalid"):"error";var i}));Ee.log(kd(a,{location:"sign_up_email_nickname:body:next_button",errorDetails:n}))})),noValidate:!0,children:[(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(md,{className:"mer-spacing-b-16"}),(0,h.jsx)(hd,{"data-testid":"ivCode"})]}),E.error&&(0,h.jsx)(zl,{className:"mer-spacing-t-24",error:E.error}),!N&&(0,h.jsx)(No,{v3Failed:f}),N&&(0,h.jsx)(Io,{action:Ln.SignUp,v3Failed:f}),v&&(0,h.jsx)($s,{errorMessage:e("authCommon:error.captchaNotChecked")}),(0,h.jsx)(p.j,{fluid:!0,intent:"primary",loading:O,disabled:O,className:"mer-spacing-b-24 ".concat(E.error?"mer-spacing-t-16":"mer-spacing-t-24"),children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:O,children:e("signup:email.continueButton")})})]})}))}),(0,h.jsx)(oa.W,{"body-text":e("authCommon:error.networkConnectionError"),visible:y,variant:"error",duration:"long","data-testid":"network-error-snackbar"})]})};function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xP(Object(n),!0).forEach((function(t){EP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _P=()=>{var e;const{saveSignupState:t}=(0,r.useContext)(na),{t:n}=(0,c.B)(["signup"]),{signupState:{method:i}}=(0,r.useContext)(na),a=(0,s.zy)(),{navigate:o}=(0,_r.f)(),[l,u]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[y,j]=(()=>{const[e,t]=Ze("".concat(fe(),"/register_sms_confirmations/validate_email_and_password"),void 0,{withFlowSessionID:!0,withAccessToken:!0});return[t=>{const n=new FormData;return Object.entries(PP(PP({},t),{register_method:"mercari"})).forEach((e=>{let[t,r]=e;n.append(t,r)})),e(n)},t]})(),O=(j.error?Ot(j.error):[])[0];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(pP,{onSubmit:async(e,n)=>{f||(null==n||n.preventDefault(),g(!0),m(!1),u(!1),t({email:e.email,password:e.password}),await(async()=>{const{error:t}=await y(e);t?("AlreadyRegisteredEmailException"===t.errors[0].code&&b(!0),Ee.log(kd(i,{location:"sign_up_email:body:next_button",errorDetails:["PasswordInvalid"]}))):o("/signup/email".concat(a.search?"".concat(a.search,"&"):"?","step=2"),void 0,{persist:!1})})(),g(!1))},validationError:"AlreadyRegisteredEmailException"===(null===(e=j.error)||void 0===e?void 0:e.errors[0].code)?void 0:j.error,showMsgToCheckCaptcha:l,isSubmitting:f,hasCaptchaApiError:d}),(0,h.jsx)(Jr.d,{visible:v,titleLabel:n("signup:existingUser.title"),footer:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.j,{fluid:!0,onClick:()=>{g(!1),b(!1)},intent:"flat",children:(0,h.jsx)("button",{type:"button",children:n("signup:existingUser.cancel")})}),(0,h.jsx)(p.j,{fluid:!0,onClick:()=>b(!1),children:(0,h.jsx)(Ra,{to:"/signin",children:n("signup:existingUser.accept")})})]}),children:(0,h.jsx)("div",{children:O||n("signup:existingUser.description")})})]})},SP=()=>{const{signupState:{email:e,password:t}}=ra(),{navigate:n}=(0,_r.f)(),{search:i}=(0,s.zy)(),{urlSearchParams:{step:a}}=U(),o="2"===a,c=o?wP:_P;return(0,r.useEffect)((()=>{!o||e&&t||n("/signup/email".concat(i.replace("&step=2","")),void 0,{persist:!1})}),[e,o,n,t,i]),(0,h.jsx)(c,{})},CP=e=>{let{internationalAuth:t}=e;const n=t?gP:SP;return(0,h.jsxs)(fd,{children:[(0,h.jsx)(n,{}),!t&&(0,h.jsx)(Js,{})]})};function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kP(Object(n),!0).forEach((function(t){IP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const AP=Qc.Ik({verificationCode:Qc.Yj().max(6).refinement(...rs()).refinement(...$l())}),DP=()=>{const{signupState:{email:e,optIn:t},authenticationState:n,saveAuthenticationState:i}=ra(),{t:a}=(0,c.B)(["email","authCommon"]),[o,l]=(0,r.useState)(!1),{setCurrentState:s,setSentOtpCodeSnackbar:u}=mm(),d=zu(),{createOIDCSession:p}=Nr(),[m]=Er(),[f]=Pu(),[g]=Pd(),[v]=Ed(),[b,y]=(0,r.useState)(null),[j,O]=(0,r.useState)(null),{location:w}=Y(),x=Q(w),{userId:P,challengeId:E,issuanceId:_}=n;Qs("sign_up_email:int:email_verification_code",yt.Mercari);const S=(0,Jc.mN)({resolver:(0,$c.u)(AP,{errorMap:Kl(a,{defaults:{verificationCode:a("authValidation:onlyHalfWidthNumber")}})})});return(0,h.jsx)("div",{"data-testid":"verify-email-otp-screen",children:(0,h.jsxs)(X,{"location-2":"email_verification_code",children:[(0,h.jsx)("p",{children:a("email:verification.verify.sentCodeToEmail",{email:e})}),(0,h.jsx)(Jc.Op,NP(NP({},S),{},{children:(0,h.jsxs)("form",{onSubmit:S.handleSubmit((async e=>{let{emailVerified:r}=n;if(y(null),O(null),l(!0),!r&&_){const{error:t}=await v({verificationCode:e.verificationCode,challengeId:E,issuanceId:_});if(t)return y(t),l(!1),void Ee.log(St(yt.Mercari,t,{location:"".concat(x,":email_verification_code")}));r=!0}const{error:a,data:o}=await f({challengeId:E});if(a||null==o||!o.poa)return y(a),l(!1),Ee.log(St(yt.Mercari,a,{location:"".concat(x,":email_verification_code")})),void i(NP(NP({},n),{},{challengeId:E,emailVerified:r,issuanceId:_}));i(NP(NP({},n),{},{issuanceId:void 0,poa:o.poa})),await m(),await d({userId:P,method:yt.Mercari,optIn:t}),p(o.poa)})),children:[(0,h.jsx)(El,{label:a("email:verification.verify.verificationInputLabel"),name:"verificationCode",className:"mer-spacing-y-24",placeholder:a("email:verification.verify.placeholder")}),b&&(0,h.jsx)(zl,{error:b,className:"mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,disabled:o,loading:o,"location-3":"verify",children:(0,h.jsx)("button",{type:"submit",disabled:o,children:a("email:verification.verify.completeVerification")})})]})})),(0,h.jsx)(tc.I,{className:"mer-spacing-y-32"}),(0,h.jsx)(La._,{bold:!0,className:"mer-spacing-b-24",children:a("authCommon:didNotReceiveOtpCode")}),(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)("p",{className:"mer-spacing-b-8",children:a("email:verification.verify.resendCode.resendCodeOption")}),j&&(0,h.jsx)(zl,{error:j,className:"mer-spacing-y-16"}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary","data-testid":"submit-phone",disabled:o,loading:o,onClick:async()=>{O(null),l(!0);const{data:e,error:t}=await g({challengeId:E});if(t)return O(t),l(!1),void Ee.log(St(yt.Mercari,t,{location:"".concat(x,":email_verification_code")}));u(!0),i(NP(NP({},n),{},{issuanceId:null==e?void 0:e.issuanceId})),l(!1)},"location-3":"resend",children:(0,h.jsx)("button",{type:"button",disabled:o,children:a("email:verification.verify.resendCode.resendCodeButton")})})]}),(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)("p",{className:"mer-spacing-b-8",children:a("email:verification.verify.changeEmailOption")}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary",onClick:()=>s({state:"start",issuanceId:null}),"location-3":"edit_email",children:(0,h.jsx)(Ra,{to:"/signup/int/email/edit",children:a("email:verification.editEmail")})})]})]})})};function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zP(Object(n),!0).forEach((function(t){FP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const MP=e=>{let{visible:t,onClose:n,setError:i}=e;const{t:a}=(0,c.B)(["authCommon","email"]),{signupState:{email:o},authenticationState:l,saveAuthenticationState:s}=ra(),{setCurrentState:u,setSentOtpCodeSnackbar:d}=mm(),[p]=Pd(),[m,f]=(0,r.useState)(!1),{challengeId:g}=l,{location:v}=Y(),b=Q(v);return ep("".concat(b,":modal"),t),(0,h.jsx)(Jr.d,{titleLabel:o,visible:t,"data-testid":"start-otp-dialog",footer:(0,h.jsxs)(X,{"location-3":"modal",children:[(0,h.jsx)(Wt,{onClick:n,intent:"flat","location-4":"cancel",children:(0,h.jsx)("button",{type:"button",children:a("authCommon:serverError.close")})}),(0,h.jsx)(Wt,{intent:"secondary","location-4":"edit_email",children:(0,h.jsx)(Ra,{to:"/signup/int/email/edit",children:a("email:verification.editEmail")})}),(0,h.jsx)(Wt,{onClick:async()=>{f(!0);const{data:e,error:t}=await p({challengeId:g});if(t)return i(t),f(!1),void Ee.log(St(yt.Mercari,t,{location:b}));s(TP(TP({},l),{},{issuanceId:null==e?void 0:e.issuanceId})),d(!0),u({state:"otp",issuanceId:null})},loading:m,disabled:m,"location-4":"send_verification_button",children:(0,h.jsx)("button",{type:"button",disabled:m,children:a("email:verification.start.dialog.sendCode")})})]}),children:(0,h.jsx)("p",{children:a("email:verification.start.dialog.description")})})},LP=()=>{const{t:e}=(0,c.B)(["email"]),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(null);return Qs("sign_up_email:int:email_verification",yt.Mercari),(0,h.jsx)("div",{"data-testid":"verify-email-start-screen",children:(0,h.jsxs)(X,{"location-2":"email_verification",children:[(0,h.jsx)(La._,{className:"mer-spacing-b-8",children:e("email:verification.start.description")}),(0,h.jsx)(La._,{color:"secondary",type:"caption",className:"mer-spacing-b-24",children:e("email:verification.start.annotation")}),i&&(0,h.jsx)(zl,{error:i,className:"mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,onClick:()=>{a(null),n(!0)},"location-3":"start_button",children:(0,h.jsx)("button",{type:"button",children:e("email:verification.startVerification")})}),(0,h.jsx)(MP,{visible:t,onClose:()=>n(!1),setError:e=>{n(!1),a(e)}})]})})},RP=()=>{const{t:e,ready:t}=(0,c.B)(["email"]),{currentState:{state:n},sentOtpCodeSnackbar:i,setSentOtpCodeSnackbar:a}=mm(),{authenticationState:{challengeId:o}}=ra();return lP("/signup/int",o),(0,r.useEffect)((()=>{i&&Ee.log(Zd("sign_up_email:int:email_verification_code:code_sent"))}),[i]),t?(0,h.jsxs)(X,{"location-0":"sign_up_email",children:[(0,h.jsx)(cc,{titleLabel:e("email:verification.title")}),(0,h.jsx)(X,{"location-1":"int",children:"otp"===n?(0,h.jsx)(DP,{}):(0,h.jsx)(LP,{})}),(0,h.jsx)(oa.W,{"data-testid":"code-sent-snackbar","body-text":e("email:verification.start.dialog.codeSent"),visible:i,onClose:()=>a(!1)})]}):(0,h.jsx)(Fi,{})};function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VP(Object(n),!0).forEach((function(t){UP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const HP=Qc.Ik({email:ps}),KP=e=>(0,$c.u)(HP,{errorMap:Kl(e,{defaults:{email:e("signup:validation.defaultFieldName.email")}})}),qP=()=>{const{t:e}=(0,c.B)(["authCommon","email"]),[t]=jd(),[n,i]=(0,r.useState)(!1),{navigate:a}=(0,_r.f)(),{saveSignupState:o,signupState:{email:l},authenticationState:{challengeId:s}}=ra(),[u,d]=(0,r.useState)(null),p=(0,Jc.mN)({resolver:KP(e),defaultValues:{email:l}});return lP("/signup/int",s),Qs("sign_up_email:int:edit_email",yt.Mercari),(0,h.jsxs)(X,{"location-0":"sign_up_email","location-1":"int",children:[(0,h.jsx)(cc,{titleLabel:e("email:verification.edit.title")}),(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:e("email:verification.edit.description")}),(0,h.jsx)(X,{"location-2":"edit_email",children:(0,h.jsx)(Jc.Op,BP(BP({},p),{},{children:(0,h.jsxs)("form",{onSubmit:p.handleSubmit((async e=>{d(null),i(!0);const{error:n}=await t({challengeId:s,email:e.email});if(n)return d(n),i(!1),void Ee.log(St(yt.Mercari,n,{location:"sign_up_email:int:edit_email"}));o({email:e.email}),a("/signup/int/email/verify")})),children:[(0,h.jsx)(pd,{email:l,autocomplete:"email",className:"mer-spacing-b-24",hideHelpMessage:!0}),u&&(0,h.jsx)(zl,{error:u,className:"mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,loading:n,disabled:n,"location-3":"update",children:(0,h.jsx)("button",{type:"submit",disabled:n,children:e("authCommon:update")})})]})}))})]})},GP=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{urlSearchParams:{campaignSource:n}}=U();(0,r.useEffect)((()=>{t&&Ee.log(To(e,n?{trackingId:n}:void 0))}),[n,e,t])},WP=()=>{const{t:e}=(0,c.B)(["signup"]),{resetRegistrationStates:t}=ra(),{urlSearchParams:n}=U(),[r]=fi();return GP("sign_up:int:home"),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Xt,{service:"email",fluid:!0,linkElement:(0,h.jsx)(Ra,{to:"/verify",search:"?".concat(I(n))}),"location-2":"email_button",onClick:()=>{t()},children:e("signup:home.emailButton")}),(0,h.jsx)(Js,{className:"mer-spacing-t-24"}),r&&(0,h.jsx)(Vv.v,{type:"row",size:"default",className:"mer-spacing-t-16",variant:"display",title:(0,h.jsx)(La._,{children:e("signup:browserWarning.title")}),icon:(0,h.jsx)(Hj.M,{}),text:(0,h.jsx)(La._,{children:e("signup:browserWarning.message")})})]})},$P=()=>{const{t:e,i18n:{language:t}}=(0,c.B)("signup"),{navigate:n}=(0,_r.f)(),{saveSignupState:i}=(0,r.useContext)(na),[a,o]=(0,r.useState)(null),[l,s]=(0,r.useState)(!1),[u,d]=gi();(0,r.useEffect)((()=>{Ee.log(_t("sign_up_select"))}),[]),GP("sign_up:home");const p=()=>(s(!0),new Promise((e=>{setTimeout((()=>{e()}),100)}))),f=()=>{s(!1)};return d?(0,h.jsx)(Fi,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Xt,{service:"email",fluid:!0,className:"mer-spacing-b-16",linkElement:(0,h.jsx)(Ra,{to:"/signup/email"}),"data-testid":"email","location-2":"email_button",children:e("signup:home.emailButton")}),!u&&(0,h.jsx)(CO,{className:"mer-spacing-b-16",label:e("signup:home.signupWithAppleButton"),mode:Kr.SignUp,setErrorDialog:o,postAction:e=>{let{email:t,name:r}=e;i({email:t,name:r,method:yt.Apple}),n("/signup/social")},onPopUpOpened:p,onPopUpClosed:f}),(0,h.jsx)(NO,{label:e("signup:home.googleButton"),className:"mer-spacing-b-16",onNotFound:e=>{let{name:t,email:r,accessToken:a}=e;i({name:t,email:r,accessToken:a,method:yt.Google}),n("/signup/social")},onPopUpOpened:p,onPopUpClosed:f}),(0,h.jsx)(IO,{className:"mer-spacing-b-16",label:e("signup:home.signupWithLINEButton")}),(0,h.jsx)(kO,{label:e("signup:home.facebookButton"),className:"mer-spacing-b-16",onNotFound:e=>{let{name:t,email:r,accessToken:a}=e;i({name:t,email:r,accessToken:a,method:yt.Facebook}),n("/signup/social")},onPopUpOpened:p,onPopUpClosed:f}),(0,h.jsx)(La._,{type:"caption",color:"secondary",children:(0,h.jsx)(qc.x,{i18nKey:"signup:termsOfUseAndPrivacyPolicy",components:{tos:(0,h.jsx)(Mt,{href:m.t7.tosList(t)}),pp:(0,h.jsx)(Mt,{href:m.I1.privacy(t)})}})}),(0,h.jsx)(ni,{visible:!!a,onAccept:()=>{o(null)},title:null==a?void 0:a.title,content:null==a?void 0:a.content}),l&&(0,h.jsx)(Fi,{fullScreen:!0})]})};var YP;const JP="purchaseItemId",QP=j.Ay.div(YP||(YP=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  text-align: center;\n"]))),XP=e=>{const t=(0,he.Ri)(e);if(!t)return null;const n=JSON.parse(decodeURIComponent(t));return(0,he.UR)(e,{domain:(0,he.C4)(),path:"/",secure:!0}),n},ZP=e=>{let{internationalAuth:t}=e;const{t:n,ready:i,i18n:{language:a}}=(0,c.B)("signup"),{updateSearchQuery:o}=U(),{pathname:l}=(0,s.zy)(),{navigate:u}=(0,_r.f)(),d=t?WP:$P;return(0,r.useEffect)((()=>{const e=new URLSearchParams,t=(0,he.Ri)(he.ij.CAMPAIGN_SOURCE_COOKIE_KEY),n=(0,he.Ri)(he.OQ.SRSLTID),r=(0,he.Ri)(JP);try{if(t){const t=XP(he.ij.CAMPAIGN_SOURCE_COOKIE_KEY);e.append("campaignSource",t)}if(r){const t=XP(JP);if(e.append("itemId",t),(0,he.UR)(he.ij.REGISTERED_CAMPAIGN_SOURCE_COOKIE_KEY,{domain:(0,he.C4)(),path:"/",secure:!0}),n){const t=XP(he.OQ.SRSLTID);e.append("srsltid",t)}const r=o(e);return void u("/signup/purchase".concat(r?"?".concat(r):""),{replace:!0},{persist:!1})}if(0!==e.size){const t=o(e),n=(0,_r.j)(a,l);u("".concat(n).concat(t?"?".concat(t):""),{replace:!0},{persist:!1})}}catch(e){x.Cp(e)}}),[a,u,l,o]),!i||(0,he.Ri)(JP)?(0,h.jsx)(Fi,{}):(0,h.jsxs)(X,{"location-0":"sign_up_select",children:[(0,h.jsx)(cc,{titleLabel:n("signup:heading")}),(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(mc,{borderBottom:!0,children:(0,h.jsx)(d,{})}),(0,h.jsxs)(QP,{children:[(0,h.jsx)(La._,{className:"mer-spacing-b-16",children:n("signup:signinLinkDescription")}),(0,h.jsx)(Wt,{fluid:!0,intent:"secondary","location-2":"sign_in",children:(0,h.jsx)(Ra,{to:t?"/signin/int":"/signin","data-testid":"signin",children:n("signup:signinLink")})})]})]})]})};function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(n),!0).forEach((function(t){nE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rE={birthday:"",firstName:"",familyName:""},iE=Qc.Ik({familyName:us,firstName:us,birthday:ds}),aE=()=>{const{t:e}=(0,c.B)("signup"),{navigate:t}=(0,_r.f)(),[n,i]=(0,r.useState)(!1),[a]=up(),[o]=sp(),{authenticationState:l,saveAuthenticationState:s,signupState:u}=ra(),{languagePreference:d}=u,{userId:p,kycStatus:m}=l,{signupState:{countryCode:f}}=ra(),[g,v]=mp(p,f),[b,y]=(0,r.useState)(null),j="simple_kyc"===m,{location:O}=Y(),w=(0,Jc.mN)({resolver:(0,$c.u)(iE,{errorMap:Kl(e,ys(e))}),defaultValues:async()=>{const{data:e,error:t}=await o();if(null==e||!e.family_name||null==e||!e.first_name||t)return u.ageVerification?tE(tE({},rE),{},{birthday:u.ageVerification.birthday}):rE;const{birthday:n,first_name:r,family_name:i}=e;return s(tE(tE({},l),{},{kycStatus:"simple_kyc"})),{birthday:n,firstName:r,familyName:i}}}),{handleSubmit:x}=w;return(0,h.jsx)(Jc.Op,tE(tE({},w),{},{children:(0,h.jsxs)("form",{onSubmit:x((async e=>{if(y(null),i(!0),d&&(await g((0,ve.HJ)(d)),v.error))return y(v.error),i(!1),void Ee.log(St(yt.Mercari,v.error,{location:Q(O)}));if("pending"===m){const{error:t}=await a({family_name_kanji:e.familyName,first_name_kanji:e.firstName,birthday:e.birthday});if(t)return y(t),i(!1),void Ee.log(St(yt.Mercari,t,{location:Q(O)}));s(tE(tE({},l),{},{kycStatus:"simple_kyc"}))}t("/signup/int/email/verify")})),noValidate:!0,children:[(0,h.jsx)(La._,{element:"p",className:"mer-spacing-y-12",children:e("signup:identification.internationalDescription")}),(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(El,{name:"firstName",label:e("signup:identification.firstName"),placeholder:e("signup:identification.placeholder.firstNameInternational"),className:"mer-spacing-b-24",autoComplete:"given-name",disableUIOnly:j,required:!0}),(0,h.jsx)(El,{name:"familyName",label:e("signup:identification.familyName"),placeholder:e("signup:identification.placeholder.familyNameInternational"),className:"mer-spacing-b-24",autoComplete:"family-name",disableUIOnly:j,required:!0}),!u.ageVerification&&(0,h.jsx)(Cl,{disableUIOnly:j})]}),b&&(0,h.jsx)(zl,{error:b,className:"mer-spacing-t-24 mer-spacing-b-16"}),(0,h.jsx)(Wt,{fluid:!0,intent:"primary",className:b?"mer-spacing-b-24":"mer-spacing-y-24",loading:n,disabled:n,"location-1":"next_button",children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",disabled:n,children:e("signup:identification.continueButton")})})]})}))};function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oE(Object(n),!0).forEach((function(t){lE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sE=e=>/[\u3000-\u301C\u30A1-\u30F6\u30FB-\u30FE]/m.test(e),uE=e=>/((?:[\u3005\u3007\u303B\u3400-\u9FFF\uF900-\uFAFF]|[\uD840-\uD87F][\uDC00-\uDFFF])(?:[\uFE00-\uFE02]|\uDB40[\uDD00-\uDDEF])?)/m.test(e),dE=e=>e.replace(/[\u3041-\u3096]/g,(e=>String.fromCharCode(e.charCodeAt(0)+96))),pE=(e,t)=>Object.keys(t).reduce(((t,n)=>n.includes(e)?n:t),""),mE=(e,t,n)=>{const[i,a]=(0,r.useState)({}),[o,c]=(0,r.useState)(!1),[l,s]=(0,r.useState)(!1),u=(0,r.useCallback)((r=>{if(o&&!l)return;null==n||n(r);const c=r.target.value,u=e(),d=dE(c),p=((e,t)=>uE(Object.keys(t).reduce(((e,t)=>e.replace(t,"")),e)))(d,i),m=p?((e,t,n)=>{if(!e)return{};const r=((e,t)=>Array.from(e).reduce(((e,n)=>{const r=e.length,i=e[r-1],a=pE(i,t),o=pE(n,t);return o?a===o?[...e.slice(0,r-1),i+n]:[...e,n]:uE(i)&&uE(n)&&!t[i]&&!t[n]||sE(i)&&sE(n)?[...e.slice(0,r-1),i+n,...e.slice(r)]:[...e,n]}),[]))(e,n),i=((e,t,n)=>e.reduce(((r,i,a)=>n[i]?[...r,n[i]]:t.replace(r.join(""),"").startsWith(i)?[...r,i]:(r[a-1]||"").includes(i)?[...r.slice(0,a-1),r[a-1].split(i)[0],i]:n[e[a+1]]?[...r,t.replace(r.join(""),"").split(n[e[a+1]])[0]]:[...r,t.replace(r.join(""),"")]),[]))(r,t,n);return r.reduce(((e,t,n)=>cE(cE({},e),uE(t)?{[t]:i[n]}:null)),{})})(d,u,i):c?i:{},h=(f=((e,t)=>Object.entries(t).reduce(((e,t)=>{let[n,r]=t;return e.replace(new RegExp(n,"g"),r)}),e))(d,m),Array.from(f).filter(sE).join(""));var f;a(m),t(h),s(!1)}),[i,e,t,o,l,s,n]);return{onChange:u,onCompositionStart:()=>{s(!0),c(!0)},onCompositionUpdate:()=>{s(!0)},onCompositionEnd:()=>{s(!1),c(!1)}}},hE=["isApiError"];var fE,gE,vE,bE,yE;function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jE(Object(n),!0).forEach((function(t){wE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xE(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const PE=j.Ay.div(fE||(fE=xE(["\n  margin-bottom: 16px;\n"]))),EE=(0,j.Ay)((e=>{let{isApiError:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,hE);return(0,h.jsx)(PE,OE({},n))}))(gE||(gE=xE(["\n  ","\n"])),(e=>e.isApiError&&(0,j.AH)(vE||(vE=xE(["\n      margin: 16px 0 24px;\n    "]))))),_E=(0,j.Ay)(zl)(bE||(bE=xE(["\n  margin: 24px 0 0;\n"]))),SE=j.Ay.div(yE||(yE=xE(["\n  margin: 24px 0;\n\n  mer-guide-link {\n    padding: 0;\n  }\n"]))),CE=Qc.Ik({familyName:us,firstName:us,familyNameKana:us,firstNameKana:us,birthday:ds,gender:hs}),kE=()=>{const{t:e,i18n:{language:t}}=(0,c.B)("signup"),{signupState:{firstName:n,familyName:i,firstNameKana:a,familyNameKana:o,registerId:l,birthday:s,method:u},saveSignupState:d}=(0,r.useContext)(na),f=(0,Jc.mN)({resolver:(0,$c.u)(CE,{errorMap:Kl(e,ys(e))}),defaultValues:{familyName:i,firstName:n,familyNameKana:o,firstNameKana:a,birthday:s}}),{navigate:g}=(0,_r.f)(),{onFirstChange:v}=xs((async()=>{Ee.log(_s(u,{location:"sign_up_identification:body:first_name_input"}))}),n),{onFirstChange:b}=xs((async()=>{Ee.log(_s(u,{location:"sign_up_identification:body:last_name_input"}))}),i),{onFirstChange:y,onSetValue:j}=xs((async()=>{Ee.log(_s(u,{location:"sign_up_identification:body:first_name_kana_input"}))}),a),{onFirstChange:O,onSetValue:w}=xs((async()=>{Ee.log(_s(u,{location:"sign_up_identification:body:last_name_kana_input"}))}),o),x=mE((()=>f.getValues("familyNameKana")),(e=>{w(e),f.setValue("familyNameKana",e),f.clearErrors("familyNameKana")}),b),P=mE((()=>f.getValues("firstNameKana")),(e=>{j(e),f.setValue("firstNameKana",e),f.clearErrors("firstNameKana")}),v),[E,_]=Ze("".concat(fe(),"/register_sms_confirmations/set_personal_info"),void 0,{withFlowSessionID:!0,withAccessToken:!0});return(0,h.jsx)(Jc.Op,OE(OE({},f),{},{children:(0,h.jsxs)("form",{onSubmit:f.handleSubmit((async(e,t)=>{null==t||t.preventDefault();const n=new FormData;n.append("id",String(l)),n.append("family_name_kanji",e.familyName),n.append("first_name_kanji",e.firstName),n.append("family_name_kana",e.familyNameKana),n.append("first_name_kana",e.firstNameKana),n.append("birthday",e.birthday);const r=await E(n);r.data&&(d(e),g("/signup/phone")),r.error&&Ee.log(St(u,r.error,{location:"sign_up_identification"}))})),noValidate:!0,children:[(0,h.jsx)(La._,{element:"p",className:"mer-spacing-y-12",children:e("signup:identification.description")}),(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(El,OE({name:"familyName",label:e("signup:identification.familyName")+e("signup:identification.fullWidth"),placeholder:e("signup:identification.placeholder.familyName"),className:"mer-spacing-b-24",autoComplete:"family-name"},x)),(0,h.jsx)(El,OE({name:"firstName",label:e("signup:identification.firstName")+e("signup:identification.fullWidth"),placeholder:e("signup:identification.placeholder.firstName"),className:"mer-spacing-b-24",autoComplete:"given-name"},P)),(0,h.jsx)(El,{name:"familyNameKana",label:e("signup:identification.familyNameKana")+e("signup:identification.fullWidth"),placeholder:e("signup:identification.placeholder.familyNameKana"),className:"mer-spacing-b-24",onChange:O}),(0,h.jsx)(El,{name:"firstNameKana",label:e("signup:identification.firstNameKana")+e("signup:identification.fullWidth"),placeholder:e("signup:identification.placeholder.firstNameKana"),className:"mer-spacing-b-24",onChange:y}),(0,h.jsx)(Cl,{className:"mer-spacing-b-24"}),(0,h.jsx)(ul,{})]}),(0,h.jsx)(SE,{children:(0,h.jsx)(Xp.l,{children:(0,h.jsx)(Mt,{href:m.t7.aboutRegisteringPersonalInfo(t),children:e("signup:identification.identificationUsageLink")})})}),_.error&&(0,h.jsx)(_E,{error:_.error}),(0,h.jsx)(EE,{isApiError:!!_.error,children:(0,h.jsx)(p.j,{fluid:!0,intent:"primary",children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",children:e("signup:identification.continueButton")})})})]})}))},NE=e=>{let{internationalAuth:t}=e;const{t:n}=(0,c.B)("signup"),{signupState:{registerId:i,method:a},authenticationState:{challengeId:o}}=ra(),{navigate:l}=(0,_r.f)(),s=t?aE:kE;return(0,r.useEffect)((()=>{!t||o?t||i||l("/signup"):l("/signup/int")}),[o,t,l,i]),Qs("sign_up_identification",a),!t&&!i||t&&!o?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:n("signup:identification.heading")}),(0,h.jsx)(X,{"location-0":"sign_up_identification",children:(0,h.jsx)(s,{})})]})};let IE=function(e){return e[e.ITEM=0]="ITEM",e[e.MESSAGE=1]="MESSAGE",e[e.COMMENT=2]="COMMENT",e[e.SUSPECTED_SCALPING=3]="SUSPECTED_SCALPING",e[e.NONE_RULETYPE=4]="NONE_RULETYPE",e}({});const AE={baseURL:"".concat(fe())},DE={isLoading:!1,isTrustAlert:!1},zE=(0,r.createContext)(DE),TE=()=>(0,r.useContext)(zE),FE=e=>{let{children:t,itemData:n}=e;const i=(e=>{var t;const[n,i]=Ze("/services/item_watch/v1/ValidateItem",AE);return(0,r.useEffect)((()=>{n((e=>{let{id:t,name:n,description:r,price:i,seller:{id:a},item_brand:o,item_condition:c,shipping_method:{id:l},item_category_ntiers:s,item_category:u}=e;const d=(null!=s?s:u).id.toString(),p=null==c?void 0:c.name,m=null==o?void 0:o.id;return{item_id:t,title:n,content:r,price:i,seller_id:a.toString(),item_category_id:d,item_brand_id:null==m?void 0:m.toString(),item_condition:p,shipping_method_id:l.toString(),rule_type:IE.SUSPECTED_SCALPING}})(e))}),[e,n]),{isLoading:i.loading||!i.data,isTrustAlert:i&&"NONE"!==(null===(t=i.data)||void 0===t?void 0:t.actionTaken)}})(n);return(0,h.jsx)(zE.Provider,{value:i,children:t})};function ME(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ME(Object(n),!0).forEach((function(t){RE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let VE=function(e){return e.OnSale="on_sale",e.Stop="stop",e.Trading="trading",e.SoldOut="sold_out",e.AdminCancel="admin_cancel",e.Cancel="cancel",e}({}),BE=function(e){return e.SELLER="seller",e.BUYER="buyer",e}({}),UE=function(e){return e.CREDIT="credit",e.DISCOUNT="discount",e}({});const HE=e=>tt("/items/get",LE(LE({},e),{},{baseURL:"".concat(fe())})),KE=()=>{const{urlSearchParams:{acr_values:e}}=U();return{isAllowed:e===$i.SingleFactor}},qE=["optIn","method","registerId","name"];function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GE(Object(n),!0).forEach((function(t){$E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const YE="guestCheckoutUserInfo",JE={familyName:"",firstName:"",familyNameKana:"",firstNameKana:"",birthday:"",phoneNumber:"",email:"",password:"",ivCode:"",shippingNameType:"same",shippingFamilyName:"",shippingFirstName:"",shippingFamilyNameKana:"",shippingFirstNameKana:"",shippingPostalCode:"",shippingPrefecture:"",shippingCity:"",shippingStreet:"",shippingBuilding:"",shippingPhoneNumber:"",phoneNumberCheckbox:!1},QE=WE(WE({},JE),{},{shippingNameType:"different",paymentDescriptor:"",amazonCheckoutSessionId:""}),XE=Qc.Yj().max(15).refinement(...$l()).refinement(...Ql()).refinement(...Yl()).refinement(...Zl()),ZE=Qc.Yj().max(35).refinement(...$l()).refinement(...Ql()).refinement(...Yl()).refinement(...Zl());const e_=e=>{const t=ys(e),n=(e=>({defaults:{shippingFamilyName:e("signup-purchase:registerShippingAddress.label.familyName"),shippingFirstName:e("signup-purchase:registerShippingAddress.label.firstName"),shippingFamilyNameKana:e("signup-purchase:registerShippingAddress.label.familyNameKana"),shippingFirstNameKana:e("signup-purchase:registerShippingAddress.label.firstNameKana"),shippingPostalCode:e("signup-purchase:registerShippingAddress.label.postalCode"),shippingPrefecture:e("signup-purchase:registerShippingAddress.label.prefecture"),shippingCity:e("signup-purchase:registerShippingAddress.label.city"),shippingStreet:e("signup-purchase:registerShippingAddress.label.street"),shippingBuilding:e("signup-purchase:registerShippingAddress.label.building"),shippingPhoneNumber:e("signup-purchase:registerShippingAddress.label.phoneNumber")},overrideByValidationName:{}}))(e),r=(e=>({defaults:{email:e("signup:validation.defaultFieldName.email"),password:e("signup:validation.defaultFieldName.password")},overrideByValidationName:{}}))(e),i=Os(e);return{defaults:WE(WE(WE(WE({},t.defaults),n.defaults),r.defaults),i.defaults),overrideByValidationName:WE(WE(WE(WE({},t.overrideByValidationName),n.overrideByValidationName),r.overrideByValidationName),i.overrideByValidationName)}},t_=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const n=function(e){const{t}=(0,c.B)(["signup-purchase","authValidation"]),{isAllowed:n}=KE(),[r]=Tl(),i=WE({familyName:us,firstName:us,familyNameKana:us,firstNameKana:us,birthday:ds,phoneNumber:gs,email:ps,password:ms,gender:hs,ivCode:bs,phoneNumberCheckbox:Qc.zM().optional(),shippingNameType:Qc.Yj().refinement(...$l()),shippingFamilyName:XE,shippingFirstName:XE,shippingFamilyNameKana:ZE,shippingFirstNameKana:ZE,shippingPostalCode:Qc.Yj().refinement(...$l()).refinement(...rs()).refine((e=>7===e.length),{message:t("authValidation:length",{length:7})}),shippingPrefecture:Qc.Yj().refinement(...$l()),shippingCity:Qc.Yj().refinement(...$l()),shippingStreet:Qc.Yj().refinement(...$l()).refinement((e=>Wl.test(e)),{code:Qc.eq.custom,params:{validationName:"containNumber",getI18nMessage:(e,t)=>e("authValidation:containNumber",t)}}),shippingBuilding:Qc.Yj(),shippingPhoneNumber:fs()},e?{paymentDescriptor:Qc.Yj().refinement(...$l()),amazonCheckoutSessionId:Qc.Yj().refinement(...$l())}:{shippingNameType:Qc.Yj().refinement(...$l())});return Qc.Ik(i).refinement(...(a=n,[e=>a&&!e.phoneNumberCheckbox||""!==e.phoneNumber,{path:["phoneNumber"],code:Qc.eq.custom,params:{validationName:"required",getI18nMessage:(e,t)=>e("authValidation:required.input",t)}}])).refine(...ls(r));var a}(e),{t:r}=(0,c.B)(["signup-purchase","authValidation","signup"]),i=ra(),{signupState:{optIn:a,method:o,registerId:l,name:s},shippingAddress:u}=i,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i.signupState,qE),p=(0,$c.u)(n,{errorMap:Kl(r,e_(r))});return(0,Jc.mN)({defaultValues:WE(WE(WE(WE({},e?QE:JE),d),null!=u?u:{}),t),resolver:p,mode:"onBlur",reValidateMode:"onBlur",shouldUnregister:!1,shouldFocusError:!0})},n_={baseURL:fe()},r_={withDPoP:!0,encodeToFormData:!0,withAccessToken:!1},i_=()=>{const[e,{data:{areas:t=[]}={}}]=(()=>{const{i18n:{language:e}}=(0,c.B)(),t=(0,r.useMemo)((()=>({headers:{"Accept-Language":e}})),[e]);return tt("".concat(fe(),"/services/master/v1/shippingFromAreas"),t)})();return(0,r.useEffect)((()=>{(async()=>{const t=await e({});if(t.error)throw t.error})()}),[e]),t.slice(0,-1)},a_=e=>{let{shippingFirstName:t,shippingFamilyName:n,shippingFirstNameKana:r,shippingFamilyNameKana:i,shippingStreet:a,shippingBuilding:o,shippingPrefecture:c,shippingCity:l,shippingPhoneNumber:s,shippingPostalCode:u,shippingNameType:d}=e;return{shippingFirstName:t,shippingFamilyName:n,shippingFirstNameKana:r,shippingFamilyNameKana:i,shippingStreet:a,shippingBuilding:o,shippingPrefecture:c,shippingCity:l,shippingPhoneNumber:s,shippingPostalCode:u,shippingNameType:d}},o_=e=>{const[t,n]=(e=>{const t=e.match(/(\d{3})-?(\d{4})/);return t?[t[1]||"",t[2]||""]:["",""]})(e.shippingPostalCode),r=new FormData;return r.append("first_name",e.shippingFirstName),r.append("family_name",e.shippingFamilyName),r.append("first_name_kana",e.shippingFirstNameKana),r.append("family_name_kana",e.shippingFamilyNameKana),r.append("address1",e.shippingStreet),r.append("address2",e.shippingBuilding||""),r.append("prefecture",e.shippingPrefecture),r.append("city",e.shippingCity),r.append("telephone",e.shippingPhoneNumber),r.append("zip_code1",t),r.append("zip_code2",n),r.append("is_default","false"),r.append("is_trading","false"),r},c_=()=>{const e=Jn(YE);return(null==e?void 0:e.uuid)===$n()?e.value:void 0},l_=(e,t)=>{const n=Number(e),r=n<0?"-":"",i=(e=>{if(Number.isNaN(e))return"";let t=e.toString();for(;t!=(t=t.replace(/^(-?\d+)(\d{3})/,"$1,$2")););return t})(Math.abs(n));return"".concat(r).concat(t).concat(i)},s_=function(){const e={"":0,:0,:1,:2,:3,:4,:5,:6,:7,:8,:9},t={:10,:100,:1e3},n={:1e4,:1e8},r=new RegExp(`[${Object.keys(e).join("")}]`,"g"),i=new RegExp(`[${Object.keys(t).concat(Object.keys(n)).join("")}]`);return function(a){if(i.test(a)){const r=Array.prototype.reduce.call(a,((r,i)=>{let a;return(a=e[i])?r.prime=a:(a=t[i])?(r.subtotal+=(r.prime||1)*a,r.prime=0):(a=n[i])&&(r.total+=(r.subtotal+r.prime)*a,r.subtotal=r.prime=0),r}),{total:0,subtotal:0,prime:0});return`${r.total+r.subtotal+r.prime}`}return a.replace(r,(t=>e[t]))}}();function u_(e){let t=!0;for(const n in e){const r=e[n];"string"==typeof r?e[n]=r.trim():Array.isArray(r)&&(e[n]=r.map((e=>e.trim())).join("")),"streetNumber"===n&&(e[n]=e[n].replace(/[]+/g,(e=>s_(e))).replace(/[-]/g,(e=>String.fromCharCode(e.charCodeAt(0)-65248))).replace(/[]?||?||||-||||||||/g,"-").replace(/-$/,"")),"building"==n||e[n]||(t=!1)}return e.success=t,e}const d_=function(e,t,n){this._addressLine1=e,this._addressLine2=t,this._addressLine3=n};d_.prototype.divide=function(e){const t=this,n=function(e){return e.replace(/(||||||||||||||||||||||||||||||||||||||||||||||)/,"")}(t._addressLine1),r=t._addressLine2||"",i=t._addressLine3||"";try{const t=function(){const e="[0-9-]{1,4}([-]|[]?)",t=/[0-9-]+([]|)/,n="?(([0-9-]+|[ABC])([]?||?||||-||||||||)){1,3}[]?(([0-9-]+|[]+)|(||||?|-||||||||){1,2})*",r=`${e}([0-9-]{0,4}?[0-9-]{0,4}?([-][0-9-]{1,4}){0,2}|([0-9-]{1,4}[-]){0,2}[0-9-]{1,4}?)`,i="[0-9-]+";function c(e,t,n){const c=function(e){const t=o(`${r}$`,e);if(t.match)return t;const n=o(`${i}$`,e),a=-1===n.left.search(i);return n.match&&a?n:{match:""}}(e);if(!c.match)return null;const l=a(c.left);return{city:l.city,town:l.townArea,streetNumber:c.match,building:[t,n]}}function l(t,r,i){const c=s(r),l=(u=c.match?c.left:r,o(`^${n}`,u));var u;if(!l.match)return null;const d=a(t),p=function(t){return o(e,t)}(d.townArea.trim());return{city:d.city,town:p.match?p.left:d.townArea,streetNumber:[p.match,l.match],building:[l.right,c.match,c.right,i]}}function s(e){return o(t,e)}return{divideIfSpecialCases:(e,t,n)=>c(e,t,n)||l(e,t,n),divide(e){const t=[n,r,i],a=s(e),c=a.match?a.left:e;for(let e=0;e<t.length;e++){const n=o(t[e],c);if(n.match)return{town:n.left,streetNumber:n.match,building:n.right.concat(a.match).concat(a.right)}}if(a.match){const t=e.indexOf(a.match);return{town:e.slice(0,t),streetNumber:"",building:a.match.concat(a.right)}}return{town:e,streetNumber:"",building:""}}}}(),c=t.divideIfSpecialCases(n,r,i);if(c)return void e(u_(c));const l=a(n),s=function(e){const t=[//,/(||[]|[])/,/[][]+/,/[][]?/,/[-0-9][]/,/[-0-9][][^-0-9 ]+/,/[^-0-9]+/,/[-0-9][]?/];for(let n=0;n<t.length;n++){const r=o(t[n],e);if(r.match)return{town:r.left.concat(r.match),streetNumberArea:r.right}}return{town:"",streetNumberArea:e}}(l.townArea.concat(r));let u=t.divide(s.streetNumberArea),d=[u.building,i];u.streetNumber||(u=t.divide(s.streetNumberArea+i),d=[u.building]),e(u_({city:l.city,town:s.town||u.town,streetNumber:s.town?[u.town,u.streetNumber]:u.streetNumber,building:d}))}catch(t){e(u_({city:n,town:"",streetNumber:r,building:i}))}function a(e){const t=o(/(|||||||||||||||||||||||||||||||||||||||||||||)||||.+?.+?|.+?.+?[]|.+?[]/,e);if(!t.match)throw new Error(`${e} does not include city.`);return{city:t.match,townArea:t.right}}function o(e,t){const n=t.match(e);if(!n)return a();const r=n[0],i=t.indexOf(r);return a(t.slice(0,i),r,t.slice(i+r.length));function a(e,t,n){return{left:e||"",match:t||"",right:n||""}}}};const p_=function(e,t){this._lastName=e,this._firstName=t,this._initialUserName=e.slice(0,1)};p_.prototype.divide=function(e){const t=this;try{n=function(e,n){!function(e,n,a){i("https://d3e3b7ii96fk5l.cloudfront.net/amazonpay-divider/lastNames.csv",(e=>{!function(e){const n=function(e,t){const n="\n",r=e.indexOf(n)+1,i=e.lastIndexOf(n)-r,a=e.substr(r,i);if(!a)throw new Error("lastNamesText does not found.");return a.split(n).reduce(((e,t,n)=>{const r=t.split(",");return e[n]={kanji:r[0],pronunciation:r[1]},e}),[]).reduce(((e,n)=>t.startsWith(n.kanji)&&n.kanji.length>=e.kanji.length?n:e),{kanji:"",pronunciation:""})}(e,t._lastName);if(n.kanji)return t._firstName&&n.kanji!=t._lastName?void r(t._lastName,"",t._firstName):(t._firstName=t._firstName||t._lastName.replace(n.kanji,""),void r(n.kanji,n.pronunciation,t._firstName));if(!t._firstName)throw new Error("lastName does not exist in the lastNames.");r(t._lastName,"",t._firstName)}(e)}),{headers:{Range:`bytes=${e}-${n}`}})}(e,n)},i("https://d3e3b7ii96fk5l.cloudfront.net/amazonpay-divider/InitialIndex.csv",(e=>{const r=e.split("\n").find((e=>e.split(",")[0]==t._initialUserName));if(!r)throw new Error("InitialLastName does not found.");const i=Number(r.split(",")[1]),a=i-96;n(a>=0?a:0,i+35200)}))}catch(e){r(t._lastName,"",t._firstName)}var n;function r(t,n,r){e({lastName:t,lastNamePronunciation:n,firstName:r})}function i(e,n,i){const a=i?new Request(e,i):new Request(e);window.fetch(a).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.text()})).then((e=>{n(e)})).catch((e=>{r(t._lastName,"",t._firstName)}))}};const m_={divideAddress(e,t){new d_(e.addressLine1,e.addressLine2,e.addressLine3).divide(t)},divideName(e,t){const n=e.trim().replace(/\u3000+/g," ").replace(/\x20+/g," ").split(" "),r=n.shift(),i=n.join(" ");new p_(r,i).divide(t)}},h_=["optIn","method","registerId","name"];function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f_(Object(n),!0).forEach((function(t){v_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b_="rawAmazonAddress";function y_(e){return new Promise((t=>{m_.divideName(e,t)}))}function j_(e){let{lastName:t,lastNamePronunciation:n,firstName:r}=e;const i=dE(null!=n?n:"");return t.match(/[a-zA-Z]/)?{familyName:r,familyNameKana:"",firstName:t,firstNameKana:i}:{familyName:t,familyNameKana:i,firstName:r,firstNameKana:""}}const O_=["shipping_country_code","shipping_postal_code","shipping_state_or_region","shipping_address_line1","shipping_address_line2","shipping_address_line3","shipping_name","shipping_phone_number"],w_=()=>{var e;const[t,n]=(0,r.useState)(),{navigate:i}=(0,_r.f)(),a=ra(),{signupState:{optIn:o,method:s,registerId:u,name:d},shippingAddress:p}=a,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(a.signupState,h_),{t:h,ready:f}=(0,c.B)("signup-purchase"),[g,v]=Ze("/amazon_pay/get_address",n_,r_),b=i_(),[y,j]=(0,l.ok)();return(0,r.useEffect)((()=>{t||async function(e,t,r,i){const a=g_(g_(g_(g_({},JE),m),null!=p?p:{}),c_()),o=null!==(e=null!==(t=y.get("t"))&&void 0!==t?t:a.amazonToken)&&void 0!==e?e:"",c=null!==(r=null!==(i=y.get("amazonCheckoutSessionId"))&&void 0!==i?i:a.amazonCheckoutSessionId)&&void 0!==r?r:"",l=(e=>{const t=Jn(b_);return(null==t?void 0:t.checkoutSessionId)===e?null==t?void 0:t.value:void 0})(c),s=await g({amazon_checkout_session_id:c,token:o});if(!s.data||s.data.email_already_registered)return;const u=s.data,d=a.amazonCheckoutSessionId!==c,h=(e=>JSON.stringify(e,O_))(u),f=l!==h;n(g_(g_(g_({},a),{},{shippingNameType:"different",paymentDescriptor:u.payment_descriptor,amazonCheckoutSessionId:c,amazonToken:o},d?await async function(e){var t;return g_(g_({},j_(await y_(e.amazon_account_name))),{},{phoneNumber:null===(t=e.billing_phone_number)||void 0===t?void 0:t.replace(/-/g,""),email:e.amazon_mail_address})}(u):{}),f?await async function(e){var t,n;const r=j_(await y_(e.shipping_name)),i=await(a={addressLine1:e.shipping_address_line1,addressLine2:e.shipping_address_line2,addressLine3:e.shipping_address_line3},new Promise((e=>{m_.divideAddress(a,e)})));var a;return{shippingFamilyName:r.familyName,shippingFirstName:r.firstName,shippingFamilyNameKana:r.familyNameKana,shippingFirstNameKana:r.firstNameKana,shippingPostalCode:null===(t=e.shipping_postal_code)||void 0===t?void 0:t.replace(/-/g,""),shippingPrefecture:e.billing_state_or_region,shippingCity:i.city,shippingStreet:i.town+i.streetNumber,shippingBuilding:i.building,shippingPhoneNumber:null===(n=e.shipping_phone_number)||void 0===n?void 0:n.replace(/-/g,"")}}(u):{})),Yn(b_,{checkoutSessionId:c,value:h}),Qn(YE),j((e=>(e.delete("t"),e.delete("amazonCheckoutSessionId"),e)),{replace:!0})}()}),[g,t,y,j]),(0,r.useEffect)((()=>{b.length&&t&&t.shippingPrefecture&&(b.find((e=>e.name===t.shippingPrefecture))||n(g_(g_({},t),{},{shippingPrefecture:""})))}),[b,t]),(0,r.useEffect)((()=>{v.error&&f&&i("/signup/purchase",{replace:!0,state:mw({bodyText:h("signup-purchase:amazonPay.genericError")})})}),[f,v.error,i,h]),(0,r.useEffect)((()=>{var e;null!==(e=v.data)&&void 0!==e&&e.email_already_registered&&f&&(y.delete("t"),y.delete("amazonCheckoutSessionId"),y.delete("itemId"),i("/signin?".concat(y.toString()),{replace:!0,state:mw({variant:"error",bodyText:h("signup-purchase:amazonPay.alreadyRegistered")})},{persist:!1}))}),[f,null===(e=v.data)||void 0===e?void 0:e.email_already_registered,i,h,y]),t};var x_,P_,E_;function __(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?__(Object(n),!0).forEach((function(t){C_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const N_=j.Ay.div(x_||(x_=k_(["\n  border-radius: ",";\n  background: var(--alias-color-background-secondary-default);\n  padding: "," ",";\n  "," {\n    padding: "," ",";\n  }\n"])),Ka.i.radius.medium,Ka.i.spacing[32],Ka.i.spacing[16],Z.$_["<large"],Ka.i.spacing[24],Ka.i.spacing[16]),I_=j.Ay.div(P_||(P_=k_(["\n  max-width: 408px;\n  margin: 0 auto;\n"]))),A_=j.Ay.div(E_||(E_=k_(["\n  margin-bottom: ",";\n  "," {\n    margin-bottom: ",";\n  }\n"])),Ka.i.spacing[24],Z.$_["<large"],Ka.i.spacing[16]),D_={ledgerCurrency:"JPY",checkoutLanguage:"ja_JP",productType:"PayAndShip",placement:"Cart",buttonColor:"Gold",sandbox:!(0,P.K)(),design:"C0001"},z_=(0,r.memo)((e=>{let{payload:t,price:n}=e;const{t:i}=(0,c.B)("signup-purchase"),a=(0,r.useRef)(null),o=(0,r.useRef)(),{location:s}=Y(),u=Q(s);ep(u);const[d]=(0,l.ok)();return(0,r.useEffect)((()=>{if(!a.current||!window.amazon||o.current)return;const e=window.amazon.Pay.renderButton("#".concat(a.current.id),S_(S_({},D_),{},{merchantId:t.merchant_id,publicKeyId:t.public_key_id}));e.onClick((()=>{Yn("oidcParams",d.get("params"));const r=d.get("campaignSource");r&&Yn("campaignSource",r),Qn(b_),Ee.log(It(u)),e.initCheckout({estimatedOrderAmount:{amount:String(n),currencyCode:"JPY"},createCheckoutSessionConfig:{payloadJSON:t.payload,signature:t.signature,algorithm:"AMZN-PAY-RSASSA-PSS"}})})),o.current=e}),[t,n,d,u]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(N_,{className:"mer-spacing-b-24",children:(0,h.jsxs)(I_,{children:[(0,h.jsx)(A_,{id:"AmazonPayButton",ref:a}),(0,h.jsx)(La._,{type:"caption",color:"secondary",className:"mer-spacing-b-16",children:i("signup-purchase:amazonPay.button.overview")}),(0,h.jsx)(La._,{type:"caption",color:"secondary",children:i("signup-purchase:amazonPay.button.condition")})]})}),(0,h.jsx)(hy,{children:i("signup-purchase:or")})]})})),T_=()=>Ze("".concat(fe(),"/deliver_addresses/add"));var F_,M_,L_=n(3141),R_=n(1626);function V_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const B_=j.Ay.div(F_||(F_=V_(["\n  flex: 1;\n  margin-left: ",";\n"])),Ka.i.spacing[16]),U_=j.Ay.div(M_||(M_=V_(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: "," 0;\n"])),Ka.i.spacing[16]),H_=e=>{let{className:t}=e;return(0,h.jsxs)(U_,{className:t,children:[(0,h.jsx)(R_.w,{variant:"rectangle",size:"medium"}),(0,h.jsxs)(B_,{children:[(0,h.jsx)(R_.w,{variant:"text",size:"small",width:"60%",className:"mer-spacing-b-16"}),(0,h.jsx)(R_.w,{variant:"text",size:"small"})]})]})},K_=e=>{const{isTrustAlert:t,isLoading:n}=TE(),r=e.item_coupon_display,i=!t&&(null==r?void 0:r.return_type)===UE.DISCOUNT;let a={currentPrice:e.price,newPrice:e.price,discountedAmount:0,isExpectedDiscount:!1};return i&&r.return_absolute&&(a={newPrice:e.price-r.return_absolute,currentPrice:e.price,discountedAmount:r.return_absolute}),{discountedPrice:a,isLoading:n}},q_=e=>{let{itemId:t}=e;const{i18n:{language:n},t:r}=(0,c.B)(["authCommon","signup-purchase"]);return(0,h.jsx)(Jr.d,{visible:!0,titleLabel:r("signup-purchase:soldOutDialog.title"),footer:(0,h.jsx)(p.j,{fluid:!0,"data-testid":"dialog-close-button",children:(0,h.jsx)("a",{href:"".concat((0,m.eW)(n),"item/").concat(t),children:r("authCommon:dialog.okLabel")})}),children:(0,h.jsx)("div",{children:r("signup-purchase:soldOutDialog.content")})})};var G_;const W_=j.Ay.div(G_||(G_=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  border-top: ",";\n  border-bottom: ",";\n  padding-top: ",";\n  padding-bottom: ",";\n  margin-bottom: ",";\n"])),Z.PQ.primary,Z.PQ.primary,Ka.i.spacing[16],Ka.i.spacing[16],Ka.i.spacing[16]),$_=e=>{let{itemData:t,showProvisionalCouponWarning:n}=e;const{t:r}=(0,c.B)("signup-purchase"),{discountedPrice:{newPrice:i,currentPrice:a,isExpectedDiscount:o,discountedAmount:l},isLoading:s}=K_(t);return(0,h.jsxs)(W_,{"data-testid":"item-section",children:[s?(0,h.jsx)(H_,{}):(0,h.jsx)(L_.b,{id:t.id,"data-testid":"item-section-item-object",item:{price:t.price,priceLabel:(u=t.shipping_payer,u.code===BE.SELLER?r("signup-purchase:shippingFeeIncluded"):r("signup-purchase:shippingFeePaidOnDelivery")),label:t.name},itemThumbnail:{src:t.thumbnails[0]},discounted:l?{newPrice:i,oldPrice:a}:void 0}),o&&n&&(0,h.jsx)(Vv.v,{text:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(La._,{children:r("signup-purchase:amazonPayDiscountedPriceInfo")}),(0,h.jsx)(La._,{children:r("signup-purchase:amazonPayCouponRegistrationInfo")})]}),type:"row",variant:"display",className:"mer-spacing-t-16"}),t.status!==VE.OnSale&&(0,h.jsx)(q_,{itemId:t.id})]});var u};var Y_,J_;function Q_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const X_=j.Ay.div(Y_||(Y_=Q_(["\n  display: grid;\n  gap: ",";\n\n  "," {\n    grid-template-columns: 1fr 1fr;\n  }\n"])),Ka.i.spacing[16],Z.$_[">=large"]),Z_=j.Ay.div(J_||(J_=Q_(["\n  display: grid;\n  gap: ",";\n"])),Ka.i.spacing[16]);var eS,tS;function nS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const rS=j.Ay.div(eS||(eS=nS(["\n  display: flex;\n  flex-direction: column;\n"]))),iS=j.Ay.label(tS||(tS=nS(["\n  display: flex;\n  align-items: center;\n"]))),aS=e=>{let{onFirstInput:t,autoCompletePhoneNumber:n}=e;const{t:i}=(0,c.B)("signup"),{control:a,watch:o,clearErrors:l}=(0,Jc.xW)(),s=o("phoneNumberCheckbox");return(0,r.useEffect)((()=>{l("phoneNumber")}),[s,l]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(rS,{children:[(0,h.jsxs)(iS,{htmlFor:"phoneNumber",children:[(0,h.jsx)(La._,{className:"mer-spacing-r-8",type:"small",bold:!0,children:i("signup:phone.phoneNumber")}),(0,h.jsx)(nd.f,{label:i("signup:email.optionalField"),type:"secondary"})]}),(0,h.jsx)(Jc.xI,{control:a,name:"phoneNumberCheckbox",render:e=>{let{field:{value:t,ref:n,onChange:r}}=e;return(0,h.jsx)(td.a,{className:"mer-spacing-y-4",label:(0,h.jsx)(La._,{children:i("signup:phone.optional.verifyPhoneNumberLabel")}),children:(0,h.jsx)(nn,{"data-testid":"phone-number-checkbox",onChange:r,checked:t,extraParams:{enabled:!t},"location-2":"phone_number_checkbox",ref:n})})}}),(0,h.jsx)(El,{name:"phoneNumber",inputId:"phoneNumber",placeholder:i("signup:phone.placeholder.phoneNumber"),onChange:t,disabled:!s,inputMode:"tel",autoComplete:n,helpMessage:i("signup:phone.optional.help")})]}),(0,h.jsx)(hd,{disabled:!s,displayRestrictionMessage:!0})]})};function oS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oS(Object(n),!0).forEach((function(t){lS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sS=e=>{let{autofilledFields:t={}}=e;const{t:n}=(0,c.B)("signup"),{getValues:r,setValue:i,clearErrors:a,watch:o}=(0,Jc.xW)(),{location:l}=Y(),{isAllowed:s}=KE(),{authenticationState:u,signupState:{optIn:d},saveSignupState:p}=ra(),m=u.acr===$i.SingleFactor,f="pending"!==u.kycStatus,g=(e,n)=>()=>{Ee.log(_s(yt.Mercari,{location:Q(J(l,{"location-2":n})),autoFilled:!!t[e]}))},{onFirstChange:v}=xs(g("firstName","first_name_input")),{onFirstChange:b}=xs(g("familyName","last_name_input")),{onFirstChange:y,onSetValue:j}=xs(g("firstNameKana","first_name_kana_input")),{onFirstChange:O,onSetValue:w}=xs(g("familyNameKana","last_name_kana_input")),{onFirstChange:x}=xs(g("phoneNumber","number_input")),{onFirstChange:P}=xs(g("email","email_input")),E=mE((()=>r("familyNameKana")),(e=>{w(e),i("familyNameKana",e),a("familyNameKana")}),b),_=mE((()=>r("firstNameKana")),(e=>{j(e),i("firstNameKana",e),a("firstNameKana")}),v),S=o("email"),C=o("password");return(0,h.jsxs)(Z_,{children:[(0,h.jsxs)(X_,{children:[(0,h.jsx)(El,cS({name:"familyName",label:n("signup:identification.familyName")+n("signup:identification.fullWidth"),placeholder:n("signup:identification.placeholder.familyName"),disableUIOnly:f,autoComplete:"family-name"},E)),(0,h.jsx)(El,cS({name:"firstName",label:n("signup:identification.firstName")+n("signup:identification.fullWidth"),placeholder:n("signup:identification.placeholder.firstName"),disableUIOnly:f,autoComplete:"given-name"},_)),(0,h.jsx)(El,{name:"familyNameKana",label:n("signup:identification.familyNameKana")+n("signup:identification.fullWidth"),placeholder:n("signup:identification.placeholder.familyNameKana"),disableUIOnly:f,onChange:O}),(0,h.jsx)(El,{name:"firstNameKana",label:n("signup:identification.firstNameKana")+n("signup:identification.fullWidth"),placeholder:n("signup:identification.placeholder.firstNameKana"),disableUIOnly:f,onChange:y})]}),(0,h.jsx)(Cl,{disableUIOnly:f}),!s&&(0,h.jsx)(El,{name:"phoneNumber",label:n("signup:phone.phoneNumber"),placeholder:n("signup:phone.placeholder.phoneNumber"),onChange:x,inputMode:"tel",autoComplete:"tel"}),(0,h.jsx)(dd,{autocomplete:"email",disableUIOnly:m,onChange:P}),(0,h.jsx)(zs,{email:S,password:C,label:n("signup:email.password"),disableUIOnly:m}),(0,h.jsx)(ul,{}),s&&(0,h.jsx)(aS,{onFirstInput:x,autoCompletePhoneNumber:"tel"}),!s&&(0,h.jsx)(hd,{}),(0,h.jsx)(od,{isOptIn:d,onOptInChange:e=>p({optIn:e})})]})};var uS,dS=n(8079),pS=n(2794);const mS=(0,j.Ay)(dS.v)(uS||(uS=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  // Keep the same max width as it would have in M size layout\n  max-width: calc("," - 2 * var(--grid-layout-page-padding-horizontal));\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: ",";\n\n  "," {\n    margin-bottom: ",";\n  }\n"])),"640px",Ka.i.spacing[24],Z.$_[">=large"],Ka.i.spacing[40]),hS=(e,t)=>e===t?"active":e<t?"completed":void 0,fS=e=>{let{steps:t,currentStep:n}=e;const{t:r}=(0,c.B)("signup-purchase");return(0,h.jsx)(mS,{label:r("signup-purchase:progress.a11ylabel"),children:t.map(((e,t)=>(0,h.jsx)(pS.S,{status:hS(t,n-1),children:e},e)))})},gS=e=>{let{currentStep:t,hideMFA:n}=e;const{t:r}=(0,c.B)("signup-purchase"),i=[r("signup-purchase:progress.purchase"),n?void 0:r("signup-purchase:progress.mfaVerification"),r("signup-purchase:progress.paymentMethod"),r("signup-purchase:progress.confirmation"),r("signup-purchase:progress.complete")].filter((e=>void 0!==e));return(0,h.jsx)(fS,{steps:i,currentStep:t})},vS=e=>{let{currentStep:t,hideMFA:n}=e;const{t:r}=(0,c.B)("signup-purchase"),i=[r("signup-purchase:progress.purchase"),r("signup-purchase:progress.confirmation"),n?void 0:r("signup-purchase:progress.mfaVerification"),r("signup-purchase:progress.complete")].filter((e=>void 0!==e));return(0,h.jsx)(fS,{steps:i,currentStep:t})},bS={baseURL:"".concat(fe())},yS=(e,t)=>{const{watch:n,formState:i,setValue:a}=(0,Jc.xW)(),o=n(t),c=(0,r.useRef)(o),l=i.dirtyFields[e];(0,r.useEffect)((()=>{l||o===c.current||(c.current=o,a(e,o,{shouldValidate:!0}))}),[e,t,o,a,l])};function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jS(Object(n),!0).forEach((function(t){wS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xS=["shippingFamilyName","shippingFirstName","shippingFamilyNameKana","shippingFirstNameKana"],PS=["familyName","firstName","familyNameKana","firstNameKana"],ES=e=>{let{hidden:t=!1,autofilledFields:n={}}=e;const{t:r}=(0,c.B)("signup-purchase"),{location:i}=Y(),a=(e,t)=>()=>{Ee.log(_s(yt.Mercari,{location:Q(J(i,{"location-3":t})),autoFilled:!!n[e]}))},{getValues:o,setValue:l,clearErrors:s}=(0,Jc.xW)(),{onFirstChange:u}=xs(a("shippingFirstName","first_name_input")),{onFirstChange:d}=xs(a("shippingFamilyName","last_name_input")),{onFirstChange:p,onSetValue:m}=xs(a("shippingFirstNameKana","first_name_kana_input")),{onFirstChange:f,onSetValue:g}=xs(a("shippingFamilyNameKana","last_name_kana_input")),v=mE((()=>o("shippingFamilyNameKana")),(e=>{g(e),l("shippingFamilyNameKana",e),s("shippingFamilyNameKana")}),d),b=mE((()=>o("shippingFirstNameKana")),(e=>{m(e),l("shippingFirstNameKana",e),s("shippingFirstNameKana")}),u);return(0,h.jsxs)(X_,{style:t?{display:"none"}:void 0,children:[(0,h.jsx)(El,OS({"data-testid":"input-familyName",name:"shippingFamilyName",label:r("signup-purchase:registerShippingAddress.label.familyName"),placeholder:r("signup-purchase:registerShippingAddress.placeholder.familyName"),fluid:!0,required:!0,maxLength:15,count:!0,hidden:t,autoComplete:"family-name"},v)),(0,h.jsx)(El,OS({"data-testid":"input-firstName",name:"shippingFirstName",label:r("signup-purchase:registerShippingAddress.label.firstName"),placeholder:r("signup-purchase:registerShippingAddress.placeholder.firstName"),fluid:!0,required:!0,maxLength:15,count:!0,hidden:t,autoComplete:"given-name"},b)),(0,h.jsx)(El,{"data-testid":"input-familyNameKana",name:"shippingFamilyNameKana",label:r("signup-purchase:registerShippingAddress.label.familyNameKana"),placeholder:r("signup-purchase:registerShippingAddress.placeholder.familyNameKana"),fluid:!0,required:!0,maxLength:35,count:!0,hidden:t,onChange:f}),(0,h.jsx)(El,{"data-testid":"input-firstNameKana",name:"shippingFirstNameKana",label:r("signup-purchase:registerShippingAddress.label.firstNameKana"),placeholder:r("signup-purchase:registerShippingAddress.placeholder.firstNameKana"),fluid:!0,required:!0,maxLength:35,count:!0,hidden:t,onChange:p})]})},_S=e=>{yS("shippingFamilyName","familyName"),yS("shippingFirstName","firstName"),yS("shippingFamilyNameKana","familyNameKana"),yS("shippingFirstNameKana","firstNameKana");const t=(()=>{const{formState:e,watch:t}=(0,Jc.xW)(),n=t("shippingNameType"),[r,i,a,o]=t(PS),[c,l,s,u]=t(xS),d=xS.some((t=>e.errors[t])),p=PS.some((t=>e.errors[t]));return"different"===n||d&&!p||r!==c||i!==l||a!==s||o!==u})();return(0,h.jsx)(ES,OS(OS({},e),{},{hidden:!t}))},SS=e=>{let{amazon:t=!1,autofilledFields:n={}}=e;const{watch:r}=(0,Jc.xW)();return"same"!==r("shippingNameType")||t?(0,h.jsx)(ES,{autofilledFields:n}):(0,h.jsx)(_S,{autofilledFields:n})},CS=["value","onChange","ref"];var kS,NS;function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IS(Object(n),!0).forEach((function(t){DS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const TS=j.Ay.div(kS||(kS=zS(["\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n  }\n"])),Z.$_[">=large"]),FS=j.Ay.div(NS||(NS=zS(["\n  display: flex;\n  height: 50px;\n"]))),MS={shippingFirstName:"",shippingFamilyName:"",shippingFirstNameKana:"",shippingFamilyNameKana:"",shippingPhoneNumber:""},LS=()=>{const{t:e}=(0,c.B)("signup-purchase"),{control:t,setValue:n,getValues:i}=(0,Jc.xW)(),a=(0,r.useRef)(MS),o=[{label:e("signup-purchase:registerShippingAddress.label.sameRegisteredName"),value:"same"},{label:e("signup-purchase:registerShippingAddress.label.otherName"),value:"different"}];return(0,h.jsx)(Jc.xI,{control:t,name:"shippingNameType",render:t=>{let{field:{value:r,onChange:c,ref:l}}=t,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t.field,CS);return(0,h.jsx)(ll.g,{cols:1,label:e("signup-purchase:registerShippingAddress.label.name"),ref:l,children:(0,h.jsx)(TS,{children:o.map((e=>{let{label:t,value:o}=e;return(0,h.jsx)(FS,{children:(0,h.jsx)(Dc.A,{label:(0,h.jsx)(La._,{slot:"label",color:"inherit",children:t}),children:(0,h.jsx)(tn,AS({value:o,checked:o===r,onChange:e=>{(e=>{let{target:{value:t}}=e;if("same"===t){const[e,t,r,o,c,l,s,u,d,p]=i(["firstName","familyName","firstNameKana","familyNameKana","phoneNumber","shippingFirstName","shippingFamilyName","shippingFirstNameKana","shippingFamilyNameKana","shippingPhoneNumber"]);return n("shippingFirstName",e),n("shippingFamilyName",t),n("shippingFirstNameKana",r),n("shippingFamilyNameKana",o),n("shippingPhoneNumber",c),void(a.current={shippingFirstName:l,shippingFamilyName:s,shippingFirstNameKana:u,shippingFamilyNameKana:d,shippingPhoneNumber:p})}n("shippingFirstName",a.current.shippingFirstName),n("shippingFamilyName",a.current.shippingFamilyName),n("shippingFirstNameKana",a.current.shippingFirstNameKana),n("shippingFamilyNameKana",a.current.shippingFamilyNameKana),n("shippingPhoneNumber",a.current.shippingPhoneNumber),a.current=MS})(e),c(e)},"location-3":"same_person_address",extraParams:{enabled:"same"===o}},s))})},t)}))})})}})};function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RS(Object(n),!0).forEach((function(t){BS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const US=e=>{let{hidden:t=!1,autofilledFields:n={}}=e;const{t:r}=(0,c.B)("signup-purchase"),{signupState:{method:i}}=ra(),{location:a}=Y(),{onFirstChange:o}=xs((()=>{Ee.log(_s(i,{location:"".concat(Q(a),":number_input"),autoFilled:!!n.shippingPhoneNumber}))}));return(0,h.jsx)(El,{hidden:t,style:t?{display:"none"}:void 0,"data-testid":"input-phoneNumber",name:"shippingPhoneNumber",type:"text",label:r("signup-purchase:registerShippingAddress.label.phoneNumber"),placeholder:r("signup-purchase:registerShippingAddress.placeholder.phoneNumber"),inputMode:"tel",fluid:!0,required:!0,onChange:o})},HS=e=>(yS("shippingPhoneNumber","phoneNumber"),(0,h.jsx)(US,VS(VS({},e),{},{hidden:!0}))),KS=e=>{const{watch:t}=(0,Jc.xW)(),{isAllowed:n}=KE(),r=!n||t("phoneNumberCheckbox");return"same"===t("shippingNameType")&&r?(0,h.jsx)(HS,VS({},e)):(0,h.jsx)(US,VS({},e))};function qS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qS(Object(n),!0).forEach((function(t){WS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $S=e=>{let{amazon:t=!1,autofilledFields:n={}}=e;const{t:i}=(0,c.B)("signup-purchase"),a=i_(),{location:o}=Y(),[l,s]=(0,r.useState)(n),u=(e=>{const[t]=(()=>{const[e,...t]=tt("/users_address/lookup_address",bS);return[(0,r.useCallback)((t=>{let{zipCode1:n,zipCode2:r}=t;return e({zip_code1:n,zip_code2:r})}),[e]),...t]})(),{setValue:n,clearErrors:i}=(0,Jc.xW)(),a=(0,r.useRef)("");return async r=>{const[o,c]=(e=>{const t=e.match(/(\d{3})-?(\d{4})/);return t?[t[1]||"",t[2]||""]:["",""]})(r);if(3!==o.length||4!==c.length)return;a.current=r,i("shippingPostalCode");const{data:l}=await t({zipCode1:o,zipCode2:c});if(!l||a.current!==r)return;const s={shippingPrefecture:l.stateName,shippingCity:l.city,shippingStreet:l.street};Object.entries(s).forEach((e=>{let[t,r]=e;n(t,r)})),e(s),l.stateName&&(i("shippingPrefecture"),i("shippingCity"),i("shippingStreet"))}})((e=>{s((t=>GS(GS({},t),e)))})),d=(e,t)=>()=>{Ee.log(_s(yt.Mercari,{location:Q(J(o,{"location-3":t})),autoFilled:!!l[e]}))},{onFirstChange:p}=xs(d("shippingPostalCode","postal_code_input")),{onFirstChange:m}=xs(d("shippingPrefecture","prefecture_input")),{onFirstChange:f}=xs(d("shippingCity","city_input")),{onFirstChange:g}=xs(d("shippingStreet","address_input")),{onFirstChange:v}=xs(d("shippingBuilding","building_room_input"));return(0,h.jsx)(X,{"location-2":"shipping",children:(0,h.jsxs)(Z_,{children:[!t&&(0,h.jsx)(LS,{}),(0,h.jsx)(SS,{amazon:t}),(0,h.jsx)(El,{"data-testid":"input-postalCode",label:i("signup-purchase:registerShippingAddress.label.postalCode"),prefixLabel:"",placeholder:i("signup-purchase:registerShippingAddress.placeholder.postalCode"),fluid:!0,required:!0,name:"shippingPostalCode",onChange:e=>{p(e),u(e.target.value)},inputMode:"numeric",autoComplete:"postal-code"}),(0,h.jsx)(kl,{name:"shippingPrefecture",label:i("signup-purchase:registerShippingAddress.label.prefecture"),placeholder:i("signup-purchase:registerShippingAddress.placeholder.prefecture"),fluid:!0,required:!0,options:a.map((e=>{let{name:t}=e;return{value:t,label:t}})),autoComplete:"address-level1",onChange:m}),(0,h.jsx)(El,{"data-testid":"input-city",name:"shippingCity",label:i("signup-purchase:registerShippingAddress.label.city"),placeholder:i("signup-purchase:registerShippingAddress.placeholder.city"),fluid:!0,required:!0,autoComplete:"address-level2",onChange:f}),(0,h.jsx)(El,{"data-testid":"input-street",name:"shippingStreet",label:i("signup-purchase:registerShippingAddress.label.street"),placeholder:i("signup-purchase:registerShippingAddress.placeholder.street"),fluid:!0,required:!0,autoComplete:"address-line1",onChange:g}),(0,h.jsx)(El,{"data-testid":"input-building",name:"shippingBuilding",label:i("signup-purchase:registerShippingAddress.label.building"),placeholder:i("signup-purchase:registerShippingAddress.placeholder.building"),fluid:!0,tag:i("signup-purchase:optionalFormField"),autoComplete:"address-line2",onChange:v}),(0,h.jsx)(KS,{autofilledFields:l})]})})};var YS;const JS=j.Ay.button(YS||(YS=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  white-space: nowrap;\n  background: none;\n  color: inherit;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  font: inherit;\n  &:focus {\n    outline: none;\n  }\n"]))),QS=e=>{let{variant:t}=e;const{t:n}=(0,c.B)("signup-purchase"),{watch:i}=(0,Jc.xW)(),a=i("amazonCheckoutSessionId"),o=An("https://static-fe.payments-amazon.com/checkout.js"),l=(0,r.useId)();(0,r.useEffect)((()=>{if("ready"!==o||void 0===window.amazon||void 0===a)return;const e="#".concat(CSS.escape(l));window.amazon.Pay.bindChangeAction(e,{amazonCheckoutSessionId:a,changeAction:t})}),[o,l,t,a]);const s=n("changeAddress"===t?"signup-purchase:amazonPay.externalLink.changeShippingAddress":"signup-purchase:amazonPay.externalLink.changePaymentMethod");return(0,h.jsx)($t,{id:l,children:(0,h.jsxs)(JS,{type:"button",children:[s,(0,h.jsx)(Cm.R,{size:"small"})]})})},XS=e=>{let{autofilledFields:t}=e;const{t:n}=(0,c.B)("signup-purchase");return(0,h.jsx)(X,{"location-2":"shipping",children:(0,h.jsxs)(Zx,{borderBottom:!0,children:[(0,h.jsx)(ec.b,{titleType:"section",level:2,titleLabel:n("registerShippingAddress.heading"),className:"mer-spacing-b-16",children:(0,h.jsx)(X,{"location-3":"change",children:(0,h.jsx)(QS,{variant:"changeAddress"})})}),(0,h.jsx)($S,{amazon:!0,autofilledFields:t})]})})},ZS=n.p+"dark-d9fd715f51c3ecd3f6ee.png",eC=n.p+"light-204c65ce9c047112018b.png";var tC,nC;function rC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const iC=j.Ay.div(tC||(tC=rC(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: ",";\n\n  padding: ",";\n  border-radius: ",";\n  background-color: var(--alias-color-background-secondary-default);\n"])),Ka.i.spacing[4],Ka.i.spacing[16],Ka.i.radius.medium),aC=j.Ay.img(nC||(nC=rC(["\n  width: 105px;\n  height: 20px;\n"]))),oC=e=>{let{descriptor:t}=e;const{t:n}=(0,c.B)("signup-purchase");return(0,h.jsxs)(iC,{children:[(0,h.jsxs)("picture",{children:[(0,h.jsx)("source",{srcSet:eC,media:"(prefers-color-scheme: dark)"}),(0,h.jsx)(aC,{src:ZS,alt:n("signup-purchase:amazonPay.paymentDescriptor.logo")})]}),(0,h.jsx)(La._,{color:"secondary",type:"caption",children:t}),(0,h.jsx)(La._,{color:"secondary",type:"caption",children:n("signup-purchase:amazonPay.paymentDescriptor.condition")})]})};var cC;const lC=(0,j.Ay)(Zx)(cC||(cC=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  "," {\n    border-bottom: 1px solid var(--alias-color-border-primary-default);\n    padding-bottom: ",";\n  }\n"])),Z.$_["<large"],Ka.i.spacing[16]),sC=e=>{let{paymentDescriptor:t}=e;const{t:n,i18n:{language:r}}=(0,c.B)("signup-purchase");return(0,h.jsx)(X,{"location-2":"payment",children:(0,h.jsxs)(lC,{children:[(0,h.jsx)(ec.b,{titleType:"section",level:2,titleLabel:n("paymentMethod.heading"),className:"mer-spacing-b-16",children:(0,h.jsx)(X,{"location-3":"change",children:(0,h.jsx)(QS,{variant:"changePayment"})})}),(0,h.jsx)(oC,{descriptor:t}),(0,h.jsx)(Xp.l,{children:(0,h.jsx)(Mt,{href:m.t7.howToUseAmazonPay(r),children:n("signup-purchase:amazonPay.externalLink.guide")})})]})})};var uC=n(6520);const dC=["forPurchase"];function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pC(Object(n),!0).forEach((function(t){hC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fC=e=>{let{forPurchase:t=!1}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dC);const{i18n:{language:r}}=(0,c.B)();return(0,h.jsx)(La._,mC(mC({type:"caption",color:"secondary"},n),{},{children:(0,h.jsx)(qc.x,{i18nKey:t?"signup-purchase:summary.terms.termsOfUseAndPrivacyPolicy":"signup-purchase:termsOfUseAndPrivacyPolicy",components:{tos:(0,h.jsx)(Mt,{href:t?m.I1.tos(r):m.t7.tosList(r)}),pp:(0,h.jsx)(Mt,{href:m.I1.privacy(r)})}})}))},gC=["className","isLoading","submitLabel"];var vC,bC,yC,jC,OC,wC,xC;function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PC(Object(n),!0).forEach((function(t){_C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const CC=j.Ay.div(vC||(vC=SC(["\n  border-bottom: ",";\n  padding-bottom: ",";\n\n  "," {\n    padding: "," ",";\n    border: ",";\n  }\n"])),Z.PQ.primary,Ka.i.spacing[8],Z.$_[">=large"],Ka.i.spacing[8],Ka.i.spacing[16],Z.PQ.primary),kC=j.Ay.p(bC||(bC=SC(["\n  padding: "," 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  line-height: ",";\n\n  .merPrice {\n    white-space: nowrap;\n  }\n"])),Ka.i.spacing[8],Ka.i.lineHeight.normal),NC=(0,j.Ay)(uC.C)(yC||(yC=SC(["\n  font-size: ",";\n  font-weight: bold;\n"])),Ka.i.fontSize[140]),IC=(0,j.Ay)(ec.b)(jC||(jC=SC(["\n  border-bottom: ",";\n  padding-bottom: ",";\n  margin-bottom: ",";\n\n  // Force style override for desktop\n  "," {\n    &.merHeading {\n      display: none;\n    }\n  }\n"])),Z.PQ.primary,Ka.i.spacing[8],Ka.i.spacing[8],Z.$_[">=large"]),AC=(0,j.Ay)(La._).attrs({type:"caption",color:"secondary"})(OC||(OC=SC([""]))),DC=j.Ay.div(wC||(wC=SC(["\n  margin-top: ",";\n  margin-bottom: ",";\n  display: grid;\n  gap: ",";\n\n  "," {\n    margin-bottom: ",";\n  }\n"])),Ka.i.spacing[16],Ka.i.spacing[16],Ka.i.spacing[16],Z.$_[">=large"],Ka.i.spacing[24]),zC=j.Ay.span(xC||(xC=SC(["\n  display: flex;\n  flex-flow: column;\n  align-items: end;\n  text-align: right;\n"]))),TC=e=>{let{pointBackItemCoupon:t}=e;const{t:n}=(0,c.B)(["purchase"]),r=t.return_percent,i=t.return_absolute;return(0,h.jsxs)(kC,{children:[(0,h.jsx)(La._,{bold:!0,element:"span",children:n("signup-purchase:summary.pointBackSection.title")}),(0,h.jsxs)(zC,{children:[r&&(0,h.jsx)(La._,{element:"span",children:n("signup-purchase:summary.pointBackSection.back",{point:r})}),(0,h.jsx)(La._,{element:"span",children:n("signup-purchase:summary.pointBackSection.backValue",{value:(a=Number(i),l_(a,"P"))})})]})]});var a},FC=e=>{var t;let{itemData:n}=e;const{t:r}=(0,c.B)("signup-purchase"),{isTrustAlert:i,isLoading:a}=TE(),{discountedPrice:{newPrice:o,currentPrice:l,isExpectedDiscount:s,discountedAmount:u}}=K_(n),d=(null==n||null===(t=n.item_coupon_display)||void 0===t?void 0:t.return_type)===UE.CREDIT?n.item_coupon_display:void 0,p=s||0===u?l:o,m=o;return a?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(kC,{children:[(0,h.jsx)(La._,{bold:!0,element:"span",children:r("signup-purchase:summary.itemPrice")}),(0,h.jsx)(uC.C,{"data-testid":"item-price",value:p})]}),s&&(0,h.jsxs)(kC,{children:[(0,h.jsx)(La._,{bold:!0,element:"span",children:r("signup-purchase:summary.expectedCoupon")}),(0,h.jsxs)("div",{children:["- ",(0,h.jsx)(uC.C,{"data-testid":"item-price",value:u})]})]}),(0,h.jsx)(tc.I,{className:"mer-spacing-y-8"}),(0,h.jsxs)(kC,{children:[(0,h.jsx)(La._,{bold:!0,element:"span",children:r("signup-purchase:summary.paymentAmount")}),(0,h.jsx)(NC,{"data-testid":"payment-amount",value:m})]}),(0,h.jsxs)(kC,{children:[(0,h.jsx)(La._,{bold:!0,element:"span",children:r("signup-purchase:summary.paymentMethod")}),(0,h.jsx)(La._,{element:"span",children:r("signup-purchase:summary.method.AmazonPay")})]}),d&&!i&&(0,h.jsx)(TC,{pointBackItemCoupon:d})]})},MC=["password"];var LC,RC,VC;function BC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BC(Object(n),!0).forEach((function(t){HC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HC(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const qC="buyer_sign_up_amazon",GC=(0,j.Ay)(ec.b).attrs({level:1,align:"left"})(LC||(LC=KC(["\n  "," {\n    margin-bottom: ",";\n  }\n  margin-bottom: ",";\n  "," {\n    text-align: center;\n  }\n"])),Z.$_[">=large"],Ka.i.spacing[16],Ka.i.spacing[24],Z.$_["<large"]),WC=(0,j.Ay)((e=>{let{className:t,isLoading:n=!1,submitLabel:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gC);const{t:a}=(0,c.B)("signup-purchase");return(0,h.jsxs)("div",{className:t,children:[(0,h.jsx)(IC,{titleType:"section",level:2,titleLabel:a("summary.title")}),(0,h.jsx)(CC,{children:(0,h.jsx)(FC,EC({},i))}),(0,h.jsxs)(DC,{children:[(0,h.jsx)(Js,{}),(0,h.jsx)(fC,{forPurchase:!0}),(0,h.jsx)(AC,{children:a("signup-purchase:summary.terms.account")}),(0,h.jsx)(AC,{children:a("signup-purchase:summary.terms.3DSecureCaveat")})]}),(0,h.jsx)(Wt,{fluid:!0,loading:n,"location-2":"confirm_button",children:(0,h.jsx)("button",{type:"submit",disabled:n,children:r})})]})}))(RC||(RC=KC(["\n  "," {\n    margin-top: ",";\n  }\n"])),Z.$_["<large"],Ka.i.spacing[24]),$C=(0,j.Ay)(La._)(VC||(VC=KC(["\n  // MerText automatically has margin: 0 set. This !important looks to override it\n  margin-bottom: "," !important;\n\n  "," {\n    margin-bottom: "," !important;\n  }\n"])),Ka.i.spacing[24],Z.$_["<large"],Ka.i.spacing[16]),YC=()=>{const{navigate:e}=(0,_r.f)(),{isAllowed:t}=KE(),{t:n,ready:i}=(0,c.B)(["signup","signup-purchase","authCommon"]),[a,o]=(0,r.useState)(!1),{isSubmitting:l,showMsgToCheckCaptcha:s,signUp:u,sendSMSOTP:d}=JC(),[p,m]=(0,r.useState)(null),{urlSearchParams:{itemId:f}}=U(),g=w_(),[v,{data:b}]=HE({initialLoadingState:!0}),j=t_(!0),{formState:O,getValues:w,setValue:x}=j;if(Yd({key:YE,getValues:()=>{const e=w(),{password:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,MC);return{uuid:$n(),value:n}}}),Qs(qC),(0,r.useEffect)((()=>{g&&!O.isDirty&&Object.entries(g).forEach((e=>{let[t,n]=e;x(t,n,{shouldValidate:!!n})}))}),[g,x,O.isDirty]),(0,r.useEffect)((()=>{f&&v({id:f})}),[f]),!f)return(0,h.jsx)(y,{});if(!g||!b||!i)return(0,h.jsx)(Fi,{});const P=t&&!j.watch("phoneNumberCheckbox");return(0,h.jsx)(X,{"location-0":qC,children:(0,h.jsxs)(Jc.Op,UC(UC({},j),{},{children:[(0,h.jsx)(X,{"location-1":"body",extraParams:{authMethod:le.qR.AUTH_METHOD_EMAIL},children:(0,h.jsx)(FE,{itemData:b,children:(0,h.jsxs)("form",{onSubmit:j.handleSubmit((e=>{m(null),u(e,{onError(e){Ee.log(St(yt.Mercari,e,{location:qC}))},onFieldError(e,t){j.setError(e,{message:t},{shouldFocus:!0})},onGenericError(e){m(e)},onSuccess(){o(!0)}})})),noValidate:!0,children:[(0,h.jsx)(vS,{currentStep:2,hideMFA:P}),(0,h.jsxs)(gc,{children:[(0,h.jsxs)(bc,{gridColumn:{lg:"span 8"},children:[(0,h.jsx)(GC,{titleLabel:n("signup-purchase:amazonPay.heading")}),p&&(0,h.jsx)(zl,{className:"mer-spacing-y-24",error:p,scrollIntoView:!0}),(0,h.jsx)($_,{itemData:b,showProvisionalCouponWarning:!0}),(0,h.jsxs)(Zx,{borderBottom:!0,children:[(0,h.jsx)(ec.b,{level:2,titleType:"section",titleLabel:n("signup-purchase:personalInformation.stepTwoTitle"),className:"mer-spacing-b-16"}),(0,h.jsx)($C,{color:"secondary",children:n("signup-purchase:personalInformation.subtitle")}),(0,h.jsx)(sS,{autofilledFields:g})]}),(0,h.jsx)(XS,{autofilledFields:g}),(0,h.jsx)(sC,{paymentDescriptor:g.paymentDescriptor})]}),(0,h.jsx)(bc,{insetLeft:["lg"],gridColumn:{lg:"span 4"},children:(0,h.jsxs)(jc,{children:[s&&(0,h.jsx)($s,{errorMessage:n("authCommon:error.captchaNotChecked")}),(0,h.jsx)(nP,{action:Ln.VerificationChallenge,className:"mer-spacing-b-24"}),(0,h.jsx)(WC,{submitLabel:n(P?"signup-purchase:summary.purchaseCTA":"signup-purchase:summary.confirmPhoneAndPurchaseCTA"),itemPrice:b.price,isLoading:l,itemData:b})]})})]})]})})}),(0,h.jsx)(Zp,{title:j.watch("phoneNumber"),description:n("signup-purchase:phoneNumberConfirmation.description"),visible:a,onConfirm:async()=>{m(null),d({onError(e){Ee.log(St(yt.Mercari,e,{location:qC})),o(!1)},onFieldError(e,t){j.setError(e,{message:t},{shouldFocus:!0})},onGenericError(e){m(e)},onSuccess(){e("/signup/purchase/amazon_pay/mfa",{state:mw({bodyText:n("signup:sms.snackbarMessage")})})}})},onCancel:()=>o(!1),screenName:qC})]}))})},JC=()=>{const[,e]=hw(),{getToken:t,scoreBasedFailed:n,setScoreBasedFailed:i}=qn(),[a,o]=(0,r.useState)(!1),{urlSearchParams:{nonce:l,acr_values:s,params:u}}=U(),{signupState:d,saveSignupState:p,saveShippingAddress:m,authenticationState:h,saveAuthenticationState:f}=ra(),[g,v]=(0,r.useState)(!1),{t:b}=(0,c.B)("authCommon"),[y]=xu(),[j]=Pu(),[O]=vd(),[w]=yd(),[P]=Pr(),[E]=Er(),[_]=up(),[S]=T_(),{createOIDCSession:C}=Nr(),[k]=Od(),[N]=wd(),I=zu();return{signUp:async(r,a)=>{if(v(!0),!l||!s)return void(0,x.Cp)(new Error("Nonce or acrValues not found"));let c;try{c=await t(Ln.VerificationChallenge)}catch(t){return v(!1),void e({bodyText:b("authCommon:error.networkConnectionError")})}const{token:g,version:k}=c;if(!g)return o(!0),void v(!1);if(r.ivCode){const{error:e}=await O({iv_code:r.ivCode});if(e){v(!1),a.onError(e);const{message:t}=e.errors[0];return void(t?a.onFieldError("ivCode",t):a.onGenericError(e))}}let{challengeId:N,poa:A,acr:D,kycStatus:z,userId:T}=h;if(!N){const{data:e,error:t}=await y({nonce:l,acrValues:s,poa:"",gRecaptchaResponse:g,recaptchaVersion:k,ivCert:Re(),countryCode:ge.O4.Japan,essentialClaims:"",optionalClaims:"",isRecovery:!1,challengeOnboardingType:wu.$w.CHALLENGE_ONBOARDING_TYPE_UNSPECIFIED,authorizationParameters:new URLSearchParams(u).toString(),maxAge:"0"});if(t||null==e||!e.challengeId)return 403!==(null==t?void 0:t.status)||n?(a.onError(t),a.onGenericError(t),void v(!1)):(i(!0),void v(!1));N=e.challengeId}if(D===$i.NoAuth){if(!A){const{data:e,error:t}=await w({challengeId:N,email:r.email,password:r.password});if(t||!e)return f({challengeId:N,kycStatus:z,acr:D,poa:A}),a.onError(t),a.onGenericError(t),void v(!1);A=e.poa}const{error:e}=await P(A);if(e)return a.onError(e),a.onGenericError(e),f({challengeId:N,kycStatus:z,acr:D,poa:A}),void v(!1);D=$i.SingleFactor,A=void 0}if("pending"===z){const{error:e}=await _({family_name_kanji:r.familyName,first_name_kanji:r.firstName,family_name_kana:r.familyNameKana,first_name_kana:r.firstNameKana,birthday:r.birthday});if(e)return a.onError(e),a.onGenericError(e),f({challengeId:N,kycStatus:z,poa:A,acr:D}),void v(!1);z="simple_kyc"}if(r.phoneNumber)return p((e=>{let{firstName:t,firstNameKana:n,familyName:r,familyNameKana:i,birthday:a,phoneNumber:o,email:c,ivCode:l,phoneNumberCheckbox:s,paymentDescriptor:u,amazonCheckoutSessionId:d,amazonToken:p}=e;return{firstName:t,firstNameKana:n,familyName:r,familyNameKana:i,birthday:a,phoneNumber:o,email:c,ivCode:l,phoneNumberCheckbox:s,paymentDescriptor:u,amazonCheckoutSessionId:d,amazonToken:p}})(r)),f({challengeId:N,poa:A,acr:D,kycStatus:z}),m(a_(r)),a.onSuccess(),void v(!1);if(!A||!T){const{error:e,data:t}=await j({challengeId:N});if(e||null==t||!t.poa)return a.onError(e),a.onGenericError(e),f({challengeId:N,poa:A,acr:D,kycStatus:z}),void v(!1);A=t.poa,T=Uu(t.subjectId)}const{error:F}=await S(o_(a_(r)));if(F)return a.onError(F),a.onGenericError(F),f({challengeId:N,acr:D,kycStatus:z,poa:A,userId:T}),void v(!1);const M=r.amazonCheckoutSessionId?qC:ck;await I({userId:T,method:yt.Mercari,ivCode:r.ivCode,optIn:d.optIn,gender:r.gender,amazonCheckoutSessionId:r.amazonCheckoutSessionId,paymentDescriptor:r.paymentDescriptor,location:"".concat(M,":user_1fa_registration")}),await E(),C(A)},sendSMSOTP:async e=>{const{error:t}=await k({challengeId:h.challengeId,phoneNumber:d.phoneNumber});if(t)return e.onError(t),void e.onGenericError(t);const{error:n}=await N({challengeId:h.challengeId,otpDeliveryMethod:cs.x5.OTP_DELIVERY_METHOD_SMS});n&&(e.onError(n),e.onGenericError(n)),e.onSuccess()},isSubmitting:g,showMsgToCheckCaptcha:a}},QC=()=>{const{t:e}=(0,c.B)("signup-purchase"),{search:t}=(0,s.zy)(),n=new URLSearchParams(t);return n.delete("itemId"),(0,h.jsxs)(Zx,{borderBottom:!0,children:[(0,h.jsx)(ec.b,{titleType:"section",level:2,titleLabel:e("signup-purchase:customersWithAccount"),className:"mer-spacing-b-24"}),(0,h.jsx)(tP,{fluid:!0,intent:"secondary","location-2":"sign_in_button",children:(0,h.jsx)(Ra,{to:"/signin",search:"?".concat(n.toString()),children:e("signup-purchase:signinLink")})})]})};var XC=n(3602);const ZC={">=large":XC.i.query.pc,"<large":XC.i.query.sp,large:XC.i.query.large,medium:XC.i.query.medium,small:XC.i.query.small},ek=e=>window.matchMedia(ZC[e]).matches;function tk(e,t){const n=[];return e&&n.push("Error loading Amazon script"),t&&n.push(...Ot(t)),n}const nk=["password"];var rk;function ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ak(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ik(Object(n),!0).forEach((function(t){ok(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ok(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ck="buyer_sign_up",lk=(0,j.Ay)(ec.b)(rk||(rk=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-bottom: ",";\n\n  "," {\n    margin-bottom: ",";\n  }\n"])),Ka.i.spacing[4],Z.$_["<large"],Ka.i.spacing[2]),sk=()=>{const{t:e}=(0,c.B)(["signup","signup-purchase","authCommon"]),[t,{loading:n,data:i,error:a}]=HE({initialLoadingState:!0}),{isAllowed:o}=KE(),{navigate:l}=(0,_r.f)(),{urlSearchParams:{itemId:s}}=U(),u=t_(),{setError:d,getValues:p,handleSubmit:m,watch:f,formState:g,setValue:v}=u,{isSubmitting:b,showMsgToCheckCaptcha:j,signUp:O,sendSMSOTP:w}=JC(),x=(e=>{const t=(e=>{const[t,n]=(0,r.useState)(ek(e));return(0,r.useEffect)((()=>{const t=()=>n(ek(e));return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e]),t})(">=large"),n=e&&t,i=An(n?"https://static-fe.payments-amazon.com/checkout.js":void 0),[a,o]=Ze("/amazon_pay/get_checkout_payload",n_,r_);(0,r.useEffect)((()=>{n&&(Ue()||Be(),a({item_id:e}))}),[n,a,e]);const c="error"===i;return(0,r.useEffect)((()=>{(c||o.error)&&Ee.log(Zd("buyer_sign_up:body:amazon_pay_button",{errorDetails:tk(c,o.error)}))}),[c,o.error]),"loading"===i||o.loading?{loading:!0}:n&&!c&&o.data?o:null})(s),[P,E]=(0,r.useState)(!1),[_,S]=hw(),[C,k]=(0,r.useState)(null);Yd({key:YE,getValues:()=>{const e=p(),{password:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,nk);return{uuid:$n(),value:n}},enabled:g.isDirty}),Qs(ck);const N=e=>{Ee.log(St(yt.Mercari,e,{location:ck}))};if((0,r.useEffect)((()=>{s&&t({id:s})}),[s]),(0,r.useEffect)((()=>{s&&i&&Ee.log(_t(ck))}),[s,i]),(0,r.useEffect)((()=>{const e=c_();e&&Object.entries(e).forEach((e=>{let[t,n]=e;v(t,n,{shouldDirty:!0})})),Qn(YE)}),[v]),(0,r.useEffect)((()=>{(0,he.UR)(he.ij.REGISTERED_CAMPAIGN_SOURCE_COOKIE_KEY,{domain:(0,he.C4)(),path:"/",secure:!0})})),!s)return(0,h.jsx)(y,{});if(n||null!=x&&x.loading)return(0,h.jsx)(Fi,{});if(!i)return 404===(null==a?void 0:a.status)?(0,h.jsx)(y,{}):(0,h.jsx)(Yu,{});const I=o&&!u.watch("phoneNumberCheckbox");return(0,h.jsx)(X,{"location-0":ck,children:(0,h.jsxs)(Jc.Op,ak(ak({},u),{},{children:[(0,h.jsx)(X,{"location-1":"body",extraParams:{authMethod:le.qR.AUTH_METHOD_EMAIL},children:(0,h.jsx)(FE,{itemData:i,children:(0,h.jsxs)("form",{onSubmit:m((e=>{k(null),O(e,{onError(e){N(e)},onFieldError(e,t){d(e,{message:t},{shouldFocus:!0})},onGenericError(e){k(e)},onSuccess(){E(!0)}})})),noValidate:!0,children:[(0,h.jsx)(gS,{currentStep:1,hideMFA:I}),(0,h.jsx)(eP,{titleLabel:e("signup-purchase:heading")}),(0,h.jsx)($_,{itemData:i}),(0,h.jsx)(QC,{}),(0,h.jsxs)(Zx,{borderBottom:!0,children:[(0,h.jsx)(lk,{level:2,titleType:"section",titleLabel:e("signup-purchase:personalInformation.stepOneTitle")}),(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:e("signup-purchase:personalInformation.subtitle")}),C&&(0,h.jsx)(zl,{className:"mer-spacing-y-24",error:C,scrollIntoView:!0}),(null==x?void 0:x.data)&&(0,h.jsx)(X,{"location-2":"amazon_pay_button",children:(0,h.jsx)(z_,{payload:x.data,price:i.price})}),(0,h.jsx)(sS,{})]}),(0,h.jsxs)(Zx,{children:[(0,h.jsx)(ec.b,{level:2,titleType:"section",titleLabel:e("signup-purchase:registerShippingAddress.heading"),className:"mer-spacing-b-24"}),(0,h.jsx)($S,{})]}),(0,h.jsx)(fC,{className:"mer-spacing-t-32 mer-spacing-b-4"}),(0,h.jsx)(La._,{type:"caption",color:"secondary",className:"mer-spacing-b-4",children:e("signup-purchase:summary.terms.account")}),(0,h.jsx)(Js,{className:"mer-spacing-b-40"}),j&&(0,h.jsx)($s,{errorMessage:e("authCommon:error.captchaNotChecked")}),(0,h.jsx)(nP,{action:Ln.VerificationChallenge,className:"mer-spacing-b-24"}),(0,h.jsx)(tP,{fluid:!0,intent:"secondary",loading:b,"data-testid":"confirm-button","location-3":"confirm_button",children:(0,h.jsx)("button",{type:"submit",disabled:b,children:e(I?"signup-purchase:next":"signup-purchase:confirmTelephoneNumber")})})]})})}),(0,h.jsx)(oa.W,ak({"body-text":e("authCommon:error.networkConnectionError"),visible:!!_,variant:"error",duration:"long","data-testid":"network-error-snackbar",onClose:()=>S(void 0)},_)),(0,h.jsx)(Zp,{title:f("phoneNumber"),description:e("signup-purchase:phoneNumberConfirmation.description"),visible:P,onConfirm:async()=>{k(null),w({onError(e){N(e),E(!1)},onFieldError(e,t){d(e,{message:t},{shouldFocus:!0})},onGenericError(e){k(e)},onSuccess(){l("/signup/purchase/mfa",{state:mw({bodyText:e("signup:sms.snackbarMessage")})})}})},onCancel:()=>E(!1),screenName:ck})]}))})};function uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uk(Object(n),!0).forEach((function(t){pk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mk(Object(n),!0).forEach((function(t){fk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gk=e=>{let{backURL:t,screenName:n="phone_number_verification"}=e;const{t:i}=(0,c.B)(["signup","authCommon"]),{signupState:{registerId:a,method:o,ivCode:s,optIn:u,amazonCheckoutSessionId:d,paymentDescriptor:m,gender:f},authenticationState:{challengeId:g}}=ra(),{createOIDCSession:v}=Nr(),{navigate:b}=(0,_r.f)(),[y,j]=hw(),[O,w]=(0,r.useState)(!1),[x,P]=(0,r.useState)(!1),[E,_]=(0,r.useState)(null),S=d?qC:ck,C=(()=>{const{signupState:{registerId:e},authenticationState:{challengeId:t}}=ra(),[n]=Ze("".concat(fe(),"/register_sms_confirmations/phone"),void 0,{withFlowSessionID:!0,withAccessToken:!0}),[r]=wd();return t?()=>r({challengeId:t,otpDeliveryMethod:cs.x5.OTP_DELIVERY_METHOD_PHONE}):()=>{const t=new FormData;return t.append("id",e),n(t)}})(),k=(()=>{const{signupState:{registerId:e,ivCode:t},authenticationState:n,shippingAddress:r,saveAuthenticationState:i}=ra(),[a]=Ze("".concat(fe(),"/register_sms_confirmations/finish"),void 0,{withAccessToken:!0,encodeToFormData:!0,withFlowSessionID:!0}),[o]=xd(),[c]=Pr(),[l]=Er(),[s]=bd(),[u]=Pu(),[d]=T_(),{challengeId:p}=n;return p?async e=>{let{acr:a}=n;if(a===$i.SingleFactor){const n=await o({challengeId:p,otp:e});if(n.error||!n.data)return n;a=$i.MultiFactor,t&&(await c(n.data.poa)).data&&await s({iv_code:t})}r&&await d(o_(r)),await l();const m=await u({challengeId:p});return m.error||!m.data?(i(dk(dk({},n),{},{acr:a})),m):{loading:!1,data:{poa:m.data.poa,userId:Uu(m.data.subjectId)}}}:async t=>{const n=await a({id:e,captcha:t});return n.error||!n.data?n:(r&&await d(o_(r)),{loading:!1,data:{poa:n.data.poa,userId:String(n.data.id)}})}})(),N=zu();return(0,r.useEffect)((()=>{a||g||b(null!=t?t:"/signup")}),[t,b,a,g]),Qs(n,o),a||g?(0,h.jsxs)(X,{"location-0":n,children:[(0,h.jsx)(cc,{titleLabel:i("signup:sms.heading")}),(0,h.jsx)(Yp,{handlePhoneCall:async()=>{_(null);const{error:e,data:t}=await C();e?_(e):t&&(j({bodyText:i("authCommon:waitForPhoneCallOtp")}),P(!1))},onSubmit:async(e,t)=>{w(!0),null==t||t.preventDefault(),_(null);const r=await k(e.authNumber);if(We(r))return w(!1),Ee.log(St(o,r.error,{location:n})),void _(r.error);await N({userId:r.data.userId,method:o,ivCode:s,optIn:u,amazonCheckoutSessionId:d,paymentDescriptor:m,gender:f,location:"".concat(S,":user_mfa_registration")}),v(r.data.poa,o)},otpCodeLength:4,apiError:E,method:o,screenName:n,isSubmitting:O,callDialogVisible:x,onCloseCallDialog:()=>P(!1)}),(0,h.jsxs)("div",{children:[(0,h.jsx)(La._,{bold:!0,className:"mer-spacing-b-24",children:i("signup:sms.noteForSMSNotReceived")}),(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)(La._,{children:i("signup:sms.sendPhoneCallDescription")}),(0,h.jsx)(p.j,{fluid:!0,intent:"secondary","data-testid":"submit-phone",className:"mer-spacing-t-8",onClick:()=>P(!0),children:(0,h.jsx)("button",{type:"button",children:i("signup:sms.sendPhoneCallButton")})})]}),(0,h.jsxs)("div",{className:"mer-spacing-b-24",children:[(0,h.jsx)(La._,{children:i("signup:sms.enterPhoneNumberDescription")}),(0,h.jsx)(p.j,{fluid:!0,intent:"secondary",className:"mer-spacing-t-8",children:(0,h.jsx)(l.N_,{to:"/signup/phone/",children:i("signup:sms.enterPhoneNumberButton")})})]}),(0,h.jsx)(La._,{children:(0,h.jsx)(qc.x,{i18nKey:"signup:sms.noteForConfirmSMSSetting",components:{settingLink:(0,h.jsx)(Mt,{href:"".concat("https://help.jp.mercari.com","/guide/articles/248/")})}})})]}),(0,h.jsx)(oa.W,hk({"data-testid":"confirmation-snackbar",visible:!!y,onClose:()=>j(void 0)},y))]}):null},vk=()=>{const{t:e,ready:t}=(0,c.B)(["signup","authCommon"]),{signupState:{registerId:n,method:i,phoneNumber:a},authenticationState:{challengeId:o}}=ra(),{navigate:l}=(0,_r.f)(),{urlSearchParams:{itemId:s,amazonCheckoutSessionId:u}}=U();(0,r.useEffect)((()=>{n||o||l(u?"/signup/amazon_pay":s?"/signup/purchase":"/signup")}),[u,s,l,n,o]);const d=(()=>{const{signupState:{registerId:e},authenticationState:{challengeId:t},saveSignupState:n}=ra(),[r]=Ze("".concat(fe(),"/register_sms_confirmations/set_phone_number"),void 0,{withFlowSessionID:!0,withAccessToken:!0}),[i]=Od();return t?e=>(n({phoneNumber:e}),i({challengeId:t,phoneNumber:e})):t=>{n({phoneNumber:t});const i=new FormData;return i.append("id",String(e)),i.append("phone_number",t),r(i)}})(),p=(()=>{const{signupState:{registerId:e},authenticationState:{challengeId:t}}=ra(),[n]=Ze("".concat(fe(),"/register_sms_confirmations/sms"),void 0,{withFlowSessionID:!0,withAccessToken:!0}),[r]=wd();return t?()=>r({challengeId:t,otpDeliveryMethod:cs.x5.OTP_DELIVERY_METHOD_SMS}):()=>{const t=new FormData;return t.append("id",String(e)),n(t)}})(),[m,f]=(0,r.useState)(null);return n||o?t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(cc,{titleLabel:e("signup:phone.heading")}),(0,h.jsx)(La._,{className:"mer-spacing-b-24",children:e("signup:phone.description")}),(0,h.jsx)(cm,{apiError:m,onConfirmPhoneDialog:async t=>{f(null);const{error:n}=await d(t);if(n)return f(n),void Ee.log(St(i,n,{location:"phone_number_verification"}));const{error:r}=await p();if(r)return void f(r);const a={state:mw({bodyText:e("signup:sms.snackbarMessage")})};l(u?"/signup/purchase/amazon_pay/mfa":s?"/signup/purchase/mfa":"/signup/confirmation/sms",a)},dialogDescription:e("signup:phone.confirmationDialog.description"),method:i,defaultPhoneNumber:a,showReasonGuide:!0})]}):(0,h.jsx)(Fi,{}):null},bk=()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(vS,{currentStep:3}),(0,h.jsx)(gk,{backURL:"/signup/purchase/amazon_pay",screenName:"buyer_sign_up_amazon_phone_number_verification"})]}),yk=()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(gS,{currentStep:2}),(0,h.jsx)(gk,{backURL:"/signup/purchase",screenName:"buyer_sign_up_phone_number_verification"})]});function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jk(Object(n),!0).forEach((function(t){wk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xk=Qc.Ik({name:vs,email:ps,ivCode:bs}),Pk=e=>(0,$c.u)(xk,{errorMap:Kl(e,js(e))}),Ek=()=>{const{t:e}=(0,c.B)("signup"),{navigate:t}=(0,_r.f)(),{signupState:{name:n,email:i,ivCode:a,accessToken:o,method:l,optIn:s},saveSignupState:u}=(0,r.useContext)(na),[d,m]=(()=>{const[e,t]=Ze("".concat(fe(),"/register_sms_confirmations/start"),void 0,{withFlowSessionID:!0,withAccessToken:!0});return[t=>{const n=new FormData;return Object.entries(t).forEach((e=>{let[t,r]=e;n.append(t,r)})),n.set("iv_cert",me.current.ivCert||Re()),e(n)},t]})();(0,r.useEffect)((()=>{l!==yt.Google&&l!==yt.Facebook||o||t("/signup")}),[o,l,t]),Qs("sign_up_email",l);const f=(0,Jc.mN)({resolver:Pk(e),defaultValues:{email:i,name:n,ivCode:a}});return(0,h.jsx)(fd,{children:(0,h.jsx)(X,{"location-0":"sign_up_email",children:(0,h.jsx)(Jc.Op,Ok(Ok({},f),{},{children:(0,h.jsxs)("form",{onSubmit:f.handleSubmit((async e=>{var n;u(e);const r={email:e.email,name:e.name,register_method:l,token:o||"",iv_code:e.ivCode},i=await d(r);null!==(n=i.data)&&void 0!==n&&n.id&&(u({registerId:String(i.data.id)}),t("/signup/identification")),i.error&&Ee.log(St(l,i.error,{location:"sign_up_email"}))})),children:[(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsx)(pd,{email:i,className:"mer-spacing-b-24"}),(0,h.jsx)(md,{className:"mer-spacing-b-24"}),(0,h.jsx)(hd,{className:"mer-spacing-b-24"}),(0,h.jsx)(od,{className:"mer-spacing-b-24",isOptIn:s,onOptInChange:e=>{u({optIn:e})}})]}),m.error&&(0,h.jsx)(zl,{className:"mer-spacing-b-24",error:m.error}),(0,h.jsx)(p.j,{fluid:!0,intent:"primary",children:(0,h.jsx)("button",{"data-testid":"submit",type:"submit",children:e("signup:email.continueButton")})})]})}))})})},_k=()=>{(()=>{const[e,t]=(0,l.ok)(),{navigate:n}=(0,_r.f)();(0,r.useEffect)((()=>{if(e.has("params"))return;const r=Jn("oidcParams");if(!r)return void n("/",{replace:!0});const i=Jn("campaignSource");e.append("params",r),i&&e.append("campaignSource",i);const a=Jn("acrValues");a&&e.append("acr_values",a);const o=Jn("nonce");o&&e.append("nonce",o),t(e,{replace:!0}),Qn("oidcParams"),Qn("campaignSource")}),[n,e,t]),Yd({key:"oidcParams",getValues:()=>e.get("params")}),Yd({key:"campaignSource",getValues:()=>e.get("campaignSource")}),Yd({key:"acrValues",getValues:()=>e.get("acr_values")}),Yd({key:"nonce",getValues:()=>e.get("nonce")})})();const{ready:e,t}=(0,c.B)(["signup","authCommon"]);return e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Nn,{title:t("authCommon:meta.title.signup"),description:t("authCommon:meta.description.signup")}),(0,h.jsxs)(s.BV,{children:[(0,h.jsx)(s.qh,{path:"/",element:(0,h.jsx)(ZP,{})}),(0,h.jsx)(s.qh,{path:"email",element:(0,h.jsx)(Fc,{children:(0,h.jsx)(CP,{})})}),(0,h.jsx)(s.qh,{path:"social",element:(0,h.jsx)(Ek,{})}),(0,h.jsx)(s.qh,{path:"identification",element:(0,h.jsx)(NE,{})}),(0,h.jsx)(s.qh,{path:"phone",element:(0,h.jsx)(vk,{})}),(0,h.jsx)(s.qh,{path:"confirmation/sms",element:(0,h.jsx)(gk,{})}),(0,h.jsx)(s.qh,{path:"purchase",element:(0,h.jsx)(sk,{})}),(0,h.jsx)(s.qh,{path:"purchase/mfa",element:(0,h.jsx)(yk,{})}),(0,h.jsx)(s.qh,{path:"purchase/amazon_pay",element:(0,h.jsx)(YC,{})}),(0,h.jsx)(s.qh,{path:"purchase/amazon_pay/mfa",element:(0,h.jsx)(bk,{})}),(0,h.jsx)(s.qh,{path:"int",element:(0,h.jsx)(ZP,{internationalAuth:!0})}),(0,h.jsx)(s.qh,{path:"int/country_and_language",element:(0,h.jsx)(cP,{})}),(0,h.jsx)(s.qh,{path:"int/age_verification",element:(0,h.jsx)(Gx,{})}),(0,h.jsx)(s.qh,{path:"int/identification",element:(0,h.jsx)(NE,{internationalAuth:!0})}),(0,h.jsx)(s.qh,{path:"int/email",element:(0,h.jsx)(Fc,{children:(0,h.jsx)(CP,{internationalAuth:!0})})}),(0,h.jsx)(s.qh,{path:"int/email/verify",element:(0,h.jsx)(hm,{children:(0,h.jsx)(RP,{})})}),(0,h.jsx)(s.qh,{path:"int/email/edit",element:(0,h.jsx)(qP,{})}),(0,h.jsx)(s.qh,{path:"*",element:(0,h.jsx)(y,{})})]})]}):(0,h.jsx)(Fi,{})},Sk=()=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s.BV,{children:(0,h.jsx)(s.qh,{element:(0,h.jsx)(aa,{}),children:(0,h.jsx)(s.qh,{path:"/",element:(0,h.jsx)($j,{})})})})}),Ck=()=>{const{urlSearchParams:{error:e}}=U(),{navigate:t}=(0,_r.f)(),n=Pi();return(0,r.useEffect)((()=>{if(!n)return void t("/signin",{state:{error:"NoSession"}},{persist:!1});const{url:r}=(e=>{const{origin:t,params:n}=e,r=encodeURIComponent(n);return{url:"/".concat(t,"?params=").concat(r),encodedParams:r}})(n);e?t(r,{state:{error:e}},{persist:!1}):t(r)}),[n,t,e]),(0,h.jsx)(h.Fragment,{})};var kk,Nk,Ik=n(9052);function Ak(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Dk=j.Ay.div(kk||(kk=Ak(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),zk=(0,j.Ay)(Ik.T)(Nk||(Nk=Ak(["\n  height: 64px;\n  width: 64px;\n"]))),Tk="sign_up_with_line_consent_mercari",Fk=e=>{let{onClick:t,onCancel:n}=e;const{t:r,i18n:{language:i}}=(0,c.B)("line");return Qs(Tk,yt.LINE),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Nn,{title:r("line:callback_success.metaTitle"),noIndex:!0}),(0,h.jsx)(X,{"location-0":Tk,children:(0,h.jsxs)(X,{"location-1":"body",children:[(0,h.jsxs)(Dk,{className:"mer-spacing-b-32",children:[(0,h.jsx)(zk,{className:"mer-spacing-r-6",titleLabel:"line"}),(0,h.jsx)(ec.b,{align:"center",titleLabel:r("line:callback_success.title")})]}),(0,h.jsx)(La._,{className:"mer-spacing-b-16",children:(0,h.jsx)(qc.x,{i18nKey:"line:callback_success.text1",components:{mercariPrivacyLink:(0,h.jsx)(Mt,{href:m.I1.privacy(i)})}})}),(0,h.jsx)(La._,{className:"mer-spacing-b-16",children:(0,h.jsx)(qc.x,{i18nKey:"line:callback_success.text2",components:{linePrivacyLink:(0,h.jsx)(Mt,{href:"https://line.me/ja/terms/policy/"})}})}),(0,h.jsx)(Vv.v,{type:"row",variant:"display","data-testid":"english-tips-box",className:"mer-spacing-b-24",text:(0,h.jsxs)(_p._,{variant:"unordered",children:[(0,h.jsx)(Ep.V,{children:r("line:callback_success.item1")}),(0,h.jsx)(Ep.V,{className:"mer-spacing-l-16",children:r("line:callback_success.item2")}),(0,h.jsx)(Ep.V,{children:r("line:callback_success.item3")})]})}),(0,h.jsx)(Wt,{onClick:t,"location-2":"grant_consent_button",className:"mer-spacing-b-16",fluid:!0,children:(0,h.jsx)("button",{type:"button",children:r("line:callback_success.agree")})}),(0,h.jsx)(Wt,{onClick:n,"location-2":"cancel_consent_button",intent:"flat",fluid:!0,children:(0,h.jsx)("button",{type:"button",children:r("line:callback_success.cancel")})})]})})]})},Mk=()=>{const{ready:e,t}=(0,c.B)(["line","signin"]),{idToken:n,lineSession:i}=function(){const[e,t]=(0,l.ok)(),n=(0,r.useRef)(null),i=(0,r.useRef)(null),{navigate:a}=(0,_r.f)(),o=(0,r.useCallback)((e=>e?(i.current=e,!0):(a("/signin",{state:{error:"NoSession"}}),!1)),[a]),c=(0,r.useCallback)((n=>{e.delete("id_token"),e.append("params",n.params),t(e,{replace:!0})}),[e,t]);return(0,r.useEffect)((()=>{var t;if(n.current&&i.current)return;const r=Pi();if(!o(r))return;const l=null!==(t=e.get("id_token"))&&void 0!==t?t:n.current;l?(n.current=l,c(r)):a("/".concat(r.origin))}),[e,t,a,o,c]),{idToken:n.current,lineSession:i.current}}(),{navigate:a}=(0,_r.f)(),[o,s]=pt(),[u,d]=ut("/jp/v1/authentication/line/userinfo/get",{withAccessToken:!0,regenerateAccessToken:!0}),{saveSignupState:p}=(0,r.useContext)(na),{setHasAuthenticatedToken:m}=Ae(),{createOIDCSession:f}=Nr(),g=function(e,t){if(!t)return!1;const n=new URLSearchParams(t).get("state");if(!n)return!1;try{var r;const e=JSON.parse(window.atob(n));return null==e||null===(r=e.path)||void 0===r?void 0:r.includes("/line/linkage/complete")}catch(e){return!1}}(0,null==i?void 0:i.params),v=(e,t)=>{var n;a(e,{state:{error:"Unauthenticated",message:null==t||null===(n=t.errors[0])||void 0===n?void 0:n.message}})},b=async()=>{if(!n||!i)return;const{data:e,error:t}=await o({id_token:n,iv_cert:me.current.ivCert||Re()});var r,c,l;t?"Mercari\\MultiFactorAuthentication\\Exception\\TriggeredExceptionViaSMS"===(null!==(r=null==t||null===(c=t.errors[0].details)||void 0===c||null===(c=c.errorInfo)||void 0===c?void 0:c.reason)&&void 0!==r?r:"")?(m(!0),a("/signin/mfa",{state:{accessToken:n,message:null===(l=t.errors[0].details)||void 0===l||null===(l=l.localizedMessage)||void 0===l?void 0:l.message,method:yt.LINE}})):v("/".concat(i.origin),t):null!=e&&e.poa&&(Ee.log(Rr(yt.LINE)),await Dr({uid:zr(e.id),event:"login_complete"}),f(e.poa,yt.LINE))};return(0,r.useEffect)((()=>{(async()=>{if(!n||!i||d.loading)return;if("signup"===i.origin&&!g)return;const{data:e,error:r}=await u({id_token:n});r?v("/".concat(i.origin),r):null!=e&&e.isMercariUser?await b():g?(p({name:null==e?void 0:e.displayName,email:null==e?void 0:e.email,accessToken:n,method:yt.LINE}),a("/signup/social")):a("/".concat(i.origin),{state:{error:"Unauthenticated",title:t("signin:error.confirmAccount"),message:t("signin:error.noLINE")}})})()}),[n,i]),!e||!n||!i||s.loading||d.loading||"signin"===(null==i?void 0:i.origin)||g&&"signup"===(null==i?void 0:i.origin)?(0,h.jsx)(Fi,{}):(0,h.jsx)(Fk,{onClick:async()=>{if(!n||!i)return;const{data:e,error:t}=await u({id_token:n});t?v("/".concat(i.origin),t):null!=e&&e.isMercariUser?await b():(p({name:null==e?void 0:e.displayName,email:null==e?void 0:e.email,accessToken:n,method:yt.LINE}),a("/signup/social"))},onCancel:()=>{i&&a("/".concat(i.origin))}})},Lk=()=>(0,h.jsxs)(s.BV,{children:[(0,h.jsx)(s.qh,{path:"/callback_success",element:(0,h.jsx)(Mk,{})}),(0,h.jsx)(s.qh,{path:"/callback_error",element:(0,h.jsx)(Ck,{})}),(0,h.jsx)(s.qh,{path:"*",element:(0,h.jsx)(y,{})})]});var Rk,Vk=n(7178),Bk=n(2537),Uk=n(636),Hk=n(9187);const Kk=(0,j.DU)(Rk||(Rk=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  ","\n  ","\n  ","\n  ","\n\n  :root {\n    --grid-layout-gutter: 24px;\n    --grid-layout-inset: 16px;\n    --grid-layout-page-padding-top: 40px;\n    --grid-layout-page-padding-bottom: 64px;\n    --grid-layout-page-padding-horizontal: 36px;\n\n    "," {\n      --grid-layout-gutter: 16px;\n      --grid-layout-page-padding-top: 24px;\n      --grid-layout-page-padding-bottom: 40px;\n      --grid-layout-page-padding-horizontal: 16px;\n    }\n  }\n\n  body {\n    padding:\n      env(safe-area-inset-top, 20px)\n      env(safe-area-inset-right, 20px)\n      env(safe-area-inset-bottom, 20px)\n      env(safe-area-inset-left, 20px);\n  }\n  .grecaptcha-badge {\n    visibility: hidden;\n  }\n"])),Bk,Vk,Uk,Hk,Z.$_.small);i.T({dsn:"https://5b5234588d444833a7c1b9f8a00dd79f@o118814.ingest.sentry.io/4505147299725312",environment:"production",initialScope:e=>(e.setTag("uuid",$n()),e),beforeSend:e=>{var t;return"debug"===e.level||null!==(t=e.tags)&&void 0!==t&&t.errorId||Math.random()<.1?e:null},allowUrls:[/mercari\.com/,/dev5s\.com/,/mercdn\.net/,/connect\.facebook\.net/,/appleid\.cdn-apple\.com/,/apis\.google\.com/]}),"serviceWorker"in navigator&&new u.JK("/sw.js").register(),(async()=>{await ka.A.use(Ia.A).use(Na.A).use(Aa.r9).init(za(za({},Ma),{},{backend:{loadPath:"".concat("https://web-auth-assets-v1.mercdn.net/","locales/").concat("release-v0.247.0","/{{lng}}/{{ns}}.json"),crossDomain:!0,withCredentials:!(0,P.K)(),requestOptions:{cache:"default",mode:"cors",credentials:(0,P.K)()?"same-origin":"include"}},detection:{order:["path"]}})),ka.A})();const qk=()=>{const{i18n:{language:e},t}=(0,c.B)(),n=(0,m.DT)(e);return(0,r.useEffect)((()=>{var e;e={is_web:"web"===me.current.deviceType},window.dataLayer=window.dataLayer||[],window.dataLayer.push(e)}),[]),(0,h.jsx)(l.Kd,{children:(0,h.jsx)(H,{children:(0,h.jsx)(pa,{children:(0,h.jsx)(De,{children:(0,h.jsx)(mr,{children:(0,h.jsx)(Gn,{scoreBasedKey:"6LfQo3kpAAAAANe23ex3Li8MwhAJsanSaGKeQRrO",checkboxBasedKey:"6LfLrncpAAAAALVHuZbn5itpKLK4hz5cMueNMahC",children:(0,h.jsxs)(ya,{children:[(0,h.jsx)(Kk,{}),(0,h.jsx)(a.tH,{fallback:(0,h.jsx)(Cn,{}),children:(0,h.jsx)(X,{children:(0,h.jsxs)(Ca,{children:[(0,h.jsx)(Nn,{lang:e,title:t("meta.title.home"),description:t("meta.description.home")}),(0,h.jsx)(s.BV,{children:(0,h.jsx)(s.qh,{path:"*",element:(0,h.jsx)(_o,{children:(0,h.jsx)(Eo,{language:e,children:(0,h.jsxs)(s.BV,{children:[(0,h.jsxs)(s.qh,{path:n,children:[(0,h.jsxs)(s.qh,{element:(0,h.jsx)(aa,{}),children:[(0,h.jsx)(s.qh,{path:"signup/*",element:(0,h.jsx)(_k,{})}),(0,h.jsx)(s.qh,{path:"webauth/line/*",element:(0,h.jsx)(Lk,{})})]}),(0,h.jsx)(s.qh,{element:(0,h.jsx)(Wi,{}),children:(0,h.jsx)(s.qh,{element:(0,h.jsx)(Or,{}),children:(0,h.jsx)(s.qh,{path:"signin/*",element:(0,h.jsx)(Rx,{})})})}),(0,h.jsx)(s.qh,{path:"password/*",element:(0,h.jsx)(mu,{})}),(0,h.jsx)(s.qh,{path:"email/*",element:(0,h.jsx)(Kc,{})}),(0,h.jsx)(s.qh,{path:"verify/*",element:(0,h.jsx)(Sk,{})}),(0,h.jsx)(s.qh,{path:"error/*",element:(0,h.jsx)(Wc,{})}),(0,h.jsx)(s.qh,{path:"recovery/*",element:(0,h.jsx)(nO,{})}),!1,(0,h.jsx)(s.qh,{index:!0,element:(0,h.jsx)(y,{})})]}),(0,h.jsx)(s.qh,{path:"*",element:(0,h.jsx)(y,{})})]})})})})})]})})})]})})})})})})})},Gk=document.getElementById("root");if(!Gk)throw new Error("Root element not found, Application cannot be rendered. Please check index.html");(0,o.createRoot)(Gk).render((0,h.jsx)(r.StrictMode,{children:(0,h.jsx)(qk,{})}))},5603:(e,t,n)=>{n.d(t,{$_:()=>a,O4:()=>l,PQ:()=>o,fE:()=>c});var r=n(3602),i=n(9135);const a={">=large":"@media ".concat(r.i.query.pc),"<large":"@media ".concat(r.i.query.sp),large:"@media ".concat(r.i.query.large),medium:"@media ".concat(r.i.query.medium),small:"@media ".concat(r.i.query.small)},o={primary:"".concat(i.i.border.normal," solid var(--alias-color-border-primary-default)")},c={header:2,loadingScrim:1e4,porygonToolbar:1},l=()=>{var e;return"undefined"!=typeof document&&null!==(e=document)&&void 0!==e&&null!==(e=e.body)&&void 0!==e&&e.classList.contains("dark-theme")?"dark":"light"}},7357:(e,t,n)=>{n.d(t,{C4:()=>c,OQ:()=>o,Ri:()=>l,TV:()=>s,UR:()=>u,ij:()=>a});var r=n(5075),i=n(8865);const a={CAMPAIGN_SOURCE_COOKIE_KEY:"campaignSource",REGISTERED_CAMPAIGN_SOURCE_COOKIE_KEY:"registeredCampaignSource"},o={SRSLTID:"srsltid"},c=()=>window.location.host.split(".").slice(-2).join("."),l=e=>{try{return i.A.get(e)||null}catch(e){return r.Cp(e),null}},s=(e,t,n)=>{try{i.A.set(e,t,n)}catch(e){r.Cp(e)}},u=(e,t)=>{try{i.A.remove(e,t)}catch(e){r.Cp(e)}}},3056:(e,t,n)=>{n.d(t,{K:()=>r});const r=()=>!0},9061:(e,t,n)=>{n.d(t,{Kd:()=>l,O4:()=>a,gI:()=>c,uH:()=>o,zf:()=>s});var r=n(7357),i=n(3056);let a=function(e){return e.Japan="JP",e.HongKong="HK",e.Taiwan="TW",e}({});const o=[a.Japan,a.HongKong,a.Taiwan],c=()=>{var e,t;return(0,i.K)()?(0,r.Ri)("country_code"):null!==(e=null!==(t=(0,r.Ri)("devCountryCode"))&&void 0!==t?t:(0,r.Ri)("country_code"))&&void 0!==e?e:a.Japan},l=e=>[a.Japan].includes(e),s={[a.Japan]:{callingCode:"+81",minimumDigits:10,maximumDigits:11,placeholder:"09000012345"},[a.Taiwan]:{callingCode:"+886",minimumDigits:8,maximumDigits:9,placeholder:"921234567"},[a.HongKong]:{callingCode:"+852",minimumDigits:8,maximumDigits:9,placeholder:"51234567"}}},8600:(e,t,n)=>{n.d(t,{AT:()=>a,HJ:()=>s,Mm:()=>l,Z0:()=>u,l9:()=>o,sw:()=>i,zk:()=>r});const r=()=>"undefined"!=typeof window?window:void 0;let i=function(e){return e.Japanese="ja",e.English="en",e.TraditionalChinese="zh-TW",e}({}),a=function(e){return e.Japanese="",e.English="English",e.TraditionalChinese="",e}({});const o={jpy:{id:"8a4d21fa-93dc-49be-b148-9dd3fa77054e",text:"JPY"},twd:{id:"26ad58e3-4099-411e-8b56-21afcf804db4",text:"TWD"},hkd:{id:"a56f37c1-2c8c-4d74-b0c7-2e4e2b0f2d53",text:"HKD"},usd:{id:"4c25b93f-bfd4-45ed-8833-7c226224119e",text:"USD"}},c={zhTW:{text:i.TraditionalChinese,id:"345d40d8-cb18-4f48-9a7f-ff86503b9f0a"},ja:{text:i.Japanese,id:"8fa32c81-be48-45e3-9b4e-3de8b873338c"},en:{text:i.English,id:"6a2274e1-799f-4f57-a9f3-4ab824ce0079"}};let l=function(e){return e.Language="d907fb57-12ec-46e5-89c6-9d050fa30670",e.Currency="0a4a287d-d08a-44d4-b14f-63bc66067bd5",e}({});const s=e=>{switch(e){case"cimode":case i.Japanese:return c.ja;case i.TraditionalChinese:return c.zhTW;case i.English:return c.en;default:throw new Error("Unexpected language code: ".concat(e))}},u=()=>{var e,t,n;return t=(null===(e=r())||void 0===e?void 0:e.location.pathname)||"",(null===(n=/^\/[a-zA-Z]{2}(-[a-zA-Z]{2})?(?=\/|$)/.exec(t))||void 0===n?void 0:n[0].replace("/",""))||i.Japanese}},3134:(e,t,n)=>{n.d(t,{DT:()=>o,EP:()=>l,I1:()=>p,Uh:()=>a,Uw:()=>d,eW:()=>s,oS:()=>h,t7:()=>m});var r=n(9061),i=n(8600);const a="https://www.recaptcha.net/recaptcha";function o(e){return"ja"===e?"/":"/".concat(e,"/")}const c={[r.O4.Taiwan]:"https://tw.mercari.com/zh-hant/",[r.O4.HongKong]:"https://hk.mercari.com/zh-hant/"};function l(){const e=(0,r.gI)();if(e)return c[e]}function s(e,t){if(t){const{protocol:e}=new URL(t);if("https:"!==e)return}const n=function(e){if(e){const{origin:t}=new URL(e);return t}return"https://jp.mercari.com"}(t);return n+o(e)}function u(e,t,n){const r=Object.entries(t).map((t=>{let[r,i]=t;return[r,(t,r)=>{var a;const o=r&&i.availableLanguages.includes(r)?r:i.availableLanguages[0],c=i.availableLanguages.includes(t)?t:o,l=null!==(a=null==n?void 0:n[c])&&void 0!==a?a:"/".concat(c);return"".concat(e).concat(l).concat(i.path)}]}));return Object.fromEntries(r)}const d=u("https://about.mercari.com",{about:{availableLanguages:[i.sw.Japanese,i.sw.English],path:"/"}},{ja:""}),p=u("https://static.jp.mercari.com",{privacy:{availableLanguages:[i.sw.English,i.sw.Japanese],path:"/privacy"},globalPrivacy:{availableLanguages:[i.sw.English,i.sw.Japanese,i.sw.TraditionalChinese],path:"/global_privacy"},tos:{availableLanguages:[i.sw.Japanese],path:"/tos"},tokutei:{availableLanguages:[i.sw.Japanese],path:"/tokutei"}},{ja:""}),m=u("https://help.jp.mercari.com",{tosList:{availableLanguages:[i.sw.Japanese],path:"/guide/categories/tos_list/"},reasonForPhoneNumberVerification:{availableLanguages:[i.sw.Japanese],path:"/guide/articles/244/"},didNotReceiveSms:{availableLanguages:[i.sw.Japanese],path:"/guide/articles/248/"},aboutRegisteringPersonalInfo:{availableLanguages:[i.sw.Japanese],path:"/guide/articles/423/"},supportedBrowser:{availableLanguages:[i.sw.Japanese],path:"/guide/articles/1098/"},passkeyGuide:{availableLanguages:[i.sw.Japanese],path:"/guide/articles/1103/"},howToRegisterAnotherPasskey:{availableLanguages:[i.sw.Japanese],path:"/guide/articles/1483/"},howToUseAmazonPay:{availableLanguages:[i.sw.Japanese],path:"/guide/articles/1503/"},loginInquiries:{availableLanguages:[i.sw.Japanese],path:"/inquiry/101/"}},{ja:""}),h=u("https://gl.help.jp.mercari.com",{helpCenterHome:{availableLanguages:[i.sw.Japanese,i.sw.TraditionalChinese,i.sw.English],path:"/"},howToLogInLogOut:{availableLanguages:[i.sw.Japanese,i.sw.TraditionalChinese,i.sw.English],path:"/guide/articles/gl_0005/"},cannotLogIn:{availableLanguages:[i.sw.Japanese,i.sw.TraditionalChinese,i.sw.English],path:"/guide/articles/gl_0006/"},phoneNumberVerificationReasonAndProcedure:{availableLanguages:[i.sw.Japanese,i.sw.TraditionalChinese,i.sw.English],path:"/guide/articles/gl_0027/"},didNotReceiveSms:{availableLanguages:[i.sw.Japanese,i.sw.TraditionalChinese,i.sw.English],path:"/guide/articles/gl_0028/"},howToChangeAuthenticatedPhoneNumer:{availableLanguages:[i.sw.Japanese,i.sw.TraditionalChinese,i.sw.English],path:"/guide/articles/gl_0029/"},lostAndChangedPhone:{availableLanguages:[i.sw.Japanese,i.sw.TraditionalChinese,i.sw.English],path:"/guide/articles/gl_0030/"},termsOfService:{availableLanguages:[i.sw.Japanese,i.sw.TraditionalChinese,i.sw.English],path:"/guide/categories/tos_list/"}})}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,exports:{}};return a[e].call(n.exports,n,n.exports,c),n.exports}c.m=a,e=[],c.O=(t,n,r,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,r,i]=e[u],o=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(c.O).every((e=>c.O[e](n[l])))?n.splice(l--,1):(o=!1,i<a&&(a=i));if(o){e.splice(u--,1);var s=r();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,r,i]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);c.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var o=2&r&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,c.d(i,a),i},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>(823===e?"porygon-toolbar":e)+"."+{818:"ee53c4b61c0628dfc8f8",823:"3f9a4adc8c8eb9437c2e"}[e]+".js",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i="mercari-web-auth-jp-screen:",c.l=(e,t,n,a)=>{if(r[e])r[e].push(t);else{var o,l;if(void 0!==n)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var d=s[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==i+n){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.setAttribute("data-webpack",i+n),o.src=e),r[e]=[t];var p=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var i=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="https://web-auth-assets-v1.mercdn.net/",(()=>{var e={792:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var a=c.p+c.u(t),o=new Error;c.l(a,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,o,l]=n,s=0;if(a.some((t=>0!==e[t]))){for(r in o)c.o(o,r)&&(c.m[r]=o[r]);if(l)var u=l(c)}for(t&&t(n);s<a.length;s++)i=a[s],c.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return c.O(u)},n=self.webpackChunkmercari_web_auth_jp_screen=self.webpackChunkmercari_web_auth_jp_screen||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),c.nc=void 0;var l=c.O(void 0,[74],(()=>c(5201)));l=c.O(l)})();